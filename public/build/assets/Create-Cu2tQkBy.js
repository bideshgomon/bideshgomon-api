import{u as M,r as h,w as V,b as j,B as D,c as n,f,g as r,i as S,j as y,a as e,l as k,k as m,m as A,n as d,p,o as i,F as c,q as g,t as l,v as w,x as b}from"./vendor-DUGSf9MG.js";import{_ as z}from"./AuthenticatedLayout-DdydbOmd.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";const N={class:"py-6 sm:py-12"},T={class:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8"},O={class:"mb-6 sm:mb-8"},U={class:"p-6 sm:p-8 space-y-6"},F=["value"],H={key:0,class:"mt-2 text-sm text-red-600"},L=["min"],R={key:0,class:"mt-2 text-sm text-red-600"},Y={key:0,class:"mt-2 text-sm text-red-600"},P=["value"],E={key:0,class:"mt-2 text-sm text-red-600"},W={key:0,class:"mt-2 text-sm text-red-600"},I={key:0,class:"border border-gray-200 rounded-lg p-6 bg-gray-50"},J={key:1,class:"border border-indigo-200 rounded-lg bg-indigo-50"},$={class:"p-4 border-b border-indigo-200 bg-indigo-100"},G={class:"flex items-start gap-2"},K={class:"text-base font-semibold text-indigo-900"},Q={class:"text-sm text-indigo-700 mt-1"},X={class:"p-4 space-y-4"},Z={key:0},ee={class:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2"},te={class:"space-y-2"},se={class:"flex-1 min-w-0"},oe={class:"text-sm font-medium text-gray-900"},re={key:0,class:"text-sm text-gray-600 mt-1"},ne={class:"inline-block mt-1 text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded"},ie={key:1},le={class:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2"},ae={class:"space-y-2"},de={class:"flex-1 min-w-0"},ue={class:"text-sm font-medium text-gray-900"},me={key:0,class:"text-sm text-gray-600 mt-1"},pe={class:"inline-block mt-1 text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded"},ce={class:"bg-yellow-50 border border-yellow-200 rounded-lg p-3"},fe={class:"flex gap-2"},ge={class:"text-sm text-yellow-800"},xe={class:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end"},ye=["disabled"],be={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},Be={__name:"Create",props:{countries:Array},setup(v){const C=v,o=M({destination_country_id:"",intended_travel_date:"",duration_days:"",profession:"",user_notes:""}),q=["Student","Job Holder","Business Person"],a=h(null),x=h(!1);V([()=>o.destination_country_id,()=>o.profession],async([u,t])=>{if(u&&t){x.value=!0;try{const s=await j.get(route("profile.tourist-visa.requirements",u),{params:{profession:t}});a.value=s.data.requirements}catch(s){console.error("Error fetching requirements:",s),a.value=null}finally{x.value=!1}}else a.value=null});const _=D(()=>{if(!o.destination_country_id)return"";const u=C.countries.find(t=>t.id===o.destination_country_id);return u?u.name:""}),B=()=>{o.post(route("api.tourist-visa-applications.store"),{preserveScroll:!0,onSuccess:u=>{}})};return(u,t)=>(i(),n(c,null,[f(r(S),{title:"Create Tourist Visa Application"}),f(z,null,{default:y(()=>[e("div",N,[e("div",T,[e("div",O,[f(r(k),{href:u.route("profile.tourist-visa.index"),class:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4"},{default:y(()=>[...t[5]||(t[5]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),m(" Back to Applications ",-1)])]),_:1},8,["href"]),t[6]||(t[6]=e("h1",{class:"text-2xl sm:text-3xl font-bold text-gray-900"},"New Tourist Visa Application",-1)),t[7]||(t[7]=e("p",{class:"mt-2 text-sm text-gray-600"},"Fill in the details for your tourist visa application",-1))]),e("form",{onSubmit:A(B,["prevent"]),class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},[e("div",U,[e("div",null,[t[9]||(t[9]=e("label",{for:"destination_country_id",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Destination Country "),e("span",{class:"text-red-500"},"*")],-1)),p(e("select",{id:"destination_country_id","onUpdate:modelValue":t[0]||(t[0]=s=>r(o).destination_country_id=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:""},[t[8]||(t[8]=e("option",{value:""},"Select destination country",-1)),(i(!0),n(c,null,g(v.countries,s=>(i(),n("option",{key:s.id,value:s.id},l(s.name),9,F))),128))],512),[[w,r(o).destination_country_id]]),r(o).errors.destination_country_id?(i(),n("p",H,l(r(o).errors.destination_country_id),1)):d("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{for:"intended_travel_date",class:"block text-sm font-medium text-gray-700 mb-2"}," Intended Travel Date ",-1)),p(e("input",{type:"date",id:"intended_travel_date","onUpdate:modelValue":t[1]||(t[1]=s=>r(o).intended_travel_date=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",min:new Date().toISOString().split("T")[0]},null,8,L),[[b,r(o).intended_travel_date]]),r(o).errors.intended_travel_date?(i(),n("p",R,l(r(o).errors.intended_travel_date),1)):d("",!0),t[11]||(t[11]=e("p",{class:"mt-2 text-sm text-gray-500"}," When do you plan to travel? (Optional) ",-1))]),e("div",null,[t[12]||(t[12]=e("label",{for:"duration_days",class:"block text-sm font-medium text-gray-700 mb-2"}," Duration (Days) ",-1)),p(e("input",{type:"number",id:"duration_days","onUpdate:modelValue":t[2]||(t[2]=s=>r(o).duration_days=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",min:"1",max:"365",placeholder:"e.g., 14"},null,512),[[b,r(o).duration_days]]),r(o).errors.duration_days?(i(),n("p",Y,l(r(o).errors.duration_days),1)):d("",!0),t[13]||(t[13]=e("p",{class:"mt-2 text-sm text-gray-500"}," How many days do you plan to stay? (Optional, max 365 days) ",-1))]),e("div",null,[t[15]||(t[15]=e("label",{for:"profession",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Profession "),e("span",{class:"text-red-500"},"*")],-1)),p(e("select",{id:"profession","onUpdate:modelValue":t[3]||(t[3]=s=>r(o).profession=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:""},[t[14]||(t[14]=e("option",{value:""},"Select your profession",-1)),(i(),n(c,null,g(q,s=>e("option",{key:s,value:s},l(s),9,P)),64))],512),[[w,r(o).profession]]),r(o).errors.profession?(i(),n("p",E,l(r(o).errors.profession),1)):d("",!0),t[16]||(t[16]=e("p",{class:"mt-2 text-sm text-gray-500"}," Your profession affects visa requirements and processing ",-1))]),e("div",null,[t[17]||(t[17]=e("label",{for:"user_notes",class:"block text-sm font-medium text-gray-700 mb-2"}," Additional Notes ",-1)),p(e("textarea",{id:"user_notes","onUpdate:modelValue":t[4]||(t[4]=s=>r(o).user_notes=s),rows:"6",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Any additional information or special requirements..."},null,512),[[b,r(o).user_notes]]),r(o).errors.user_notes?(i(),n("p",W,l(r(o).errors.user_notes),1)):d("",!0),t[18]||(t[18]=e("p",{class:"mt-2 text-sm text-gray-500"}," Add any additional information that might be helpful for your application (Optional, max 5000 characters) ",-1))]),x.value?(i(),n("div",I,[...t[19]||(t[19]=[e("div",{class:"flex items-center justify-center"},[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),e("span",{class:"ml-3 text-gray-600"},"Loading requirements...")],-1)])])):a.value?(i(),n("div",J,[e("div",$,[e("div",G,[t[21]||(t[21]=e("svg",{class:"w-5 h-5 text-indigo-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e("div",null,[e("h3",K," Required Documents for "+l(_.value),1),e("p",Q,[t[20]||(t[20]=m(" Based on your profession: ",-1)),e("strong",null,l(r(o).profession),1)])])])]),e("div",X,[a.value.mandatory_documents&&a.value.mandatory_documents.length>0?(i(),n("div",Z,[e("h4",ee,[t[22]||(t[22]=e("span",{class:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-800"}," Required ",-1)),e("span",null,"Mandatory Documents ("+l(a.value.mandatory_documents.length)+")",1)]),e("ul",te,[(i(!0),n(c,null,g(a.value.mandatory_documents,s=>(i(),n("li",{key:s.id,class:"flex items-start gap-3 bg-white rounded-lg p-3 border border-gray-200"},[t[23]||(t[23]=e("svg",{class:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",se,[e("p",oe,l(s.name),1),s.specific_notes?(i(),n("p",re,l(s.specific_notes),1)):d("",!0),e("span",ne,l(s.category),1)])]))),128))])])):d("",!0),a.value.optional_documents&&a.value.optional_documents.length>0?(i(),n("div",ie,[e("h4",le,[t[24]||(t[24]=e("span",{class:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800"}," Optional ",-1)),e("span",null,"Recommended Documents ("+l(a.value.optional_documents.length)+")",1)]),e("ul",ae,[(i(!0),n(c,null,g(a.value.optional_documents,s=>(i(),n("li",{key:s.id,class:"flex items-start gap-3 bg-white rounded-lg p-3 border border-gray-200"},[t[25]||(t[25]=e("svg",{class:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",de,[e("p",ue,l(s.name),1),s.specific_notes?(i(),n("p",me,l(s.specific_notes),1)):d("",!0),e("span",pe,l(s.category),1)])]))),128))])])):d("",!0),e("div",ce,[e("div",fe,[t[26]||(t[26]=e("svg",{class:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),e("p",ge," These requirements are specific to "+l(_.value)+" for tourist visa applications. Make sure to prepare all mandatory documents before proceeding. ",1)])])])])):d("",!0),t[27]||(t[27]=e("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[e("div",{class:"flex"},[e("svg",{class:"h-5 w-5 text-blue-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-blue-800"},"What happens next?"),e("div",{class:"mt-2 text-sm text-blue-700"},[e("ul",{class:"list-disc list-inside space-y-1"},[e("li",null,'Your application will be saved as "Pending"'),e("li",null,"You can edit or submit it later from the applications list"),e("li",null,"Once submitted, our team will review and process your application"),e("li",null,"You'll receive updates via email and notifications")])])])])],-1))]),e("div",xe,[f(r(k),{href:u.route("profile.tourist-visa.index"),class:"inline-flex items-center justify-center px-6 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors"},{default:y(()=>[...t[28]||(t[28]=[m(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:r(o).processing,class:"inline-flex items-center justify-center px-6 py-2 bg-indigo-600 border border-transparent rounded-lg text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[r(o).processing?(i(),n("svg",be,[...t[29]||(t[29]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):d("",!0),m(" "+l(r(o).processing?"Creating...":"Create Application"),1)],8,ye)])],32)])])]),_:1})],64))}};export{Be as default};
