import{r as m,c as n,f as i,g as r,i as $,j as g,a as e,k as d,t as l,p as k,D as V,x as q,o,F as b,q as S,v as z,n as c,z as B,l as p,y,A}from"./vendor-DUGSf9MG.js";import{A as D}from"./AdminLayout-CRJ9cJUr.js";import{ap as j,H as F,s as w,E as L,l as M,aq as I,ar as U,ag as O}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const Q={class:"py-8"},E={class:"px-4 sm:px-6 lg:px-8 mb-8"},K={class:"sm:flex sm:items-center sm:justify-between"},R={class:"mt-4 sm:mt-0"},T={class:"px-4 sm:px-6 lg:px-8 mb-8"},G={class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},H={class:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm"},J={class:"flex items-center justify-between"},W={class:"text-3xl font-bold text-gray-900"},X={class:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm"},Y={class:"flex items-center justify-between"},Z={class:"text-3xl font-bold text-gray-900"},ee={class:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm"},te={class:"flex items-center justify-between"},se={class:"text-3xl font-bold text-gray-900"},ae={class:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm"},re={class:"flex items-center justify-between"},le={class:"text-3xl font-bold text-gray-900"},ie={class:"px-4 sm:px-6 lg:px-8 mb-6"},oe={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6"},de={class:"flex flex-col lg:flex-row gap-4"},ne={class:"flex-1"},ge={class:"relative"},ce={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},xe={class:"lg:w-48"},pe=["value"],ue={class:"px-4 sm:px-6 lg:px-8"},me={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden"},ye={class:"overflow-x-auto"},ve={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},he={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},fe={class:"px-6 py-4 whitespace-nowrap"},be={class:"flex items-center"},we={class:"flex-shrink-0 h-10 w-10 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg flex items-center justify-center"},_e={class:"ml-4"},ke={class:"text-sm font-medium text-gray-900 dark:text-white"},Se={class:"text-xs text-gray-500 dark:text-gray-400"},Ae={class:"px-6 py-4"},je={class:"text-sm text-gray-900 dark:text-white font-medium"},Ce={class:"text-xs text-gray-500 dark:text-gray-400"},Ne={class:"px-6 py-4 whitespace-nowrap"},Pe={class:"flex items-center"},$e={class:"text-sm text-gray-900 dark:text-white"},Ve={class:"text-xs text-gray-500 dark:text-gray-400"},qe={class:"px-6 py-4 whitespace-nowrap"},ze={class:"px-6 py-4 whitespace-nowrap"},Be={class:"flex items-center"},De={class:"text-sm text-gray-900 dark:text-white font-medium"},Fe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Le={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Me={key:0},Ie={colspan:"7",class:"px-6 py-12 text-center"},Ue={key:0,class:"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-4 py-3 sm:px-6"},Oe={class:"flex flex-1 justify-between sm:hidden"},Qe={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},Ee={class:"text-sm text-gray-700 dark:text-gray-300"},Ke={class:"font-medium"},Re={class:"font-medium"},Te={class:"font-medium"},Ge={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},at={__name:"Index",props:{applications:Object,stats:Object,filters:Object},setup(s){const v=s,u=m(v.filters?.search||""),x=m(v.filters?.status||"all"),h=m(v.filters?.service_module_id||"all");m(!1);const C=[{value:"all",label:"All Status",color:"gray"},{value:"pending",label:"Pending",color:"yellow"},{value:"quoted",label:"Quoted",color:"blue"},{value:"accepted",label:"Accepted",color:"green"},{value:"in_progress",label:"In Progress",color:"indigo"},{value:"completed",label:"Completed",color:"green"},{value:"cancelled",label:"Cancelled",color:"red"}],N=_=>({pending:"bg-yellow-100 text-yellow-800",quoted:"bg-blue-100 text-blue-800",accepted:"bg-green-100 text-green-800",in_progress:"bg-indigo-100 text-indigo-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[_]||"bg-gray-100 text-gray-800",f=()=>{A.get("/admin/service-applications",{search:u.value,status:x.value!=="all"?x.value:void 0,service_module_id:h.value!=="all"?h.value:void 0},{preserveState:!0,preserveScroll:!0})},P=()=>{u.value="",x.value="all",h.value="all",A.get("/admin/service-applications",{},{preserveState:!0})};return(_,t)=>(o(),n(b,null,[i(r($),{title:"Service Applications - Plugin System"}),i(D,null,{default:g(()=>[e("div",Q,[e("div",E,[e("div",K,[t[3]||(t[3]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," Service Applications "),e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," Universal Plugin System - Manage all 38 service applications ")],-1)),e("div",R,[e("button",{onClick:f,class:"inline-flex items-center gap-x-2 rounded-lg bg-indigo-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 transition-all"},[i(r(j),{class:"h-5 w-5"}),t[2]||(t[2]=d(" Refresh ",-1))])])])]),e("div",T,[e("div",G,[e("div",H,[e("div",J,[e("div",null,[t[4]||(t[4]=e("p",{class:"text-sm font-medium text-yellow-600"},"Pending",-1)),e("p",W,l(s.stats?.pending||0),1)]),i(r(F),{class:"h-12 w-12 text-yellow-400"})])]),e("div",X,[e("div",Y,[e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm font-medium text-blue-600"},"Quoted",-1)),e("p",Z,l(s.stats?.quoted||0),1)]),i(r(w),{class:"h-12 w-12 text-blue-400"})])]),e("div",ee,[e("div",te,[e("div",null,[t[6]||(t[6]=e("p",{class:"text-sm font-medium text-indigo-600"},"In Progress",-1)),e("p",se,l(s.stats?.in_progress||0),1)]),i(r(j),{class:"h-12 w-12 text-indigo-400"})])]),e("div",ae,[e("div",re,[e("div",null,[t[7]||(t[7]=e("p",{class:"text-sm font-medium text-green-600"},"Completed",-1)),e("p",le,l(s.stats?.completed||0),1)]),i(r(L),{class:"h-12 w-12 text-green-400"})])])])]),e("div",ie,[e("div",oe,[e("div",de,[e("div",ne,[t[8]||(t[8]=e("label",{for:"search",class:"sr-only"},"Search",-1)),e("div",ge,[e("div",ce,[i(r(M),{class:"h-5 w-5 text-gray-400"})]),k(e("input",{id:"search","onUpdate:modelValue":t[0]||(t[0]=a=>u.value=a),onKeyup:V(f,["enter"]),type:"text",placeholder:"Search by application number, user, service...",class:"block w-full rounded-lg border-0 py-2.5 pl-10 pr-3 text-gray-900 dark:text-white dark:bg-gray-700 ring-1 ring-inset ring-gray-300 dark:ring-gray-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm"},null,544),[[q,u.value]])])]),e("div",xe,[k(e("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>x.value=a),onChange:f,class:"block w-full rounded-lg border-0 py-2.5 text-gray-900 dark:text-white dark:bg-gray-700 ring-1 ring-inset ring-gray-300 dark:ring-gray-600 focus:ring-2 focus:ring-indigo-600 sm:text-sm"},[(o(),n(b,null,S(C,a=>e("option",{key:a.value,value:a.value},l(a.label),9,pe)),64))],544),[[z,x.value]])]),e("button",{onClick:P,class:"inline-flex items-center justify-center gap-x-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2.5 text-sm font-semibold text-gray-700 dark:text-gray-300 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-600 transition-all"}," Reset ")])])]),e("div",ue,[e("div",me,[e("div",ye,[e("table",ve,[t[12]||(t[12]=e("thead",{class:"bg-gray-50 dark:bg-gray-900"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3.5 text-left text-xs font-semibold text-gray-900 dark:text-white uppercase tracking-wider"}," Application "),e("th",{scope:"col",class:"px-6 py-3.5 text-left text-xs font-semibold text-gray-900 dark:text-white uppercase tracking-wider"}," Service "),e("th",{scope:"col",class:"px-6 py-3.5 text-left text-xs font-semibold text-gray-900 dark:text-white uppercase tracking-wider"}," User "),e("th",{scope:"col",class:"px-6 py-3.5 text-left text-xs font-semibold text-gray-900 dark:text-white uppercase tracking-wider"}," Status "),e("th",{scope:"col",class:"px-6 py-3.5 text-left text-xs font-semibold text-gray-900 dark:text-white uppercase tracking-wider"}," Quotes "),e("th",{scope:"col",class:"px-6 py-3.5 text-left text-xs font-semibold text-gray-900 dark:text-white uppercase tracking-wider"}," Created "),e("th",{scope:"col",class:"relative px-6 py-3.5"},[e("span",{class:"sr-only"},"Actions")])])],-1)),e("tbody",he,[(o(!0),n(b,null,S(s.applications.data,a=>(o(),n("tr",{key:a.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},[e("td",fe,[e("div",be,[e("div",we,[i(r(w),{class:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})]),e("div",_e,[e("div",ke,l(a.application_number),1),e("div",Se," ID: "+l(a.id),1)])])]),e("td",Ae,[e("div",je,l(a.service_module?.name||"N/A"),1),e("div",Ce,l(a.service_module?.slug||"N/A"),1)]),e("td",Ne,[e("div",Pe,[i(r(I),{class:"h-5 w-5 text-gray-400 mr-2"}),e("div",null,[e("div",$e,l(a.user?.name||"N/A"),1),e("div",Ve,l(a.user?.email||"N/A"),1)])])]),e("td",qe,[e("span",{class:B(["inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",N(a.status)])},l(a.status),3)]),e("td",ze,[e("div",Be,[i(r(U),{class:"h-5 w-5 text-gray-400 mr-2"}),e("span",De,l(a.quotes_count||0),1)])]),e("td",Fe,l(new Date(a.created_at).toLocaleDateString()),1),e("td",Le,[i(r(p),{href:`/admin/service-applications/${a.id}`,class:"inline-flex items-center gap-x-1.5 text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors"},{default:g(()=>[i(r(O),{class:"h-4 w-4"}),t[9]||(t[9]=d(" View ",-1))]),_:1},8,["href"])])]))),128)),!s.applications.data||s.applications.data.length===0?(o(),n("tr",Me,[e("td",Ie,[i(r(w),{class:"mx-auto h-12 w-12 text-gray-400"}),t[10]||(t[10]=e("h3",{class:"mt-2 text-sm font-semibold text-gray-900 dark:text-white"},"No applications found",-1)),t[11]||(t[11]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Get started by creating a service application. ",-1))])])):c("",!0)])])]),s.applications.data&&s.applications.data.length>0?(o(),n("div",Ue,[e("div",Oe,[s.applications.prev_page_url?(o(),y(r(p),{key:0,href:s.applications.prev_page_url,class:"relative inline-flex items-center rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"},{default:g(()=>[...t[13]||(t[13]=[d(" Previous ",-1)])]),_:1},8,["href"])):c("",!0),s.applications.next_page_url?(o(),y(r(p),{key:1,href:s.applications.next_page_url,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"},{default:g(()=>[...t[14]||(t[14]=[d(" Next ",-1)])]),_:1},8,["href"])):c("",!0)]),e("div",Qe,[e("div",null,[e("p",Ee,[t[15]||(t[15]=d(" Showing ",-1)),e("span",Ke,l(s.applications.from),1),t[16]||(t[16]=d(" to ",-1)),e("span",Re,l(s.applications.to),1),t[17]||(t[17]=d(" of ",-1)),e("span",Te,l(s.applications.total),1),t[18]||(t[18]=d(" applications ",-1))])]),e("div",null,[e("nav",Ge,[s.applications.prev_page_url?(o(),y(r(p),{key:0,href:s.applications.prev_page_url,class:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 focus:z-20"},{default:g(()=>[...t[19]||(t[19]=[e("span",{class:"sr-only"},"Previous",-1),e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule":"evenodd"})],-1)])]),_:1},8,["href"])):c("",!0),s.applications.next_page_url?(o(),y(r(p),{key:1,href:s.applications.next_page_url,class:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 focus:z-20"},{default:g(()=>[...t[20]||(t[20]=[e("span",{class:"sr-only"},"Next",-1),e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule":"evenodd"})],-1)])]),_:1},8,["href"])):c("",!0)])])])])):c("",!0)])])])]),_:1})],64))}};export{at as default};
