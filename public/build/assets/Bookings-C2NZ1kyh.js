import{r as u,c as d,f as w,g as C,i as L,j as V,a as t,t as o,p as c,D as T,x as k,o as a,F as g,q as S,v as A,n as x,z as P,l as B,k as H,y as I,A as D}from"./vendor-DUGSf9MG.js";import{A as M}from"./AdminLayout-CRJ9cJUr.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const O={class:"py-12"},j={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},$={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4 p-6"},z={class:"bg-blue-50 p-4 rounded-lg"},G={class:"text-xl font-bold text-blue-900"},K={class:"bg-yellow-50 p-4 rounded-lg"},R={class:"text-xl font-bold text-yellow-900"},q={class:"bg-indigo-50 p-4 rounded-lg"},E={class:"text-xl font-bold text-indigo-900"},J={class:"bg-green-50 p-4 rounded-lg"},Q={class:"text-xl font-bold text-green-900"},W={class:"bg-gray-50 p-4 rounded-lg"},X={class:"text-xl font-bold text-gray-900"},Y={class:"bg-red-50 p-4 rounded-lg"},Z={class:"text-xl font-bold text-red-900"},tt={class:"bg-emerald-50 p-4 rounded-lg"},et={class:"text-xl font-bold text-emerald-900"},st={class:"bg-orange-50 p-4 rounded-lg"},ot={class:"text-xl font-bold text-orange-900"},lt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},at={class:"p-6"},dt={class:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4"},nt=["value"],it={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},rt={class:"p-6"},ut={key:0,class:"text-center py-12 text-gray-500"},ct={key:1,class:"overflow-x-auto"},xt={class:"min-w-full divide-y divide-gray-200"},pt={class:"bg-white divide-y divide-gray-200"},gt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},mt={class:"px-6 py-4 whitespace-nowrap"},yt={class:"text-sm font-medium text-gray-900"},vt={class:"text-sm text-gray-500"},ht={class:"px-6 py-4"},ft={class:"text-sm font-medium text-gray-900"},_t={class:"text-sm text-gray-500"},bt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},wt={class:"text-xs text-gray-400"},Ct={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},kt={key:0},St={class:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900"},At={class:"px-6 py-4 whitespace-nowrap"},Pt={class:"px-6 py-4 whitespace-nowrap"},Vt={class:"px-6 py-4 whitespace-nowrap text-sm"},Bt={class:"flex gap-2"},Dt=["onClick"],Nt=["onClick"],Ut=["onClick"],Lt={key:2,class:"mt-6 flex justify-center gap-2"},Gt={__name:"Bookings",props:{bookings:Object,stats:Object,hotels:Array,filters:Object},setup(l){const i=l,m=u(i.filters.search||""),y=u(i.filters.hotel_id||""),v=u(i.filters.status||""),h=u(i.filters.payment_status||""),f=u(i.filters.date_from||""),_=u(i.filters.date_to||""),r=()=>{D.get(route("admin.hotel-bookings.index"),{search:m.value,hotel_id:y.value,status:v.value,payment_status:h.value,date_from:f.value,date_to:_.value},{preserveState:!0,preserveScroll:!0})},b=(n,e)=>{D.post(route("admin.hotel-bookings.update-status",n),{status:e})},N=n=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",checked_in:"bg-green-100 text-green-800",checked_out:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"})[n]||"bg-gray-100 text-gray-800",U=n=>({pending:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",partially_paid:"bg-blue-100 text-blue-800",refunded:"bg-purple-100 text-purple-800"})[n]||"bg-gray-100 text-gray-800";return(n,e)=>(a(),d(g,null,[w(C(L),{title:"Hotel Bookings - Admin"}),w(M,null,{default:V(()=>[t("div",O,[t("div",j,[t("div",F,[e[14]||(e[14]=t("div",{class:"p-6 border-b border-gray-200"},[t("h2",{class:"text-2xl font-bold text-gray-800"},"Hotel Bookings Management"),t("p",{class:"text-gray-600 mt-1"},"Monitor and manage all hotel reservations")],-1)),t("div",$,[t("div",z,[e[6]||(e[6]=t("div",{class:"text-blue-600 text-xs font-medium"},"Total",-1)),t("div",G,o(l.stats.total_bookings),1)]),t("div",K,[e[7]||(e[7]=t("div",{class:"text-yellow-600 text-xs font-medium"},"Pending",-1)),t("div",R,o(l.stats.pending),1)]),t("div",q,[e[8]||(e[8]=t("div",{class:"text-indigo-600 text-xs font-medium"},"Confirmed",-1)),t("div",E,o(l.stats.confirmed),1)]),t("div",J,[e[9]||(e[9]=t("div",{class:"text-green-600 text-xs font-medium"},"Active",-1)),t("div",Q,o(l.stats.active),1)]),t("div",W,[e[10]||(e[10]=t("div",{class:"text-gray-600 text-xs font-medium"},"Completed",-1)),t("div",X,o(l.stats.completed),1)]),t("div",Y,[e[11]||(e[11]=t("div",{class:"text-red-600 text-xs font-medium"},"Cancelled",-1)),t("div",Z,o(l.stats.cancelled),1)]),t("div",tt,[e[12]||(e[12]=t("div",{class:"text-emerald-600 text-xs font-medium"},"Revenue",-1)),t("div",et,"৳"+o(Number(l.stats.total_revenue).toLocaleString()),1)]),t("div",st,[e[13]||(e[13]=t("div",{class:"text-orange-600 text-xs font-medium"},"Pending Pay",-1)),t("div",ot,"৳"+o(Number(l.stats.pending_payment).toLocaleString()),1)])])]),t("div",lt,[t("div",at,[t("div",dt,[c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>m.value=s),onKeyup:T(r,["enter"]),type:"text",placeholder:"Search by booking ID or guest...",class:"rounded-lg border-gray-300"},null,544),[[k,m.value]]),c(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>y.value=s),onChange:r,class:"rounded-lg border-gray-300"},[e[15]||(e[15]=t("option",{value:""},"All Hotels",-1)),(a(!0),d(g,null,S(l.hotels,s=>(a(),d("option",{key:s.id,value:s.id},o(s.name),9,nt))),128))],544),[[A,y.value]]),c(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>v.value=s),onChange:r,class:"rounded-lg border-gray-300"},[...e[16]||(e[16]=[t("option",{value:""},"All Status",-1),t("option",{value:"pending"},"Pending",-1),t("option",{value:"confirmed"},"Confirmed",-1),t("option",{value:"checked_in"},"Checked In",-1),t("option",{value:"checked_out"},"Checked Out",-1),t("option",{value:"cancelled"},"Cancelled",-1)])],544),[[A,v.value]]),c(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>h.value=s),onChange:r,class:"rounded-lg border-gray-300"},[...e[17]||(e[17]=[t("option",{value:""},"All Payments",-1),t("option",{value:"pending"},"Pending",-1),t("option",{value:"paid"},"Paid",-1),t("option",{value:"partially_paid"},"Partially Paid",-1),t("option",{value:"refunded"},"Refunded",-1)])],544),[[A,h.value]]),c(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>f.value=s),onChange:r,type:"date",placeholder:"From Date",class:"rounded-lg border-gray-300"},null,544),[[k,f.value]]),c(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>_.value=s),onChange:r,type:"date",placeholder:"To Date",class:"rounded-lg border-gray-300"},null,544),[[k,_.value]])])])]),t("div",it,[t("div",rt,[l.bookings.data.length===0?(a(),d("div",ut," No bookings found ")):(a(),d("div",ct,[t("table",xt,[e[19]||(e[19]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Booking ID"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Guest"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Hotel"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Dates"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Guests"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Amount"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Payment"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),t("tbody",pt,[(a(!0),d(g,null,S(l.bookings.data,s=>(a(),d("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",gt," #"+o(s.booking_number),1),t("td",mt,[t("div",yt,o(s.guest_name),1),t("div",vt,o(s.guest_email),1)]),t("td",ht,[t("div",ft,o(s.hotel?.name),1),t("div",_t,o(s.room?.room_type),1)]),t("td",bt,[t("div",null,"In: "+o(s.check_in_date),1),t("div",null,"Out: "+o(s.check_out_date),1),t("div",wt,o(s.total_nights)+" nights",1)]),t("td",Ct,[t("div",null,"Adults: "+o(s.adults),1),s.children>0?(a(),d("div",kt,"Children: "+o(s.children),1)):x("",!0)]),t("td",St," ৳"+o(Number(s.total_amount).toLocaleString()),1),t("td",At,[t("span",{class:P([N(s.status),"px-2 py-1 rounded text-xs font-medium"])},o(s.status.replace("_"," ").toUpperCase()),3)]),t("td",Pt,[t("span",{class:P([U(s.payment_status),"px-2 py-1 rounded text-xs font-medium"])},o(s.payment_status.replace("_"," ").toUpperCase()),3)]),t("td",Vt,[t("div",Bt,[w(C(B),{href:n.route("admin.hotel-bookings.show",s.id),class:"text-indigo-600 hover:text-indigo-900"},{default:V(()=>[...e[18]||(e[18]=[H(" View ",-1)])]),_:1},8,["href"]),s.status==="pending"?(a(),d("button",{key:0,onClick:p=>b(s.id,"confirmed"),class:"text-green-600 hover:text-green-900"}," Confirm ",8,Dt)):x("",!0),s.status==="confirmed"?(a(),d("button",{key:1,onClick:p=>b(s.id,"checked_in"),class:"text-blue-600 hover:text-blue-900"}," Check In ",8,Nt)):x("",!0),s.status==="checked_in"?(a(),d("button",{key:2,onClick:p=>b(s.id,"checked_out"),class:"text-gray-600 hover:text-gray-900"}," Check Out ",8,Ut)):x("",!0)])])]))),128))])])])),l.bookings.links.length>3?(a(),d("div",Lt,[(a(!0),d(g,null,S(l.bookings.links,(s,p)=>(a(),I(C(B),{key:p,href:s.url,class:P([s.active?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100","px-3 py-2 rounded border"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])):x("",!0)])])])])]),_:1})],64))}};export{Gt as default};
