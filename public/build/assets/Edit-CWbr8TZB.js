import{u as v,y as h,j as y,a as t,f as p,c as d,n as i,g as r,l as c,k as g,o as a,t as m,m as _,p as u,x,v as U,s as k}from"./vendor-DUGSf9MG.js";import{A as V}from"./AdminLayout-CRJ9cJUr.js";import{a5 as T,aa as C,X as S}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const N={class:"px-4 sm:px-6 lg:px-8 py-8"},B={class:"mb-6"},O={key:0,class:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg"},E={class:"flex items-start gap-3"},A={class:"text-sm text-blue-700 dark:text-blue-400 mt-1"},J={class:"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-4"},L={class:"bg-white dark:bg-gray-800 px-4 py-3 rounded-lg shadow-sm ring-1 ring-gray-900/5"},D={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},M={class:"bg-white dark:bg-gray-800 px-4 py-3 rounded-lg shadow-sm ring-1 ring-gray-900/5"},P={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},j={class:"bg-white dark:bg-gray-800 px-4 py-3 rounded-lg shadow-sm ring-1 ring-gray-900/5"},q={class:"mt-1 flex items-center gap-2"},F={key:0,class:"inline-flex items-center gap-1 text-lg font-semibold text-yellow-600 dark:text-yellow-400"},R={key:1,class:"text-lg font-semibold text-green-600 dark:text-green-400"},I={key:2,class:"text-sm text-gray-500 dark:text-gray-400"},$={class:"bg-white dark:bg-gray-800 shadow-sm ring-1 ring-gray-900/5 rounded-lg p-6 space-y-6"},z={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},X={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},G={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},H={key:0,class:"mt-2 mb-3"},K=["src","alt"],Q={key:1,class:"mt-1 text-sm text-red-600 dark:text-red-400"},W={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},Y={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Z={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},ee={class:"border-t border-gray-200 dark:border-gray-700 pt-6"},te={class:"flex items-center gap-2 mb-4"},re={key:0,class:"ml-6"},se={class:"mt-1 relative rounded-md shadow-sm"},oe=["required"],ae={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},de={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},le={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},ie={class:"flex items-center gap-2"},me={class:"flex items-center justify-end gap-3"},ne=["disabled"],ue={key:0},ge={key:1},he={__name:"Edit",props:{template:Object},setup(n){const l=n,s=v({name:l.template.name,slug:l.template.slug,description:l.template.description||"",thumbnail:l.template.thumbnail||"",category:l.template.category,is_premium:l.template.is_premium,price:l.template.price,color_scheme:l.template.color_scheme?JSON.stringify(l.template.color_scheme):"",sections:l.template.sections?JSON.stringify(l.template.sections):"",sort_order:l.template.sort_order,is_active:l.template.is_active}),f=()=>{s.put(route("admin.data.cv-templates.update",l.template.id))},w=b=>new Intl.NumberFormat("en-US").format(b);return(b,e)=>(a(),h(V,null,{default:y(()=>[t("div",N,[t("div",B,[p(r(c),{href:b.route("admin.data.cv-templates.index"),class:"text-sm font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 flex items-center gap-1 mb-4"},{default:y(()=>[p(r(T),{class:"h-4 w-4"}),e[11]||(e[11]=g(" Back to CV Templates ",-1))]),_:1},8,["href"]),e[19]||(e[19]=t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Edit CV Template",-1)),e[20]||(e[20]=t("p",{class:"mt-2 text-sm text-gray-700 dark:text-gray-300"},"Update the CV template details and customization options.",-1)),n.template.user_cvs_count>0?(a(),d("div",O,[t("div",E,[p(r(C),{class:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),t("div",null,[e[14]||(e[14]=t("p",{class:"text-sm font-medium text-blue-900 dark:text-blue-300"},"Template In Use",-1)),t("p",A,[e[12]||(e[12]=g(" This template is currently being used by ",-1)),t("strong",null,m(n.template.user_cvs_count),1),e[13]||(e[13]=g(" user(s). Changes may affect their CVs. ",-1))])])])])):i("",!0),t("div",J,[t("div",L,[e[15]||(e[15]=t("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Downloads",-1)),t("div",D,m(n.template.download_count||0),1)]),t("div",M,[e[16]||(e[16]=t("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Active User CVs",-1)),t("div",P,m(n.template.user_cvs_count||0),1)]),t("div",j,[e[18]||(e[18]=t("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Type",-1)),t("div",q,[n.template.is_premium?(a(),d("span",F,[p(r(S),{class:"h-5 w-5"}),e[17]||(e[17]=g(" Premium ",-1))])):(a(),d("span",R,"Free")),n.template.is_premium?(a(),d("span",I,"(৳"+m(w(n.template.price))+")",1)):i("",!0)])])])]),t("form",{onSubmit:_(f,["prevent"]),class:"space-y-6"},[t("div",$,[t("div",null,[e[21]||(e[21]=t("label",{for:"name",class:"block text-sm font-medium text-gray-900 dark:text-white"},[g("Template Name "),t("span",{class:"text-red-500"},"*")],-1)),u(t("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>r(s).name=o),class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[x,r(s).name]]),r(s).errors.name?(a(),d("p",z,m(r(s).errors.name),1)):i("",!0)]),t("div",null,[e[22]||(e[22]=t("label",{for:"slug",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Slug",-1)),u(t("input",{type:"text",id:"slug","onUpdate:modelValue":e[1]||(e[1]=o=>r(s).slug=o),class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Leave empty to auto-generate"},null,512),[[x,r(s).slug]]),e[23]||(e[23]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"URL-friendly identifier. Auto-generated from name if left empty.",-1)),r(s).errors.slug?(a(),d("p",X,m(r(s).errors.slug),1)):i("",!0)]),t("div",null,[e[24]||(e[24]=t("label",{for:"description",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Description",-1)),u(t("textarea",{id:"description","onUpdate:modelValue":e[2]||(e[2]=o=>r(s).description=o),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[x,r(s).description]]),r(s).errors.description?(a(),d("p",G,m(r(s).errors.description),1)):i("",!0)]),t("div",null,[e[26]||(e[26]=t("label",{for:"thumbnail",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Thumbnail URL",-1)),n.template.thumbnail?(a(),d("div",H,[e[25]||(e[25]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-2"},"Current Thumbnail:",-1)),t("img",{src:n.template.thumbnail,alt:n.template.name,class:"h-32 w-auto rounded border border-gray-300 dark:border-gray-600"},null,8,K)])):i("",!0),u(t("input",{type:"text",id:"thumbnail","onUpdate:modelValue":e[3]||(e[3]=o=>r(s).thumbnail=o),class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"/images/templates/my-template.png"},null,512),[[x,r(s).thumbnail]]),e[27]||(e[27]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"Path or URL to template preview image.",-1)),r(s).errors.thumbnail?(a(),d("p",Q,m(r(s).errors.thumbnail),1)):i("",!0)]),t("div",W,[t("div",null,[e[29]||(e[29]=t("label",{for:"category",class:"block text-sm font-medium text-gray-900 dark:text-white"},[g("Category "),t("span",{class:"text-red-500"},"*")],-1)),u(t("select",{id:"category","onUpdate:modelValue":e[4]||(e[4]=o=>r(s).category=o),class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},[...e[28]||(e[28]=[t("option",{value:""},"Select Category",-1),t("option",{value:"professional"},"Professional",-1),t("option",{value:"creative"},"Creative",-1),t("option",{value:"modern"},"Modern",-1),t("option",{value:"traditional"},"Traditional",-1),t("option",{value:"academic"},"Academic",-1)])],512),[[U,r(s).category]]),r(s).errors.category?(a(),d("p",Y,m(r(s).errors.category),1)):i("",!0)]),t("div",null,[e[30]||(e[30]=t("label",{for:"sort_order",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Sort Order",-1)),u(t("input",{type:"number",id:"sort_order","onUpdate:modelValue":e[5]||(e[5]=o=>r(s).sort_order=o),min:"0",class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[x,r(s).sort_order,void 0,{number:!0}]]),e[31]||(e[31]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"Lower numbers appear first.",-1)),r(s).errors.sort_order?(a(),d("p",Z,m(r(s).errors.sort_order),1)):i("",!0)])]),t("div",ee,[t("div",te,[u(t("input",{type:"checkbox",id:"is_premium","onUpdate:modelValue":e[6]||(e[6]=o=>r(s).is_premium=o),class:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500"},null,512),[[k,r(s).is_premium]]),e[32]||(e[32]=t("label",{for:"is_premium",class:"text-sm font-medium text-gray-900 dark:text-white"},"Premium Template",-1))]),r(s).is_premium?(a(),d("div",re,[e[34]||(e[34]=t("label",{for:"price",class:"block text-sm font-medium text-gray-900 dark:text-white"},[g("Price (BDT) "),t("span",{class:"text-red-500"},"*")],-1)),t("div",se,[e[33]||(e[33]=t("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[t("span",{class:"text-gray-500 dark:text-gray-400 sm:text-sm"},"৳")],-1)),u(t("input",{type:"number",id:"price","onUpdate:modelValue":e[7]||(e[7]=o=>r(s).price=o),min:"0",step:"0.01",class:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white pl-7 focus:border-blue-500 focus:ring-blue-500",required:r(s).is_premium},null,8,oe),[[x,r(s).price,void 0,{number:!0}]])]),r(s).errors.price?(a(),d("p",ae,m(r(s).errors.price),1)):i("",!0)])):i("",!0)]),t("div",null,[e[35]||(e[35]=t("label",{for:"color_scheme",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Color Scheme (JSON)",-1)),u(t("textarea",{id:"color_scheme","onUpdate:modelValue":e[8]||(e[8]=o=>r(s).color_scheme=o),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 font-mono text-sm",placeholder:'{"primary":"#2563EB","secondary":"#64748B"}'},null,512),[[x,r(s).color_scheme]]),e[36]||(e[36]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},'JSON object defining template colors. Example: {"primary":"#2563EB","secondary":"#64748B"}',-1)),r(s).errors.color_scheme?(a(),d("p",de,m(r(s).errors.color_scheme),1)):i("",!0)]),t("div",null,[e[37]||(e[37]=t("label",{for:"sections",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Template Sections (JSON)",-1)),u(t("textarea",{id:"sections","onUpdate:modelValue":e[9]||(e[9]=o=>r(s).sections=o),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 font-mono text-sm",placeholder:'["personal_info","education","experience","skills"]'},null,512),[[x,r(s).sections]]),e[38]||(e[38]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},'JSON array of section identifiers. Example: ["personal_info","education","experience","skills","certifications"]',-1)),r(s).errors.sections?(a(),d("p",le,m(r(s).errors.sections),1)):i("",!0)]),t("div",ie,[u(t("input",{type:"checkbox",id:"is_active","onUpdate:modelValue":e[10]||(e[10]=o=>r(s).is_active=o),class:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500"},null,512),[[k,r(s).is_active]]),e[39]||(e[39]=t("label",{for:"is_active",class:"text-sm font-medium text-gray-900 dark:text-white"},"Active",-1))])]),t("div",me,[p(r(c),{href:b.route("admin.data.cv-templates.index"),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700"},{default:y(()=>[...e[40]||(e[40]=[g(" Cancel ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:r(s).processing,class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},[r(s).processing?(a(),d("span",ue,"Updating...")):(a(),d("span",ge,"Update Template"))],8,ne)])],32)])]),_:1}))}};export{he as default};
