import{r as f,w as N,B as y,O as S,c as n,p as C,a as h,n as r,x as F,z as I,t as b,o as i}from"./vendor-DUGSf9MG.js";import{u as q}from"./useBangladeshFormat-DxO2X-Ux.js";const Y={class:"relative"},z=["id","required","disabled","placeholder"],O=["disabled"],T=["value","min","max","disabled"],P={key:1,class:"mt-1 text-xs text-gray-500"},U={key:0},j={key:1},E={key:2},A={__name:"DateInput",props:{modelValue:String,required:Boolean,disabled:Boolean,min:String,max:String,id:String,placeholder:{type:String,default:"DD/MM/YYYY"}},emits:["update:modelValue"],setup(t,{emit:V}){const s=t,c=V,{formatDateFromISO:o,parseDateToISO:g}=q(),l=f(""),p=f(!1),u=f(!1);N(()=>s.modelValue,a=>{a&&!p.value&&(l.value=o(a))},{immediate:!0});const D=a=>{let e=a.target.value;if(l.value=e,e=e.replace(/[^\d/]/g,""),(e.length===2&&!e.includes("/")||e.length===5&&e.split("/").length===2)&&(e+="/"),l.value=e,e.length===10){const d=g(e);x(d)&&c("update:modelValue",d)}else e===""&&c("update:modelValue","")},k=()=>{if(p.value=!1,l.value){const a=g(l.value);x(a)?(l.value=o(a),c("update:modelValue",a)):l.value=s.modelValue?o(s.modelValue):""}},B=()=>{p.value=!0},x=a=>{if(!a)return!1;const e=new Date(a);return e instanceof Date&&!isNaN(e.getTime())},w=()=>{u.value=!0},M=a=>{const e=a.target.value;e&&(l.value=o(e),c("update:modelValue",e)),u.value=!1},m=y(()=>s.min?o(s.min):""),v=y(()=>s.max?o(s.max):"");return f(null),S(()=>{l.value="",u.value=!1}),(a,e)=>(i(),n("div",Y,[C(h("input",{id:t.id,"onUpdate:modelValue":e[0]||(e[0]=d=>l.value=d),type:"text",required:t.required,disabled:t.disabled,placeholder:t.placeholder,maxlength:"10",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm w-full pr-10",onInput:D,onBlur:k,onFocus:B},null,40,z),[[F,l.value]]),h("button",{type:"button",onClick:w,disabled:t.disabled,class:I(["absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 focus:outline-none",{"cursor-not-allowed opacity-50":t.disabled}])},[...e[2]||(e[2]=[h("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])],10,O),u.value?(i(),n("input",{key:0,type:"date",value:t.modelValue,min:t.min,max:t.max,disabled:t.disabled,onChange:M,onBlur:e[1]||(e[1]=d=>u.value=!1),class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",autofocus:""},null,40,T)):r("",!0),m.value||v.value?(i(),n("p",P,[m.value?(i(),n("span",U,"Min: "+b(m.value),1)):r("",!0),m.value&&v.value?(i(),n("span",j," | ")):r("",!0),v.value?(i(),n("span",E,"Max: "+b(v.value),1)):r("",!0)])):r("",!0)]))}};export{A as _};
