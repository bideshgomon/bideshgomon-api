import{r as y,B as T,y as C,j as A,f as r,a as e,g as m,i as z,c as n,n as c,o as s,z as R,t as d,F as b,q as v,m as D,p as w,v as O,x as j,k as G,A as h}from"./vendor-DUGSf9MG.js";import{_ as I}from"./AuthenticatedLayout-DdydbOmd.js";import{m as _,r as k,p as $}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";const L={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},P={key:0,class:"mb-8 bg-white rounded-lg shadow-md p-6"},E={class:"flex items-center justify-between mb-4"},H={class:"space-y-3"},J={class:"ml-2 text-sm font-medium text-gray-900"},K={key:0},Y={class:"ml-2 text-sm font-medium text-gray-900"},Q={key:1},W={class:"ml-2 text-sm font-medium text-gray-900"},X={key:2,class:"mt-4 p-4 bg-blue-50 rounded-md"},Z={class:"mt-1 text-sm text-blue-700"},ee={key:3,class:"mt-4 p-4 bg-red-50 rounded-md"},te={class:"mt-1 text-sm text-red-700"},se={key:1,class:"mb-8 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg shadow-md p-6 text-white"},oe={class:"space-y-2"},ne={class:"flex items-center"},le={class:"flex items-center"},ae={class:"flex items-center"},de={class:"mb-8 bg-white rounded-lg shadow-md p-6"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ue={class:"flex-1"},re={class:"font-medium text-gray-900"},me={key:0,class:"text-sm text-green-600 mt-1"},ce={key:1,class:"text-sm text-gray-500 mt-1"},ge={key:2,class:"mb-8 bg-white rounded-lg shadow-md p-6"},fe=["value"],xe=["disabled"],pe={key:0},ye={key:1},be={class:"bg-white rounded-lg shadow-md p-6 mb-8"},ve={key:0,class:"space-y-3"},we={class:"flex items-center flex-1"},he={class:"flex-1"},_e={class:"font-medium text-gray-900"},ke={class:"text-sm text-gray-500"},qe={class:"flex items-center mt-1 space-x-4"},Re={class:"text-xs text-gray-400"},De={key:0,class:"text-sm text-red-600 mt-2"},je=["onClick"],Ve={key:1,class:"text-center py-8 text-gray-500"},Se={key:3,class:"bg-white rounded-lg shadow-md p-6"},Be=["disabled"],Me={key:0},Ue={key:1},Ge={__name:"Index",props:{agency:Object,latestRequest:Object,documents:Array,requiredDocumentTypes:Object},setup(l){const g=l,i=y({document_type:"",document_name:"",document:null}),f=y({message:"",document_ids:[]}),x=y(!1),p=y(!1),V=T(()=>g.latestRequest&&(g.latestRequest.status==="pending"||g.latestRequest.status==="under_review")?!1:g.documents.filter(a=>a.status==="pending").length>0),S=a=>{i.value.document=a.target.files[0]},B=()=>{x.value=!0;const a=new FormData;a.append("document",i.value.document),a.append("document_type",i.value.document_type),i.value.document_name&&a.append("document_name",i.value.document_name),h.post(route("agency.verification.upload-document"),a,{onFinish:()=>{x.value=!1,i.value={document_type:"",document_name:"",document:null},document.getElementById("document").value=""}})},M=a=>{confirm("Are you sure you want to delete this document?")&&h.delete(route("agency.verification.delete-document",a))},U=()=>{p.value=!0;const a=g.documents.filter(t=>t.status==="pending").map(t=>t.id);h.post(route("agency.verification.submit"),{message:f.value.message,document_ids:a},{onFinish:()=>{p.value=!1,f.value.message=""}})},F=a=>g.documents.find(t=>t.document_type===a),q=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),N=a=>{if(a===0)return"0 Bytes";const t=1024,o=["Bytes","KB","MB","GB"],u=Math.floor(Math.log(a)/Math.log(t));return Math.round(a/Math.pow(t,u)*100)/100+" "+o[u]};return(a,t)=>(s(),C(I,null,{default:A(()=>[r(m(z),{title:"Agency Verification"}),e("div",L,[t[26]||(t[26]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Agency Verification"),e("p",{class:"mt-2 text-gray-600"},"Upload required documents to get your agency verified and build trust with clients.")],-1)),l.latestRequest?(s(),n("div",P,[e("div",E,[t[3]||(t[3]=e("h2",{class:"text-xl font-semibold text-gray-900"},"Verification Status",-1)),e("span",{class:R(["px-4 py-2 rounded-full text-sm font-medium",l.latestRequest.status==="approved"?"bg-green-100 text-green-800":l.latestRequest.status==="rejected"?"bg-red-100 text-red-800":l.latestRequest.status==="under_review"?"bg-blue-100 text-blue-800":l.latestRequest.status==="requires_changes"?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"])},d(l.latestRequest.status.replace("_"," ").toUpperCase()),3)]),e("div",H,[e("div",null,[t[4]||(t[4]=e("span",{class:"text-sm text-gray-500"},"Submitted:",-1)),e("span",J,d(q(l.latestRequest.submitted_at)),1)]),l.latestRequest.reviewed_at?(s(),n("div",K,[t[5]||(t[5]=e("span",{class:"text-sm text-gray-500"},"Reviewed:",-1)),e("span",Y,d(q(l.latestRequest.reviewed_at)),1)])):c("",!0),l.latestRequest.reviewer?(s(),n("div",Q,[t[6]||(t[6]=e("span",{class:"text-sm text-gray-500"},"Reviewed by:",-1)),e("span",W,d(l.latestRequest.reviewer.name),1)])):c("",!0),l.latestRequest.admin_notes?(s(),n("div",X,[t[7]||(t[7]=e("p",{class:"text-sm font-medium text-blue-900"},"Admin Notes:",-1)),e("p",Z,d(l.latestRequest.admin_notes),1)])):c("",!0),l.latestRequest.rejection_reason?(s(),n("div",ee,[t[8]||(t[8]=e("p",{class:"text-sm font-medium text-red-900"},"Rejection Reason:",-1)),e("p",te,d(l.latestRequest.rejection_reason),1)])):c("",!0)])])):(s(),n("div",se,[t[12]||(t[12]=e("h2",{class:"text-2xl font-bold mb-2"},"Get Verified Today!",-1)),t[13]||(t[13]=e("p",{class:"mb-4"},"Verified agencies receive more applications and build stronger trust with clients.",-1)),e("ul",oe,[e("li",ne,[r(m(_),{class:"h-5 w-5 mr-2"}),t[9]||(t[9]=e("span",null,"Verified badge on your profile",-1))]),e("li",le,[r(m(_),{class:"h-5 w-5 mr-2"}),t[10]||(t[10]=e("span",null,"Higher ranking in search results",-1))]),e("li",ae,[r(m(_),{class:"h-5 w-5 mr-2"}),t[11]||(t[11]=e("span",null,"Increased client trust",-1))])])])),e("div",de,[t[14]||(t[14]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Required Documents",-1)),e("div",ie,[(s(!0),n(b,null,v(l.requiredDocumentTypes,(o,u)=>(s(),n("div",{key:u,class:"flex items-start p-4 border rounded-lg"},[r(m(k),{class:"h-6 w-6 text-gray-400 mt-1 mr-3"}),e("div",ue,[e("p",re,d(o),1),F(u)?(s(),n("p",me,"âœ“ Uploaded")):(s(),n("p",ce,"Not uploaded"))])]))),128))])]),!l.latestRequest||l.latestRequest.status==="requires_changes"||l.latestRequest.status==="rejected"?(s(),n("div",ge,[t[20]||(t[20]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Upload Document",-1)),e("form",{onSubmit:D(B,["prevent"]),class:"space-y-4"},[e("div",null,[t[16]||(t[16]=e("label",{for:"document_type",class:"block text-sm font-medium text-gray-700"},"Document Type",-1)),w(e("select",{id:"document_type","onUpdate:modelValue":t[0]||(t[0]=o=>i.value.document_type=o),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[15]||(t[15]=e("option",{value:""},"Select document type",-1)),(s(!0),n(b,null,v(l.requiredDocumentTypes,(o,u)=>(s(),n("option",{key:u,value:u},d(o),9,fe))),128))],512),[[O,i.value.document_type]])]),e("div",null,[t[17]||(t[17]=e("label",{for:"document_name",class:"block text-sm font-medium text-gray-700"},"Document Name (Optional)",-1)),w(e("input",{type:"text",id:"document_name","onUpdate:modelValue":t[1]||(t[1]=o=>i.value.document_name=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g., Trade License 2024"},null,512),[[j,i.value.document_name]])]),e("div",null,[t[18]||(t[18]=e("label",{for:"document",class:"block text-sm font-medium text-gray-700"},"Document File",-1)),e("input",{type:"file",id:"document",onChange:S,accept:".pdf,.jpg,.jpeg,.png",required:"",class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"},null,32),t[19]||(t[19]=e("p",{class:"mt-1 text-xs text-gray-500"},"PDF, JPG, PNG (Max 10MB)",-1))]),e("button",{type:"submit",disabled:x.value,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"},[x.value?(s(),n("span",pe,"Uploading...")):(s(),n("span",ye,"Upload Document"))],8,xe)],32)])):c("",!0),e("div",be,[t[22]||(t[22]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Uploaded Documents",-1)),l.documents.length>0?(s(),n("div",ve,[(s(!0),n(b,null,v(l.documents,o=>(s(),n("div",{key:o.id,class:"flex items-center justify-between p-4 border rounded-lg"},[e("div",we,[r(m(k),{class:"h-6 w-6 text-gray-400 mr-3"}),e("div",he,[e("p",_e,d(o.document_name),1),e("p",ke,d(o.document_type.replace("_"," ")),1),e("div",qe,[e("span",Re,d(o.file_size?N(o.file_size):"Unknown"),1),e("span",{class:R(["text-xs px-2 py-1 rounded",o.status==="approved"?"bg-green-100 text-green-800":o.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"])},d(o.status),3)]),o.rejection_reason?(s(),n("p",De,d(o.rejection_reason),1)):c("",!0)])]),o.status!=="approved"?(s(),n("button",{key:0,onClick:u=>M(o.id),class:"ml-4 text-red-600 hover:text-red-800"},[r(m($),{class:"h-5 w-5"})],8,je)):c("",!0)]))),128))])):(s(),n("div",Ve,[r(m(k),{class:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t[21]||(t[21]=e("p",null,"No documents uploaded yet",-1))]))]),V.value?(s(),n("div",Se,[t[25]||(t[25]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Submit for Verification",-1)),e("form",{onSubmit:D(U,["prevent"]),class:"space-y-4"},[e("div",null,[t[23]||(t[23]=e("label",{for:"message",class:"block text-sm font-medium text-gray-700"},"Message (Optional)",-1)),w(e("textarea",{id:"message","onUpdate:modelValue":t[2]||(t[2]=o=>f.value.message=o),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Any additional information for the review team..."},null,512),[[j,f.value.message]])]),t[24]||(t[24]=e("div",{class:"bg-blue-50 p-4 rounded-md"},[e("p",{class:"text-sm text-blue-900"},[e("strong",null,"Note:"),G(" Once submitted, our team will review your documents within 2-3 business days. You'll be notified via email about the verification status. ")])],-1)),e("button",{type:"submit",disabled:p.value,class:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50"},[p.value?(s(),n("span",Me,"Submitting...")):(s(),n("span",Ue,"Submit for Verification"))],8,Be)],32)])):c("",!0)])]),_:1}))}};export{Ge as default};
