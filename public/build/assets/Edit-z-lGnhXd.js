import{r as M,u as P,c as i,f as c,g as s,i as B,j as x,a as t,l as v,k as p,m as D,p as n,n as u,x as m,o as d,t as a,v as h,s as _,F as f,q as k,y as F}from"./vendor-DUGSf9MG.js";import{A as L}from"./AdminLayout-CRJ9cJUr.js";import{a as T,l as j,m as N}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const A={class:"py-12"},O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},R={class:"mb-6 flex items-center justify-between"},$={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},I={class:"lg:col-span-2 space-y-6"},z={class:"bg-white rounded-lg shadow-sm p-6"},H={key:0,class:"mt-2 text-sm text-red-600"},q={class:"bg-white rounded-lg shadow-sm p-6"},J={class:"flex items-center text-sm text-gray-500 mb-2"},K={key:0,class:"mt-2 text-sm text-red-600"},W={class:"bg-white rounded-lg shadow-sm p-6"},G={key:0,class:"mt-2 text-sm text-red-600"},Q={class:"bg-white rounded-lg shadow-sm p-6"},X={key:0,class:"mt-2 text-sm text-red-600"},Y={class:"bg-white rounded-lg shadow-sm p-6"},Z={class:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},tt={class:"space-y-4"},et={class:"mt-1 text-xs text-gray-500"},st={class:"mt-1 text-xs text-gray-500"},ot={class:"bg-white rounded-lg shadow-sm p-6"},lt={class:"grid grid-cols-3 gap-4 text-center"},rt={class:"text-2xl font-bold text-blue-600"},dt={class:"text-2xl font-bold text-green-600"},it={class:"text-2xl font-bold text-purple-600"},at={class:"lg:col-span-1 space-y-6"},nt={class:"bg-white rounded-lg shadow-sm p-6"},ut={class:"space-y-4"},mt={key:0,class:"mt-2 text-sm text-red-600"},gt={key:0},pt={key:0,class:"mt-2 text-sm text-red-600"},bt={class:"flex items-center"},ct={class:"bg-white rounded-lg shadow-sm p-6"},xt=["value"],ft={key:0,class:"mt-2 text-sm text-red-600"},yt={class:"bg-white rounded-lg shadow-sm p-6"},wt={class:"space-y-2 max-h-48 overflow-y-auto"},vt=["id","value"],ht=["for"],_t={key:0,class:"text-sm text-gray-500 italic"},kt={class:"bg-white rounded-lg shadow-sm p-6"},Ut={key:0,class:"mt-3"},St=["src"],Vt={key:0,class:"mt-2 text-sm text-red-600"},Ct={class:"mt-3"},Et={class:"bg-white rounded-lg shadow-sm p-6"},Mt={class:"space-y-3"},Pt=["disabled"],Bt={key:1,class:"animate-spin h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},$t={__name:"Edit",props:{post:Object,categories:Array,tags:Array},setup(g){const r=g,U=window.location.origin,y=M(!1),o=P({category_id:r.post.category_id,title:r.post.title,slug:r.post.slug,excerpt:r.post.excerpt||"",content:r.post.content,featured_image:r.post.featured_image||"",image_credit:r.post.image_credit||"",status:r.post.status,published_at:r.post.published_at?r.post.published_at.substring(0,16):"",is_featured:r.post.is_featured,meta_title:r.post.meta_title||"",meta_description:r.post.meta_description||"",meta_keywords:r.post.meta_keywords||"",tags:r.post.tags?r.post.tags.map(b=>b.id):[]}),S=r.post.slug,V=()=>{(!o.slug||o.slug===S||o.slug===w(r.post.title))&&(o.slug=w(o.title))},w=b=>b.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""),C=()=>{o.put(route("admin.blog.posts.update",r.post.id),{preserveScroll:!0})};return(b,e)=>(d(),i(f,null,[c(s(B),{title:"Edit Blog Post"}),c(L,null,{default:x(()=>[t("div",A,[t("div",O,[t("div",R,[e[16]||(e[16]=t("div",null,[t("h2",{class:"text-3xl font-bold text-gray-900"},"Edit Blog Post"),t("p",{class:"mt-1 text-sm text-gray-600"},"Update your blog post content and settings")],-1)),c(s(v),{href:b.route("admin.blog.posts.index"),class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest hover:bg-gray-50"},{default:x(()=>[c(s(T),{class:"h-4 w-4 mr-2"}),e[15]||(e[15]=p(" Back to Posts ",-1))]),_:1},8,["href"])]),t("form",{onSubmit:D(C,["prevent"]),class:"space-y-6"},[t("div",$,[t("div",I,[t("div",z,[e[17]||(e[17]=t("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-2"},[p(" Title "),t("span",{class:"text-red-500"},"*")],-1)),n(t("input",{id:"title","onUpdate:modelValue":e[0]||(e[0]=l=>s(o).title=l),type:"text",placeholder:"Enter post title...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",onInput:V},null,544),[[m,s(o).title]]),s(o).errors.title?(d(),i("p",H,a(s(o).errors.title),1)):u("",!0)]),t("div",q,[e[18]||(e[18]=t("label",{for:"slug",class:"block text-sm font-medium text-gray-700 mb-2"}," URL Slug ",-1)),t("div",J,[t("span",null,a(s(U))+"/blog/",1),n(t("input",{id:"slug","onUpdate:modelValue":e[1]||(e[1]=l=>s(o).slug=l),type:"text",placeholder:"auto-generated",class:"flex-1 ml-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[m,s(o).slug]])]),s(o).errors.slug?(d(),i("p",K,a(s(o).errors.slug),1)):u("",!0)]),t("div",W,[e[19]||(e[19]=t("label",{for:"excerpt",class:"block text-sm font-medium text-gray-700 mb-2"}," Excerpt ",-1)),n(t("textarea",{id:"excerpt","onUpdate:modelValue":e[2]||(e[2]=l=>s(o).excerpt=l),rows:"3",placeholder:"Brief summary of the post...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[m,s(o).excerpt]]),e[20]||(e[20]=t("p",{class:"mt-1 text-xs text-gray-500"},"Short description shown in post listings",-1)),s(o).errors.excerpt?(d(),i("p",G,a(s(o).errors.excerpt),1)):u("",!0)]),t("div",Q,[e[21]||(e[21]=t("label",{for:"content",class:"block text-sm font-medium text-gray-700 mb-2"},[p(" Content "),t("span",{class:"text-red-500"},"*")],-1)),n(t("textarea",{id:"content","onUpdate:modelValue":e[3]||(e[3]=l=>s(o).content=l),rows:"20",placeholder:"Write your post content here...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 font-mono text-sm"},null,512),[[m,s(o).content]]),e[22]||(e[22]=t("p",{class:"mt-1 text-xs text-gray-500"},"Supports HTML and Markdown",-1)),s(o).errors.content?(d(),i("p",X,a(s(o).errors.content),1)):u("",!0)]),t("div",Y,[t("h3",Z,[c(s(j),{class:"h-5 w-5 mr-2 text-gray-400"}),e[23]||(e[23]=p(" SEO Settings ",-1))]),t("div",tt,[t("div",null,[e[24]||(e[24]=t("label",{for:"meta_title",class:"block text-sm font-medium text-gray-700 mb-2"}," Meta Title ",-1)),n(t("input",{id:"meta_title","onUpdate:modelValue":e[4]||(e[4]=l=>s(o).meta_title=l),type:"text",placeholder:"SEO title (defaults to post title)",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[m,s(o).meta_title]]),t("p",et,a((s(o).meta_title||s(o).title).length)+"/60 characters",1)]),t("div",null,[e[25]||(e[25]=t("label",{for:"meta_description",class:"block text-sm font-medium text-gray-700 mb-2"}," Meta Description ",-1)),n(t("textarea",{id:"meta_description","onUpdate:modelValue":e[5]||(e[5]=l=>s(o).meta_description=l),rows:"3",placeholder:"SEO description for search engines",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[m,s(o).meta_description]]),t("p",st,a((s(o).meta_description||"").length)+"/160 characters",1)]),t("div",null,[e[26]||(e[26]=t("label",{for:"meta_keywords",class:"block text-sm font-medium text-gray-700 mb-2"}," Meta Keywords ",-1)),n(t("input",{id:"meta_keywords","onUpdate:modelValue":e[6]||(e[6]=l=>s(o).meta_keywords=l),type:"text",placeholder:"keyword1, keyword2, keyword3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[m,s(o).meta_keywords]]),e[27]||(e[27]=t("p",{class:"mt-1 text-xs text-gray-500"},"Separate keywords with commas",-1))])])]),t("div",ot,[e[31]||(e[31]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Post Statistics",-1)),t("div",lt,[t("div",null,[t("div",rt,a(g.post.views_count),1),e[28]||(e[28]=t("div",{class:"text-sm text-gray-500"},"Views",-1))]),t("div",null,[t("div",dt,a(g.post.reading_time||0),1),e[29]||(e[29]=t("div",{class:"text-sm text-gray-500"},"Min Read",-1))]),t("div",null,[t("div",it,a(g.post.tags?g.post.tags.length:0),1),e[30]||(e[30]=t("div",{class:"text-sm text-gray-500"},"Tags",-1))])])])]),t("div",at,[t("div",nt,[e[36]||(e[36]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Publish Settings",-1)),t("div",ut,[t("div",null,[e[33]||(e[33]=t("label",{for:"status",class:"block text-sm font-medium text-gray-700 mb-2"},[p(" Status "),t("span",{class:"text-red-500"},"*")],-1)),n(t("select",{id:"status","onUpdate:modelValue":e[7]||(e[7]=l=>s(o).status=l),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[...e[32]||(e[32]=[t("option",{value:"draft"},"Draft",-1),t("option",{value:"published"},"Published",-1),t("option",{value:"scheduled"},"Scheduled",-1)])],512),[[h,s(o).status]]),s(o).errors.status?(d(),i("p",mt,a(s(o).errors.status),1)):u("",!0)]),s(o).status==="published"||s(o).status==="scheduled"?(d(),i("div",gt,[e[34]||(e[34]=t("label",{for:"published_at",class:"block text-sm font-medium text-gray-700 mb-2"}," Publish Date ",-1)),n(t("input",{id:"published_at","onUpdate:modelValue":e[8]||(e[8]=l=>s(o).published_at=l),type:"datetime-local",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[m,s(o).published_at]]),s(o).errors.published_at?(d(),i("p",pt,a(s(o).errors.published_at),1)):u("",!0)])):u("",!0),t("div",bt,[n(t("input",{id:"is_featured","onUpdate:modelValue":e[9]||(e[9]=l=>s(o).is_featured=l),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[_,s(o).is_featured]]),e[35]||(e[35]=t("label",{for:"is_featured",class:"ml-2 block text-sm text-gray-700"}," Featured Post ",-1))])])]),t("div",ct,[e[38]||(e[38]=t("label",{for:"category_id",class:"block text-sm font-medium text-gray-700 mb-2"},[p(" Category "),t("span",{class:"text-red-500"},"*")],-1)),n(t("select",{id:"category_id","onUpdate:modelValue":e[10]||(e[10]=l=>s(o).category_id=l),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[e[37]||(e[37]=t("option",{value:""},"Select a category",-1)),(d(!0),i(f,null,k(g.categories,l=>(d(),i("option",{key:l.id,value:l.id},a(l.name),9,xt))),128))],512),[[h,s(o).category_id]]),s(o).errors.category_id?(d(),i("p",ft,a(s(o).errors.category_id),1)):u("",!0)]),t("div",yt,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tags",-1)),t("div",wt,[(d(!0),i(f,null,k(g.tags,l=>(d(),i("div",{key:l.id,class:"flex items-center"},[n(t("input",{id:"tag-"+l.id,"onUpdate:modelValue":e[11]||(e[11]=E=>s(o).tags=E),type:"checkbox",value:l.id,class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,8,vt),[[_,s(o).tags]]),t("label",{for:"tag-"+l.id,class:"ml-2 block text-sm text-gray-700"},a(l.name),9,ht)]))),128))]),g.tags.length===0?(d(),i("p",_t,"No tags available")):u("",!0)]),t("div",kt,[e[41]||(e[41]=t("label",{for:"featured_image",class:"block text-sm font-medium text-gray-700 mb-2"}," Featured Image URL ",-1)),n(t("input",{id:"featured_image","onUpdate:modelValue":e[12]||(e[12]=l=>s(o).featured_image=l),type:"text",placeholder:"https://example.com/image.jpg",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[m,s(o).featured_image]]),e[42]||(e[42]=t("p",{class:"mt-1 text-xs text-gray-500"},"Enter image URL or upload to your CDN",-1)),s(o).featured_image?(d(),i("div",Ut,[t("img",{src:s(o).featured_image,alt:"Preview",class:"w-full rounded-md",onError:e[13]||(e[13]=l=>y.value=!0)},null,40,St),y.value?(d(),i("p",Vt,"Failed to load image")):u("",!0)])):u("",!0),t("div",Ct,[e[40]||(e[40]=t("label",{for:"image_credit",class:"block text-sm font-medium text-gray-700 mb-2"}," Image Credit ",-1)),n(t("input",{id:"image_credit","onUpdate:modelValue":e[14]||(e[14]=l=>s(o).image_credit=l),type:"text",placeholder:"Photo by John Doe",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[m,s(o).image_credit]])])]),t("div",Et,[t("div",Mt,[t("button",{type:"submit",disabled:s(o).processing,class:"w-full inline-flex justify-center items-center px-4 py-3 bg-blue-600 border border-transparent rounded-md font-semibold text-sm text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 transition ease-in-out duration-150"},[s(o).processing?(d(),i("svg",Bt,[...e[43]||(e[43]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(d(),F(s(N),{key:0,class:"h-5 w-5 mr-2"})),p(" "+a(s(o).processing?"Updating...":"Update Post"),1)],8,Pt),c(s(v),{href:b.route("admin.blog.posts.index"),class:"w-full inline-flex justify-center items-center px-4 py-3 bg-white border border-gray-300 rounded-md font-semibold text-sm text-gray-700 uppercase tracking-widest hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"},{default:x(()=>[...e[44]||(e[44]=[p(" Cancel ",-1)])]),_:1},8,["href"])])])])])],32)])])]),_:1})],64))}};export{$t as default};
