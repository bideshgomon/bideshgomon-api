import{B as x,c as g,n as z,z as p,t as d,o as l,I as $,y as M,j as v,f as m,a as e,g as f,i as I,l as C,k,p as S,x as V,F as A,q as B,v as N,A as h}from"./vendor-DUGSf9MG.js";import{A as F}from"./AdminLayout-CRJ9cJUr.js";import{_ as T}from"./Pagination-Cw5PI-56.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const U=["src","alt"],L={__name:"CountryFlag",props:{countryCode:{type:String,required:!0},countryName:String,size:{type:String,default:"md"},showName:{type:Boolean,default:!1},useImage:{type:Boolean,default:!0}},setup(n){const r=n,i=x(()=>{if(!r.countryCode)return"ðŸ³ï¸";const o=r.countryCode.toUpperCase().split("").map(c=>127397+c.charCodeAt(0));return String.fromCodePoint(...o)}),y=x(()=>{if(!r.useImage||!r.countryCode)return null;const o=r.countryCode.toLowerCase(),c={xs:"w20",sm:"w40",md:"w80",lg:"w160"};return`https://flagcdn.com/${c[r.size]||c.md}/${o}.png`}),u=x(()=>"inline-flex"),w=x(()=>{const o={xs:"w-4 h-3",sm:"w-6 h-4",md:"w-8 h-6",lg:"w-12 h-9"};return o[r.size]||o.md}),b=x(()=>{const o={xs:"text-base",sm:"text-lg",md:"text-2xl",lg:"text-4xl"};return o[r.size]||o.md}),_=x(()=>{const o={xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg"};return o[r.size]||o.md});return(o,c)=>(l(),g("div",{class:p(["inline-flex items-center",u.value])},[y.value?(l(),g("img",{key:0,src:y.value,alt:`${n.countryName} flag`,class:p(["rounded shadow-sm",w.value]),loading:"lazy"},null,10,U)):(l(),g("span",{key:1,class:p(["inline-block",b.value])},d(i.value),3)),n.showName&&n.countryName?(l(),g("span",{key:2,class:p(["ml-2 font-medium",_.value])},d(n.countryName),3)):z("",!0)],2))}},E={class:"py-6"},O={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},R={class:"mb-6"},D={class:"flex items-center justify-between"},P={class:"flex items-center space-x-3"},q={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6"},H={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},G={class:"md:col-span-2"},J=["value"],K={class:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},Q=["href"],W={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden"},X={class:"overflow-x-auto"},Y={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Z={class:"bg-gray-50 dark:bg-gray-700"},ee={class:"flex items-center space-x-1"},te={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},se={class:"px-6 py-4 whitespace-nowrap"},re={class:"flex items-center"},oe={class:"ml-3"},ae={class:"text-sm font-medium text-gray-900 dark:text-white"},ie={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},ne={class:"px-6 py-4 whitespace-nowrap"},de={class:"text-sm text-gray-900 dark:text-white"},le={class:"px-6 py-4 whitespace-nowrap"},ge={class:"text-sm text-gray-900 dark:text-white"},ce={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},ue={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},xe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},me={class:"px-6 py-4 whitespace-nowrap"},pe=["onClick"],ye={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ve={class:"flex items-center justify-end space-x-2"},fe=["onClick"],ke={class:"bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6"},je={__name:"Index",props:{countries:Object,regions:Array,filters:Object,sort:Object},setup(n){const r=n,i=$({search:r.filters.search||"",region:r.filters.region||"",is_active:r.filters.is_active||""});let y=null;const u=()=>{h.get(route("admin.data.countries.index"),i,{preserveState:!0,preserveScroll:!0})},w=()=>{clearTimeout(y),y=setTimeout(u,300)},b=a=>{const t=r.sort.field===a&&r.sort.direction==="asc"?"desc":"asc";h.get(route("admin.data.countries.index"),{...i,sort:a,direction:t},{preserveState:!0,preserveScroll:!0})},_=()=>{i.search="",i.region="",i.is_active="",u()},o=a=>{confirm(`Are you sure you want to ${a.is_active?"deactivate":"activate"} ${a.name}?`)&&h.post(route("admin.data.countries.toggle-status",a.id),{},{preserveScroll:!0})},c=a=>{confirm(`Are you sure you want to delete ${a.name}? This action cannot be undone.`)&&h.delete(route("admin.data.countries.destroy",a.id),{preserveScroll:!0})};return(a,t)=>(l(),M(F,null,{default:v(()=>[m(f(I),{title:"Countries Management"}),e("div",E,[e("div",O,[e("div",R,[e("div",D,[t[6]||(t[6]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Countries Management"),e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},"Manage all countries in the system")],-1)),e("div",P,[m(f(C),{href:a.route("admin.data.countries.bulk-upload"),class:"inline-flex items-center px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors"},{default:v(()=>[...t[4]||(t[4]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1),k(" Bulk Upload ",-1)])]),_:1},8,["href"]),m(f(C),{href:a.route("admin.data.countries.create"),class:"inline-flex items-center px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors"},{default:v(()=>[...t[5]||(t[5]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),k(" Add Country ",-1)])]),_:1},8,["href"])])])]),e("div",q,[e("div",H,[e("div",G,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Search",-1)),S(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.search=s),type:"text",placeholder:"Search by name, code...",class:"w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-indigo-500 focus:border-indigo-500",onInput:w},null,544),[[V,i.search]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Region",-1)),S(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>i.region=s),class:"w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-indigo-500 focus:border-indigo-500",onChange:u},[t[8]||(t[8]=e("option",{value:""},"All Regions",-1)),(l(!0),g(A,null,B(n.regions,s=>(l(),g("option",{key:s,value:s},d(s),9,J))),128))],544),[[N,i.region]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Status",-1)),S(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>i.is_active=s),class:"w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-indigo-500 focus:border-indigo-500",onChange:u},[...t[10]||(t[10]=[e("option",{value:""},"All Status",-1),e("option",{value:"true"},"Active",-1),e("option",{value:"false"},"Inactive",-1)])],544),[[N,i.is_active]])])]),e("div",K,[e("button",{onClick:_,class:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}," Reset Filters "),e("a",{href:a.route("admin.data.countries.export",i),class:"inline-flex items-center px-3 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg text-sm transition-colors"},[...t[12]||(t[12]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),k(" Export CSV ",-1)])],8,Q)])]),e("div",W,[e("div",X,[e("table",Y,[e("thead",Z,[e("tr",null,[e("th",{onClick:t[3]||(t[3]=s=>b("name")),class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600"},[e("div",ee,[t[14]||(t[14]=e("span",null,"Name",-1)),n.sort.field==="name"?(l(),g("svg",{key:0,class:p(["w-4 h-4",n.sort.direction==="asc"?"":"rotate-180"]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[13]||(t[13]=[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)])],2)):z("",!0)])]),t[15]||(t[15]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Nationality",-1)),t[16]||(t[16]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"ISO Codes",-1)),t[17]||(t[17]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Phone Code",-1)),t[18]||(t[18]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Currency",-1)),t[19]||(t[19]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Region",-1)),t[20]||(t[20]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Status",-1)),t[21]||(t[21]=e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Actions",-1))])]),e("tbody",te,[(l(!0),g(A,null,B(n.countries.data,s=>(l(),g("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",se,[e("div",re,[m(L,{countryCode:s.iso_code_2,countryName:null,size:"md",useImage:!0},null,8,["countryCode"]),e("div",oe,[e("div",ae,d(s.name),1),s.name_bn?(l(),g("div",ie,d(s.name_bn),1)):z("",!0)])])]),e("td",ne,[e("div",de,d(s.nationality||"â€”"),1)]),e("td",le,[e("div",ge,d(s.iso_code_2)+" / "+d(s.iso_code_3),1)]),e("td",ce,d(s.phone_code),1),e("td",ue,d(s.currency_code),1),e("td",xe,d(s.region||"â€”"),1),e("td",me,[e("button",{onClick:j=>o(s),class:p([s.is_active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300","px-3 py-1 rounded-full text-xs font-semibold transition-colors hover:opacity-80"])},d(s.is_active?"Active":"Inactive"),11,pe)]),e("td",ye,[e("div",ve,[m(f(C),{href:a.route("admin.data.countries.edit",s.id),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300"},{default:v(()=>[...t[22]||(t[22]=[k(" Edit ",-1)])]),_:1},8,["href"]),e("button",{onClick:j=>c(s),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"}," Delete ",8,fe)])])]))),128))])])]),e("div",ke,[m(T,{links:n.countries.links},null,8,["links"])])])])])]),_:1}))}};export{je as default};
