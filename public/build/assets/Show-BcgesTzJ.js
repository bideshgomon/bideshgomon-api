import{r as p,u as R,c as n,f as d,g as r,i as S,j as A,a as e,n as _,l as U,k as b,t as i,o,F as m,q as g,z,p as C,v as j,A as F}from"./vendor-DUGSf9MG.js";import{A as P}from"./AdminLayout-CRJ9cJUr.js";import{j as T,s as $,E as D,p as V}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const E={class:"py-6"},L={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},G={class:"flex items-center justify-between mb-6"},H={class:"flex items-center"},J={class:"flex items-center"},K={class:"text-3xl mr-3"},Q={class:"text-2xl font-bold text-gray-900"},W={class:"bg-white rounded-lg shadow mb-6"},X={class:"border-b border-gray-200"},Y={class:"flex -mb-px overflow-x-auto"},Z=["onClick"],I={class:"p-6"},q={class:"mb-8"},ee={key:0,class:"space-y-3"},te={class:"flex items-center flex-1"},se={class:"flex-1"},ne={class:"font-medium text-gray-900"},oe={class:"text-sm text-gray-600 mt-1"},ie={class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800"},le={key:0,class:"ml-2 text-gray-500 font-mono text-xs"},ae={key:0,class:"text-sm text-gray-600 mt-2"},de={class:"ml-4"},re={key:0,class:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800"},ce={key:1,class:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800"},ue=["onClick"],me={key:1,class:"text-center py-8 text-gray-500"},xe={class:"text-lg font-semibold text-gray-900 mb-4"},ge={key:0,class:"space-y-3"},ye={class:"flex items-center flex-1"},ve={class:"flex-1"},_e={class:"font-medium text-gray-900"},fe={class:"text-sm text-gray-600 mt-1"},pe={class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800"},be={key:0,class:"ml-2 text-gray-500 font-mono text-xs"},he={key:0,class:"text-sm text-gray-600 mt-2"},ke={class:"ml-4"},we={key:0,class:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800"},Ae={key:1,class:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800"},Ce=["onClick"],je={key:1,class:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-200 rounded-lg"},$e={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},De={class:"flex items-center justify-center min-h-screen px-4"},Ve={class:"relative bg-white rounded-lg max-w-4xl w-full p-6 shadow-xl"},Me={class:"text-lg font-semibold text-gray-900 mb-4"},Ne={class:"grid grid-cols-2 gap-4 mb-4"},Oe=["value"],Be=["value"],Re={class:"max-h-96 overflow-y-auto mb-4"},Se={class:"font-semibold text-gray-900 mb-2"},Ue={class:"space-y-2"},ze=["value","checked","onChange"],Fe={class:"ml-3 flex-1"},Pe={class:"font-medium text-gray-900"},Te={class:"text-sm text-gray-600"},Ee={class:"flex justify-end space-x-3"},Le=["disabled"],Ie={__name:"Show",props:{country:Object,groupedRequirements:Object,categories:Array,visaTypes:Array,professions:Array},setup(a){const k=a,y=p(!1),c=p("tourist"),h=p(null),u=p([]),v=R({country_id:k.country.id,visa_type:"tourist",profession_category:null,document_ids:[],is_mandatory:!0}),M=()=>{y.value=!0,u.value=[]},N=x=>{const s=u.value.indexOf(x);s>-1?u.value.splice(s,1):u.value.push(x)},O=()=>{v.visa_type=c.value,v.profession_category=h.value,v.document_ids=u.value,v.post(route("admin.document-assignments.bulk-assign"),{onSuccess:()=>{y.value=!1,u.value=[]}})},w=x=>{confirm("Are you sure you want to remove this document assignment?")&&F.delete(route("admin.document-assignments.destroy",x))},f=(x,s=null)=>{const t=x+"|"+(s||"all");return k.groupedRequirements[t]||[]};return(x,s)=>(o(),n(m,null,[d(r(S),{title:`${a.country.name} - Document Assignments`},null,8,["title"]),d(P,null,{default:A(()=>[e("div",E,[e("div",L,[e("div",G,[e("div",H,[d(r(U),{href:x.route("admin.document-assignments.index"),class:"text-gray-600 hover:text-gray-900 mr-4"},{default:A(()=>[...s[4]||(s[4]=[b(" â† Back ",-1)])]),_:1},8,["href"]),e("div",null,[e("div",J,[e("span",K,i(a.country.flag_emoji),1),e("h1",Q,i(a.country.name),1)]),s[5]||(s[5]=e("p",{class:"mt-1 text-sm text-gray-600"},"Manage visa document requirements",-1))])]),e("button",{onClick:M,class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700"},[d(r(T),{class:"w-4 h-4 mr-2"}),s[6]||(s[6]=b(" Assign Documents ",-1))])]),e("div",W,[e("div",X,[e("nav",Y,[(o(!0),n(m,null,g(a.visaTypes,t=>(o(),n("button",{key:t,onClick:l=>c.value=t,class:z(["px-6 py-3 text-sm font-medium border-b-2 whitespace-nowrap",c.value===t?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},i(t.charAt(0).toUpperCase()+t.slice(1)),11,Z))),128))])]),e("div",I,[e("div",q,[s[8]||(s[8]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Common Documents (All Applicants)",-1)),f(c.value).length>0?(o(),n("div",ee,[(o(!0),n(m,null,g(f(c.value),t=>(o(),n("div",{key:t.id,class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},[e("div",te,[d(r($),{class:"w-5 h-5 text-gray-400 mr-3"}),e("div",se,[e("div",ne,i(t.document.document_name),1),e("div",oe,[e("span",ie,i(t.document.category.name),1),t.document.international_standard?(o(),n("span",le,i(t.document.international_standard),1)):_("",!0)]),t.specific_notes?(o(),n("div",ae," ðŸ“ "+i(t.specific_notes),1)):_("",!0)]),e("div",de,[t.is_mandatory?(o(),n("span",re,[d(r(D),{class:"w-3 h-3 mr-1"}),s[7]||(s[7]=b(" Mandatory ",-1))])):(o(),n("span",ce," Optional "))])]),e("button",{onClick:l=>w(t.id),class:"ml-4 text-red-600 hover:text-red-900",title:"Remove"},[d(r(V),{class:"w-5 h-5"})],8,ue)]))),128))])):(o(),n("div",me," No common documents assigned yet "))]),(o(!0),n(m,null,g(a.professions,t=>(o(),n("div",{key:t,class:"mb-8"},[e("h3",xe,i(t),1),f(c.value,t).length>0?(o(),n("div",ge,[(o(!0),n(m,null,g(f(c.value,t),l=>(o(),n("div",{key:l.id,class:"flex items-center justify-between p-4 bg-indigo-50 rounded-lg"},[e("div",ye,[d(r($),{class:"w-5 h-5 text-indigo-400 mr-3"}),e("div",ve,[e("div",_e,i(l.document.document_name),1),e("div",fe,[e("span",pe,i(l.document.category.name),1),l.document.international_standard?(o(),n("span",be,i(l.document.international_standard),1)):_("",!0)]),l.specific_notes?(o(),n("div",he," ðŸ“ "+i(l.specific_notes),1)):_("",!0)]),e("div",ke,[l.is_mandatory?(o(),n("span",we,[d(r(D),{class:"w-3 h-3 mr-1"}),s[9]||(s[9]=b(" Mandatory ",-1))])):(o(),n("span",Ae," Optional "))])]),e("button",{onClick:B=>w(l.id),class:"ml-4 text-red-600 hover:text-red-900",title:"Remove"},[d(r(V),{class:"w-5 h-5"})],8,Ce)]))),128))])):(o(),n("div",je," No "+i(t)+" documents assigned yet ",1))]))),128))])]),y.value?(o(),n("div",$e,[e("div",De,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:s[0]||(s[0]=t=>y.value=!1)}),e("div",Ve,[e("h3",Me,"Assign Documents to "+i(a.country.name),1),e("div",Ne,[e("div",null,[s[10]||(s[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Visa Type",-1)),C(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>c.value=t),class:"w-full border-gray-300 rounded-md"},[(o(!0),n(m,null,g(a.visaTypes,t=>(o(),n("option",{key:t,value:t},i(t.charAt(0).toUpperCase()+t.slice(1)),9,Oe))),128))],512),[[j,c.value]])]),e("div",null,[s[12]||(s[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Profession (Optional)",-1)),C(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>h.value=t),class:"w-full border-gray-300 rounded-md"},[s[11]||(s[11]=e("option",{value:null},"All Professions",-1)),(o(!0),n(m,null,g(a.professions,t=>(o(),n("option",{key:t,value:t},i(t),9,Be))),128))],512),[[j,h.value]])])]),e("div",Re,[(o(!0),n(m,null,g(a.categories,t=>(o(),n("div",{key:t.id,class:"mb-6"},[e("h4",Se,i(t.name),1),e("div",Ue,[(o(!0),n(m,null,g(t.documents,l=>(o(),n("label",{key:l.id,class:"flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"},[e("input",{type:"checkbox",value:l.id,checked:u.value.includes(l.id),onChange:B=>N(l.id),class:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,40,ze),e("div",Fe,[e("div",Pe,i(l.document_name),1),e("div",Te,i(l.description),1)])]))),128))])]))),128))]),e("div",Ee,[e("button",{onClick:s[3]||(s[3]=t=>y.value=!1),class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{onClick:O,disabled:u.value.length===0||r(v).processing,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50"}," Assign "+i(u.value.length)+" Documents ",9,Le)])])])])):_("",!0)])])]),_:1})],64))}};export{Ie as default};
