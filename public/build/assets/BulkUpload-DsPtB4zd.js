import{r as y,u as w,y as C,j as x,f as p,a as t,g as a,i as B,l as f,k as l,m as d,c as u,n as M,z as V,o as i,t as g}from"./vendor-DUGSf9MG.js";import{A as S}from"./AdminLayout-CRJ9cJUr.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const _={class:"py-6"},D={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},T={class:"mb-6"},U={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6"},j={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},z=["href"],F={key:0},L={class:"mt-4 text-sm text-gray-600 dark:text-gray-400"},$={key:1,class:"flex items-center justify-center space-x-3"},I={class:"text-left"},N={class:"text-sm font-medium text-gray-900 dark:text-white"},A={class:"text-xs text-gray-500 dark:text-gray-400"},E={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-400"},O={class:"flex items-center justify-end space-x-3 mt-6"},R=["disabled"],Z={__name:"BulkUpload",setup(W){const b=y(null),n=y(!1),s=w({file:null}),k=r=>{const e=r.target.files[0];e&&(s.file=e)},c=r=>{n.value=!1;const e=r.dataTransfer.files[0];e&&(e.name.endsWith(".csv")||e.name.endsWith(".txt"))&&(s.file=e)},v=r=>{if(r===0)return"0 Bytes";const e=1024,o=["Bytes","KB","MB"],m=Math.floor(Math.log(r)/Math.log(e));return Math.round(r/Math.pow(e,m)*100)/100+" "+o[m]},h=()=>{s.post(route("admin.data.language-tests.process-upload"),{forceFormData:!0})};return(r,e)=>(i(),C(S,null,{default:x(()=>[p(a(B),{title:"Bulk Upload Language Tests"}),t("div",_,[t("div",D,[t("div",T,[p(a(f),{href:r.route("admin.data.language-tests.index"),class:"text-sm text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 mb-2 inline-block"},{default:x(()=>[...e[4]||(e[4]=[l(" â† Back to Language Tests ",-1)])]),_:1},8,["href"]),e[5]||(e[5]=t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Bulk Upload Language Tests",-1)),e[6]||(e[6]=t("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},"Upload multiple language tests at once using a CSV file",-1))]),e[18]||(e[18]=t("div",{class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6 mb-6"},[t("h3",{class:"text-lg font-semibold text-blue-900 dark:text-blue-300 mb-3"},"ðŸ“‹ Instructions"),t("ol",{class:"list-decimal list-inside space-y-2 text-sm text-blue-800 dark:text-blue-300"},[t("li",null,"Download the CSV template below"),t("li",null,"Fill in your language test data following the format"),t("li",null,'Use language_code column to link tests to languages (e.g., "en" for English)'),t("li",null,"Upload the completed CSV file"),t("li",null,"Review any errors and fix them"),t("li",null,"Successfully uploaded language tests will appear in the list")])],-1)),t("div",U,[e[9]||(e[9]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"ðŸ“¥ Download Template",-1)),t("div",j,[e[8]||(e[8]=t("div",null,[t("p",{class:"text-sm font-medium text-gray-900 dark:text-white"},"language_tests_template.csv"),t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"CSV template with sample data")],-1)),t("a",{href:r.route("admin.data.language-tests.template"),class:"inline-flex items-center px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors"},[...e[7]||(e[7]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),l(" Download Template ",-1)])],8,z)]),e[10]||(e[10]=t("div",{class:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},[t("p",{class:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Required Columns:"),t("div",{class:"flex flex-wrap gap-2"},[t("span",{class:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 rounded text-xs font-mono"},"name*"),t("span",{class:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 rounded text-xs font-mono"},"code*"),t("span",{class:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 rounded text-xs font-mono"},"score_type*")]),t("p",{class:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2 mt-3"},"Optional Columns:"),t("div",{class:"flex flex-wrap gap-2"},[t("span",{class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-xs font-mono"},"language_code"),t("span",{class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-xs font-mono"},"name_bn"),t("span",{class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-xs font-mono"},"min_score"),t("span",{class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-xs font-mono"},"max_score"),t("span",{class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-xs font-mono"},"description"),t("span",{class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-xs font-mono"},"is_active")]),t("p",{class:"text-xs text-gray-600 dark:text-gray-400 mt-3"},[t("strong",null,"Score Types:"),l(" band, percentage, points, grade ")])],-1))]),t("form",{onSubmit:d(h,["prevent"]),class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6"},[e[17]||(e[17]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"ðŸ“¤ Upload CSV File",-1)),t("div",{onDragover:e[2]||(e[2]=d(o=>n.value=!0,["prevent"])),onDragleave:e[3]||(e[3]=d(o=>n.value=!1,["prevent"])),onDrop:d(c,["prevent"]),class:V([n.value?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-300 dark:border-gray-600","border-2 border-dashed rounded-lg p-12 text-center transition-colors"])},[t("input",{ref_key:"fileInput",ref:b,type:"file",accept:".csv,.txt",onChange:k,class:"hidden"},null,544),a(s).file?(i(),u("div",$,[e[15]||(e[15]=t("svg",{class:"h-10 w-10 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t("div",I,[t("p",N,g(a(s).file.name),1),t("p",A,g(v(a(s).file.size)),1)]),t("button",{type:"button",onClick:e[1]||(e[1]=o=>a(s).file=null),class:"text-red-600 hover:text-red-700 dark:text-red-400"},[...e[14]||(e[14]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])):(i(),u("div",F,[e[12]||(e[12]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),t("p",L,[e[11]||(e[11]=l(" Drag and drop your CSV file here, or ",-1)),t("button",{type:"button",onClick:e[0]||(e[0]=o=>r.$refs.fileInput.click()),class:"text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 font-medium"}," browse ")]),e[13]||(e[13]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"CSV or TXT files only, up to 10MB",-1))]))],34),a(s).errors.file?(i(),u("p",E,g(a(s).errors.file),1)):M("",!0),t("div",O,[p(a(f),{href:r.route("admin.data.language-tests.index"),class:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors"},{default:x(()=>[...e[16]||(e[16]=[l(" Cancel ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:!a(s).file||a(s).processing,class:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},g(a(s).processing?"Uploading...":"Upload & Process"),9,R)])],32)])])]),_:1}))}};export{Z as default};
