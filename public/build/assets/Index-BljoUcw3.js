import{r as I,u as A,B as K,c as n,f as d,g as t,i as W,j as P,a as s,l as H,k as y,o as l,F as f,q as x,z as J,y as b,G as B,t as p,m as X,n as j}from"./vendor-DUGSf9MG.js";import{A as Y}from"./AdminLayout-CRJ9cJUr.js";import{ap as Q,w as h,at as F,au as N,av as Z,B as v,g as ee,R as k,V as T,q as _,X as E,ac as oe,m as G,ag as M,aw as V,ax as se,ay as D,Y as te}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const re={class:"py-6"},le={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ae={class:"mb-8"},ne={class:"flex justify-between items-center"},ie={class:"flex gap-3"},ce={class:"bg-white rounded-xl shadow-sm border border-gray-200"},de={class:"border-b border-gray-200"},ue={class:"flex space-x-4 px-6 overflow-x-auto","aria-label":"Tabs"},pe=["onClick"],me={key:0,class:"space-y-4"},be={class:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6"},ye={class:"flex"},ge={class:"flex items-start gap-4"},fe={class:"flex-shrink-0 rounded-lg p-3 bg-indigo-100"},he={class:"flex-1 min-w-0"},ve={class:"flex items-center gap-2 mb-1"},xe=["for"],ke={key:0,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},_e={key:1,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600"},we={class:"text-sm text-gray-600 mb-3"},Se={class:"relative"},Ce=["id","type","value","onInput","placeholder"],$e=["onClick"],Ie={key:1,class:"space-y-6"},Ae={class:"flex items-start justify-between gap-4"},Pe={class:"flex-1"},Be=["for"],je={key:0,class:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800"},Fe={key:0,class:"mt-1 text-sm text-gray-500"},Ne={key:1,class:"mt-3"},Te={class:"relative inline-flex items-center cursor-pointer"},Ee=["id","checked","onChange"],Ge={class:"ml-3 text-sm font-medium text-gray-900"},Me={key:2,class:"mt-3"},Ve=["id","value","onInput"],De={key:3,class:"mt-3"},Oe={class:"flex items-center gap-3"},ze=["id","value","onInput"],Le=["value","onInput"],Re={key:4,class:"mt-3"},Ue=["id","type","value","onInput","step"],qe={key:5,class:"mt-3"},Ke={class:"relative"},We=["id","type","value","onInput","placeholder"],He=["onClick"],Je={class:"mt-8 flex justify-end gap-3"},Xe=["disabled"],Ye={class:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4"},Qe={class:"flex"},Ze={class:"flex-shrink-0"},co={__name:"Index",props:{settings:Array,currentGroup:String,groups:Object},setup(w){const g=w,c=I(g.currentGroup||"general"),m=I({}),S=r=>{m.value[r]=!m.value[r]},O={general:{icon:h,label:"General",color:"indigo"},branding:{icon:E,label:"Branding",color:"purple"},seo:{icon:_,label:"SEO",color:"blue"},email:{icon:T,label:"Email",color:"blue"},contact:{icon:k,label:"Contact",color:"green"},jobs:{icon:ee,label:"Jobs",color:"purple"},wallet:{icon:v,label:"Wallet",color:"green"},features:{icon:Z,label:"Features",color:"orange"},social:{icon:N,label:"Social Media",color:"pink"},api:{icon:F,label:"API Keys",color:"red"},advanced:{icon:h,label:"Advanced",color:"gray"}},z={google_maps:{icon:te,color:"green",label:"Google Maps"},google_oauth:{icon:_,color:"blue",label:"Google OAuth"},facebook:{icon:N,color:"indigo",label:"Facebook"},stripe:{icon:D,color:"purple",label:"Stripe"},paypal:{icon:v,color:"blue",label:"PayPal"},sslcommerz:{icon:D,color:"green",label:"SSLCommerz"},bkash:{icon:v,color:"pink",label:"bKash"},nagad:{icon:v,color:"orange",label:"Nagad"},aws:{icon:se,color:"orange",label:"AWS"},pusher:{icon:k,color:"purple",label:"Pusher"},mailgun:{icon:T,color:"red",label:"Mailgun"},twilio:{icon:k,color:"red",label:"Twilio"},openai:{icon:E,color:"green",label:"OpenAI"},recaptcha:{icon:_,color:"blue",label:"reCAPTCHA"}},L=r=>{for(const[a,e]of Object.entries(z))if(r.toLowerCase().includes(a.replace("_","")))return e;return null},i=A({settings:g.settings.map(r=>({key:r.key,value:r.type==="boolean"?r.value==="1"||r.value===!0:r.value,type:r.type})),group:c.value}),C=K(()=>g.settings.filter(r=>r.group===c.value)),R=()=>{const r=i.settings.filter(e=>{const o=g.settings.find($=>$.key===e.key);return o&&o.group===c.value});console.log("Submitting settings for group:",c.value),console.log("Number of settings:",r.length),A({settings:r}).post(route("admin.settings.update",{group:c.value}),{preserveScroll:!0,onSuccess:()=>{console.log("Settings saved successfully")},onError:e=>{console.error("Save errors:",e)}})},U=r=>{c.value=r,window.history.pushState({},"",route("admin.settings.index",{group:r}))},q=r=>({text:"text",email:"email",url:"url",number:"number",boolean:"checkbox",password:"password"})[r]||"text",u=(r,a)=>{const e=i.settings.findIndex(o=>o.key===r);e!==-1&&(i.settings[e].value=a)};return(r,a)=>(l(),n(f,null,[d(t(W),{title:"Settings"}),d(Y,null,{default:P(()=>[s("div",re,[s("div",le,[s("div",ae,[s("div",ne,[a[1]||(a[1]=s("div",null,[s("h1",{class:"text-3xl font-bold text-gray-900"},"Platform Settings"),s("p",{class:"mt-2 text-sm text-gray-600"}," Configure your platform settings and preferences ")],-1)),s("div",ie,[d(t(H),{href:r.route("admin.settings.seed"),method:"post",as:"button",class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors"},{default:P(()=>[d(t(Q),{class:"h-5 w-5 mr-2"}),a[0]||(a[0]=y(" Reset to Defaults ",-1))]),_:1},8,["href"])])])]),s("div",ce,[s("div",de,[s("nav",ue,[(l(!0),n(f,null,x(w.groups,(e,o)=>(l(),n("button",{key:o,onClick:$=>U(o),class:J([c.value===o?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 transition-colors"])},[(l(),b(B(O[o]?.icon||t(h)),{class:"h-5 w-5"})),y(" "+p(e),1)],10,pe))),128))])]),s("form",{onSubmit:X(R,["prevent"]),class:"p-6"},[c.value==="api"?(l(),n("div",me,[s("div",be,[s("div",ye,[d(t(oe),{class:"h-5 w-5 text-amber-400 flex-shrink-0"}),a[2]||(a[2]=s("div",{class:"ml-3"},[s("h3",{class:"text-sm font-medium text-amber-800"},"Security Notice"),s("p",{class:"mt-1 text-sm text-amber-700"}," API keys are sensitive credentials. Never share them publicly or commit them to version control. These values are stored securely in your .env file. ")],-1))])]),(l(!0),n(f,null,x(C.value,e=>(l(),n("div",{key:e.key,class:"bg-white border border-gray-200 rounded-lg p-5 hover:shadow-md transition-shadow"},[s("div",ge,[s("div",fe,[(l(),b(B(L(e.key)?.icon||t(F)),{class:"h-6 w-6 text-indigo-600"}))]),s("div",he,[s("div",ve,[s("label",{for:e.key,class:"text-sm font-semibold text-gray-900"},p(e.key.split("_").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")),9,xe),t(i).settings.find(o=>o.key===e.key)?.value?(l(),n("span",ke,[d(t(G),{class:"h-3 w-3 mr-1"}),a[3]||(a[3]=y(" Configured ",-1))])):(l(),n("span",_e," Not Set "))]),s("p",we,p(e.description),1),s("div",Se,[s("input",{id:e.key,type:m.value[e.key]?"text":"password",value:t(i).settings.find(o=>o.key===e.key)?.value,onInput:o=>u(e.key,o.target.value),placeholder:t(i).settings.find(o=>o.key===e.key)?.value?"••••••••••••••••••••":`Enter ${e.key.split("_").pop()}`,class:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm pr-10 font-mono text-sm"},null,40,Ce),s("button",{type:"button",onClick:o=>S(e.key),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors"},[m.value[e.key]?(l(),b(t(V),{key:1,class:"h-5 w-5"})):(l(),b(t(M),{key:0,class:"h-5 w-5"}))],8,$e)])])])]))),128))])):(l(),n("div",Ie,[(l(!0),n(f,null,x(C.value,e=>(l(),n("div",{key:e.key,class:"pb-6 border-b border-gray-100 last:border-0"},[s("div",Ae,[s("div",Pe,[s("label",{for:e.key,class:"block text-sm font-medium text-gray-900"},[y(p(e.key.split("_").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" "))+" ",1),e.is_public?(l(),n("span",je," Public ")):j("",!0)],8,Be),e.description?(l(),n("p",Fe,p(e.description),1)):j("",!0),e.type==="boolean"?(l(),n("div",Ne,[s("label",Te,[s("input",{id:e.key,type:"checkbox",checked:t(i).settings.find(o=>o.key===e.key)?.value===!0||t(i).settings.find(o=>o.key===e.key)?.value==="1",onChange:o=>u(e.key,o.target.checked),class:"sr-only peer"},null,40,Ee),a[4]||(a[4]=s("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"},null,-1)),s("span",Ge,p(t(i).settings.find(o=>o.key===e.key)?.value?"Enabled":"Disabled"),1)])])):e.type==="textarea"?(l(),n("div",Me,[s("textarea",{id:e.key,value:t(i).settings.find(o=>o.key===e.key)?.value,onInput:o=>u(e.key,o.target.value),rows:"4",class:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,40,Ve)])):e.type==="color"?(l(),n("div",De,[s("div",Oe,[s("input",{id:e.key,type:"color",value:t(i).settings.find(o=>o.key===e.key)?.value||"#3B82F6",onInput:o=>u(e.key,o.target.value),class:"h-10 w-20 rounded border-gray-300 cursor-pointer"},null,40,ze),s("input",{type:"text",value:t(i).settings.find(o=>o.key===e.key)?.value,onInput:o=>u(e.key,o.target.value),placeholder:"#3B82F6",class:"flex-1 rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm font-mono"},null,40,Le)])])):e.type!=="password"?(l(),n("div",Re,[s("input",{id:e.key,type:q(e.type),value:t(i).settings.find(o=>o.key===e.key)?.value,onInput:o=>u(e.key,o.target.value),step:e.type==="number"?"any":void 0,class:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,40,Ue)])):(l(),n("div",qe,[s("div",Ke,[s("input",{id:e.key,type:m.value[e.key]?"text":"password",value:t(i).settings.find(o=>o.key===e.key)?.value,onInput:o=>u(e.key,o.target.value),placeholder:t(i).settings.find(o=>o.key===e.key)?.value?"••••••••••••":"Enter secure value",class:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm pr-10"},null,40,We),s("button",{type:"button",onClick:o=>S(e.key),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600"},[m.value[e.key]?(l(),b(t(V),{key:1,class:"h-5 w-5"})):(l(),b(t(M),{key:0,class:"h-5 w-5"}))],8,He)])]))])])]))),128))])),s("div",Je,[s("button",{type:"submit",disabled:t(i).processing,class:"inline-flex items-center px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},[d(t(G),{class:"h-5 w-5 mr-2"}),y(" "+p(t(i).processing?"Saving...":"Save Settings"),1)],8,Xe)])],32)]),s("div",Ye,[s("div",Qe,[s("div",Ze,[d(t(h),{class:"h-5 w-5 text-blue-400"})]),a[5]||(a[5]=s("div",{class:"ml-3"},[s("h3",{class:"text-sm font-medium text-blue-800"},"Settings Information"),s("div",{class:"mt-2 text-sm text-blue-700"},[s("ul",{class:"list-disc list-inside space-y-1"},[s("li",null,'Settings marked as "Public" can be accessed by the frontend application'),s("li",null,"Changes are cached for performance - clear cache if needed"),s("li",null,'Use "Reset to Defaults" to restore original platform settings'),s("li",null,"Boolean settings use toggles for easier management")])])],-1))])])])])]),_:1})],64))}};export{co as default};
