import{u as b,c as r,f as m,g as a,i as c,j as u,a as e,n as d,m as f,k as l,o as i,t as n,l as y,F as x}from"./vendor-DUGSf9MG.js";import{A as h}from"./AdminLayout-CRJ9cJUr.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const v={class:"p-6"},k={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},w={class:"bg-white rounded-lg shadow p-6"},C={class:"mb-4"},_={key:0,class:"mt-1 text-sm text-red-600"},V={class:"flex gap-3"},S=["disabled"],U={class:"mt-6 pt-6 border-t border-gray-200"},B={class:"flex gap-2"},T=["href"],F=["href"],N={class:"bg-white rounded-lg shadow p-6"},E={class:"space-y-4 text-sm"},j={class:"bg-gray-50 border border-gray-200 rounded p-2 text-xs overflow-x-auto"},$={key:0,class:"mt-6"},q={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-4"},M={class:"text-sm text-green-800"},D={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4"},H={class:"text-sm text-red-800"},K={__name:"BulkUpload",setup(L){const o=b({file:null}),p=s=>{o.file=s.target.files[0]},g=()=>{o.post(route("admin.data.email-templates.process-upload"),{onSuccess:()=>{o.reset()}})};return(s,t)=>(i(),r(x,null,[m(a(c),{title:"Bulk Upload Email Templates"}),m(h,null,{default:u(()=>[e("div",v,[t[13]||(t[13]=e("div",{class:"mb-6"},[e("h1",{class:"text-2xl font-semibold text-gray-900"},"Bulk Upload Email Templates"),e("p",{class:"mt-1 text-sm text-gray-600"},"Upload multiple email templates using CSV file")],-1)),e("div",k,[e("div",w,[t[5]||(t[5]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Upload CSV File",-1)),e("form",{onSubmit:f(g,["prevent"])},[e("div",C,[t[0]||(t[0]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[l(" Select CSV File "),e("span",{class:"text-red-500"},"*")],-1)),e("input",{type:"file",onChange:p,accept:".csv",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"},null,32),a(o).errors.file?(i(),r("p",_,n(a(o).errors.file),1)):d("",!0)]),e("div",V,[e("button",{type:"submit",disabled:a(o).processing,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50"},n(a(o).processing?"Uploading...":"Upload & Process"),9,S),m(a(y),{href:s.route("admin.data.email-templates.index"),class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"},{default:u(()=>[...t[1]||(t[1]=[l("Cancel",-1)])]),_:1},8,["href"])])],32),e("div",U,[t[4]||(t[4]=e("h3",{class:"text-sm font-medium text-gray-900 mb-2"},"Download Templates",-1)),e("div",B,[e("a",{href:s.route("admin.data.email-templates.template"),class:"inline-flex items-center px-3 py-2 bg-gray-100 text-gray-700 text-sm rounded-md hover:bg-gray-200"},[...t[2]||(t[2]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),l(" Empty Template ",-1)])],8,T),e("a",{href:s.route("admin.data.email-templates.template",{with_sample:1}),class:"inline-flex items-center px-3 py-2 bg-gray-100 text-gray-700 text-sm rounded-md hover:bg-gray-200"},[...t[3]||(t[3]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),l(" Template with Sample Data ",-1)])],8,F)])])]),e("div",N,[t[10]||(t[10]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"CSV Format Instructions",-1)),e("div",E,[t[7]||(t[7]=e("div",null,[e("h3",{class:"font-medium text-gray-900 mb-2"},"Required Columns:"),e("ul",{class:"list-disc list-inside text-gray-600 space-y-1"},[e("li",null,[e("strong",null,"name"),l(" - Template name (must be unique)")]),e("li",null,[e("strong",null,"subject"),l(" - Email subject line")]),e("li",null,[e("strong",null,"body"),l(" - Plain text email body")]),e("li",null,[e("strong",null,"category"),l(" - Category (general, transactional, marketing, notification)")])])],-1)),t[8]||(t[8]=e("div",null,[e("h3",{class:"font-medium text-gray-900 mb-2"},"Optional Columns:"),e("ul",{class:"list-disc list-inside text-gray-600 space-y-1"},[e("li",null,[e("strong",null,"slug"),l(" - URL-friendly identifier (auto-generated if empty)")]),e("li",null,[e("strong",null,"html_body"),l(" - HTML version of email body")]),e("li",null,[e("strong",null,"variables"),l(" - JSON array of available variables")]),e("li",null,[e("strong",null,"is_active"),l(" - 1 for active, 0 for inactive (default: 1)")])])],-1)),t[9]||(t[9]=e("div",{class:"bg-blue-50 border border-blue-200 rounded-md p-3"},[e("h3",{class:"font-medium text-blue-900 mb-2"},"Important Notes:"),e("ul",{class:"list-disc list-inside text-blue-800 text-xs space-y-1"},[e("li",null,"Template names must be unique"),e("li",null,"Use double quotes for multi-line text in CSV"),e("li",null,'Variables should be in JSON format: ["name", "email"]'),e("li",null,"Category must be one of: general, transactional, marketing, notification")])],-1)),e("div",null,[t[6]||(t[6]=e("h3",{class:"font-medium text-gray-900 mb-2"},"Example CSV:",-1)),e("pre",j,`name,subject,body,category,variables,is_active
"Welcome Email","Welcome to Bideshgomon","Dear `+n(s.name)+`, welcome!","transactional","[""name"",""email""]",1
"Newsletter","Monthly Update","Check out our latest content","marketing","[""month""]",1`,1)])])])]),s.$page.props.flash?.success||s.$page.props.flash?.error?(i(),r("div",$,[s.$page.props.flash.success?(i(),r("div",q,[t[11]||(t[11]=e("h3",{class:"text-sm font-medium text-green-900 mb-2"},"Upload Successful",-1)),e("p",M,n(s.$page.props.flash.success),1)])):d("",!0),s.$page.props.flash.error?(i(),r("div",D,[t[12]||(t[12]=e("h3",{class:"text-sm font-medium text-red-900 mb-2"},"Upload Failed",-1)),e("p",H,n(s.$page.props.flash.error),1)])):d("",!0)])):d("",!0)])]),_:1})],64))}};export{K as default};
