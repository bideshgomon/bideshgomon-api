import{r as f,u as w,y as C,j as u,f as g,a as e,g as o,i as B,l as b,k as n,m as d,c as p,n as M,z as V,o as i,t as x}from"./vendor-DUGSf9MG.js";import{A as S}from"./AdminLayout-CRJ9cJUr.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const D={class:"py-6"},j={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},U={class:"mb-6"},_={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6"},z={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},F=["href"],T={key:0},$={class:"mt-4 text-sm text-gray-600 dark:text-gray-400"},I={key:1,class:"flex items-center justify-center space-x-3"},N={class:"text-left"},A={class:"text-sm font-medium text-gray-900 dark:text-white"},L={class:"text-xs text-gray-500 dark:text-gray-400"},O={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-400"},R={class:"flex items-center justify-end space-x-3 mt-6"},W=["disabled"],Z={__name:"BulkUpload",setup(q){const c=f(null),l=f(!1),r=w({file:null}),k=s=>{const t=s.target.files[0];t&&(r.file=t)},y=s=>{l.value=!1;const t=s.dataTransfer.files[0];t&&(t.name.endsWith(".csv")||t.name.endsWith(".txt"))&&(r.file=t)},v=s=>{if(s===0)return"0 Bytes";const t=1024,a=["Bytes","KB","MB"],m=Math.floor(Math.log(s)/Math.log(t));return Math.round(s/Math.pow(t,m)*100)/100+" "+a[m]},h=()=>{r.post(route("admin.data.currencies.process-upload"),{forceFormData:!0})};return(s,t)=>(i(),C(S,null,{default:u(()=>[g(o(B),{title:"Bulk Upload Currencies"}),e("div",D,[e("div",j,[e("div",U,[g(o(b),{href:s.route("admin.data.currencies.index"),class:"text-sm text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 mb-2 inline-block"},{default:u(()=>[...t[4]||(t[4]=[n(" â† Back to Currencies ",-1)])]),_:1},8,["href"]),t[5]||(t[5]=e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Bulk Upload Currencies",-1)),t[6]||(t[6]=e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},"Upload multiple currencies at once using a CSV file",-1))]),t[18]||(t[18]=e("div",{class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6 mb-6"},[e("h3",{class:"text-lg font-semibold text-blue-900 dark:text-blue-300 mb-3"},"ðŸ“‹ Instructions"),e("ol",{class:"list-decimal list-inside space-y-2 text-sm text-blue-800 dark:text-blue-300"},[e("li",null,"Download the CSV template below"),e("li",null,"Fill in your currency data following the format"),e("li",null,"Upload the completed CSV file"),e("li",null,"Review any errors and fix them"),e("li",null,"Successfully uploaded currencies will appear in the list")])],-1)),e("div",_,[t[9]||(t[9]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"ðŸ“¥ Download Template",-1)),e("div",z,[t[8]||(t[8]=e("div",null,[e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"},"currencies_template.csv"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"CSV template with sample data")],-1)),e("a",{href:s.route("admin.data.currencies.template"),class:"inline-flex items-center px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors"},[...t[7]||(t[7]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),n(" Download Template ",-1)])],8,F)]),t[10]||(t[10]=e("div",{class:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},[e("p",{class:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Required Columns:"),e("div",{class:"flex flex-wrap gap-2"},[e("span",{class:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 rounded text-xs font-mono"},"code*"),e("span",{class:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 rounded text-xs font-mono"},"name*"),e("span",{class:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 rounded text-xs font-mono"},"symbol*"),e("span",{class:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 rounded text-xs font-mono"},"exchange_rate_to_bdt*")]),e("p",{class:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2 mt-3"},"Optional Columns:"),e("div",{class:"flex flex-wrap gap-2"},[e("span",{class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-xs font-mono"},"is_active")])],-1))]),e("form",{onSubmit:d(h,["prevent"]),class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6"},[t[17]||(t[17]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"ðŸ“¤ Upload CSV File",-1)),e("div",{onDragover:t[2]||(t[2]=d(a=>l.value=!0,["prevent"])),onDragleave:t[3]||(t[3]=d(a=>l.value=!1,["prevent"])),onDrop:d(y,["prevent"]),class:V([l.value?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-300 dark:border-gray-600","border-2 border-dashed rounded-lg p-12 text-center transition-colors"])},[e("input",{ref_key:"fileInput",ref:c,type:"file",accept:".csv,.txt",onChange:k,class:"hidden"},null,544),o(r).file?(i(),p("div",I,[t[15]||(t[15]=e("svg",{class:"h-10 w-10 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e("div",N,[e("p",A,x(o(r).file.name),1),e("p",L,x(v(o(r).file.size)),1)]),e("button",{type:"button",onClick:t[1]||(t[1]=a=>o(r).file=null),class:"text-red-600 hover:text-red-700 dark:text-red-400"},[...t[14]||(t[14]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])):(i(),p("div",T,[t[12]||(t[12]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),e("p",$,[t[11]||(t[11]=n(" Drag and drop your CSV file here, or ",-1)),e("button",{type:"button",onClick:t[0]||(t[0]=a=>s.$refs.fileInput.click()),class:"text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 font-medium"}," browse ")]),t[13]||(t[13]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"CSV or TXT files only, up to 10MB",-1))]))],34),o(r).errors.file?(i(),p("p",O,x(o(r).errors.file),1)):M("",!0),e("div",R,[g(o(b),{href:s.route("admin.data.currencies.index"),class:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors"},{default:u(()=>[...t[16]||(t[16]=[n(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:!o(r).file||o(r).processing,class:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},x(o(r).processing?"Uploading...":"Upload & Process"),9,W)])],32)])])]),_:1}))}};export{Z as default};
