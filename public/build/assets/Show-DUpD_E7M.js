import{r as _,c as r,f as l,g as o,i as A,j as m,a as t,l as C,t as a,z as k,n,k as p,o as i,F as y,q as f,A as $}from"./vendor-DUGSf9MG.js";import{A as j}from"./AdminLayout-CRJ9cJUr.js";import{a as S,aq as D,V as N,ai as L,s as F,f as v,E as h}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const V={class:"py-12"},Q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},z={class:"mb-6 flex items-center justify-between"},B={class:"flex items-center gap-4"},E={class:"text-3xl font-bold text-gray-900 dark:text-white"},P={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},T={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},U={class:"lg:col-span-2 space-y-6"},q={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},I={class:"p-6 border-b border-gray-200 dark:border-gray-700"},M={class:"text-xl font-semibold text-gray-900 dark:text-white flex items-center gap-2"},O={class:"p-6 space-y-4"},J={class:"grid grid-cols-2 gap-4"},R={class:"font-semibold text-gray-900 dark:text-white"},G={class:"font-semibold text-gray-900 dark:text-white flex items-center gap-2"},H={key:0},K={class:"font-semibold text-gray-900 dark:text-white flex items-center gap-2"},W={class:"font-semibold text-gray-900 dark:text-white"},X={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Y={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Z={class:"text-xl font-semibold text-gray-900 dark:text-white flex items-center gap-2"},tt={class:"p-6"},et={key:0,class:"space-y-3"},st={class:"text-gray-600 dark:text-gray-400 capitalize"},at={class:"font-semibold text-gray-900 dark:text-white"},dt={key:1,class:"text-gray-500 dark:text-gray-400 italic"},rt={key:0,class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},it={class:"p-6 border-b border-gray-200 dark:border-gray-700"},lt={class:"text-xl font-semibold text-gray-900 dark:text-white flex items-center gap-2"},ot={class:"p-6"},nt={class:"space-y-4"},ct={class:"flex justify-between items-start mb-3"},gt={class:"font-semibold text-gray-900 dark:text-white"},pt={class:"text-sm text-gray-600 dark:text-gray-400"},xt={class:"grid grid-cols-2 gap-4 text-sm"},ut={class:"font-bold text-lg text-gray-900 dark:text-white"},bt={class:"font-semibold text-gray-900 dark:text-white"},yt={key:0,class:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700"},ht={class:"text-sm text-gray-600 dark:text-gray-400"},mt={class:"space-y-6"},kt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},ft={class:"p-6 space-y-3"},vt=["disabled"],wt=["disabled"],_t=["disabled"],At={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Ct={class:"p-6"},$t={class:"space-y-4"},jt={class:"flex gap-3"},St={class:"flex-shrink-0"},Dt={class:"w-8 h-8 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center"},Nt={class:"text-sm text-gray-600 dark:text-gray-400"},Lt={key:0,class:"flex gap-3"},Ft={class:"flex-shrink-0"},Vt={class:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center"},Qt={class:"text-sm text-gray-600 dark:text-gray-400"},zt={key:1,class:"flex gap-3"},Bt={class:"flex-shrink-0"},Et={class:"w-8 h-8 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center"},Pt={class:"text-sm text-gray-600 dark:text-gray-400"},Tt={key:2,class:"flex gap-3"},Ut={class:"flex-shrink-0"},qt={class:"w-8 h-8 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center"},It={class:"text-sm text-gray-600 dark:text-gray-400"},Yt={__name:"Show",props:{application:Object,quotes:Array},setup(s){const w=s,g=_(!1),b=c=>{confirm(`Are you sure you want to change status to "${c}"?`)&&(g.value=!0,$.put(route("service-applications.update-status",w.application.id),{status:c},{onFinish:()=>g.value=!1}))},x=c=>({pending:"yellow",quoted:"blue",in_progress:"purple",completed:"green",cancelled:"red"})[c]||"gray";return(c,e)=>(i(),r(y,null,[l(o(A),{title:`Application #${s.application.id}`},null,8,["title"]),l(j,null,{default:m(()=>[t("div",V,[t("div",Q,[t("div",z,[t("div",B,[l(o(C),{href:c.route("service-applications.index"),class:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"},{default:m(()=>[l(o(S),{class:"w-6 h-6"})]),_:1},8,["href"]),t("div",null,[t("h1",E," Application #"+a(s.application.id),1),t("p",P,a(s.application.service_module?.name),1)])]),t("div",{class:k(["px-4 py-2 rounded-full text-sm font-semibold",x(s.application.status)==="yellow"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":x(s.application.status)==="blue"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":x(s.application.status)==="purple"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":x(s.application.status)==="green"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"])},a(s.application.status.replace("_"," ").toUpperCase()),3)]),t("div",T,[t("div",U,[t("div",q,[t("div",I,[t("h2",M,[l(o(D),{class:"w-5 h-5"}),e[3]||(e[3]=p(" User Information ",-1))])]),t("div",O,[t("div",J,[t("div",null,[e[4]||(e[4]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Name",-1)),t("p",R,a(s.application.user?.name),1)]),t("div",null,[e[5]||(e[5]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Email",-1)),t("p",G,[l(o(N),{class:"w-4 h-4"}),p(" "+a(s.application.user?.email),1)])]),s.application.user?.phone?(i(),r("div",H,[e[6]||(e[6]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Phone",-1)),t("p",K,[l(o(L),{class:"w-4 h-4"}),p(" "+a(s.application.user.phone),1)])])):n("",!0),t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Submitted",-1)),t("p",W,a(new Date(s.application.created_at).toLocaleDateString()),1)])])])]),t("div",X,[t("div",Y,[t("h2",Z,[l(o(F),{class:"w-5 h-5"}),e[8]||(e[8]=p(" Application Details ",-1))])]),t("div",tt,[s.application.application_data?(i(),r("div",et,[(i(!0),r(y,null,f(s.application.application_data,(d,u)=>(i(),r("div",{key:u,class:"flex justify-between py-2 border-b border-gray-100 dark:border-gray-700"},[t("span",st,a(typeof u=="string"?u.replace(/_/g," "):u),1),t("span",at,a(typeof d=="object"?JSON.stringify(d):d),1)]))),128))])):(i(),r("p",dt,"No additional data provided"))])]),s.quotes&&s.quotes.length>0?(i(),r("div",rt,[t("div",it,[t("h2",lt,[l(o(v),{class:"w-5 h-5"}),p(" Quotes ("+a(s.quotes.length)+") ",1)])]),t("div",ot,[t("div",nt,[(i(!0),r(y,null,f(s.quotes,d=>(i(),r("div",{key:d.id,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-4"},[t("div",ct,[t("div",null,[t("p",gt,a(d.agency?.name||"Agency"),1),t("p",pt,a(d.agency?.email),1)]),t("span",{class:k(["px-3 py-1 rounded-full text-xs font-semibold",d.status==="accepted"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":d.status==="rejected"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"])},a(d.status),3)]),t("div",xt,[t("div",null,[e[9]||(e[9]=t("p",{class:"text-gray-600 dark:text-gray-400"},"Quoted Amount",-1)),t("p",ut,"$"+a(parseFloat(d.quoted_price||0).toFixed(2)),1)]),t("div",null,[e[10]||(e[10]=t("p",{class:"text-gray-600 dark:text-gray-400"},"Processing Time",-1)),t("p",bt,a(d.processing_time_days||"N/A")+" days",1)])]),d.notes?(i(),r("div",yt,[t("p",ht,a(d.notes),1)])):n("",!0)]))),128))])])])):n("",!0)]),t("div",mt,[t("div",kt,[e[11]||(e[11]=t("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Actions")],-1)),t("div",ft,[s.application.status==="pending"?(i(),r("button",{key:0,onClick:e[0]||(e[0]=d=>b("in_progress")),disabled:g.value,class:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition"}," Mark In Progress ",8,vt)):n("",!0),s.application.status==="in_progress"?(i(),r("button",{key:1,onClick:e[1]||(e[1]=d=>b("completed")),disabled:g.value,class:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition"}," Mark Completed ",8,wt)):n("",!0),s.application.status!=="cancelled"?(i(),r("button",{key:2,onClick:e[2]||(e[2]=d=>b("cancelled")),disabled:g.value,class:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition"}," Cancel Application ",8,_t)):n("",!0)])]),t("div",At,[e[16]||(e[16]=t("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Timeline")],-1)),t("div",Ct,[t("div",$t,[t("div",jt,[t("div",St,[t("div",Dt,[l(o(h),{class:"w-5 h-5 text-green-600 dark:text-green-400"})])]),t("div",null,[e[12]||(e[12]=t("p",{class:"font-semibold text-gray-900 dark:text-white"},"Application Created",-1)),t("p",Nt,a(new Date(s.application.created_at).toLocaleString()),1)])]),s.application.quoted_at?(i(),r("div",Lt,[t("div",Ft,[t("div",Vt,[l(o(v),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})])]),t("div",null,[e[13]||(e[13]=t("p",{class:"font-semibold text-gray-900 dark:text-white"},"Quote Received",-1)),t("p",Qt,a(new Date(s.application.quoted_at).toLocaleString()),1)])])):n("",!0),s.application.accepted_at?(i(),r("div",zt,[t("div",Bt,[t("div",Et,[l(o(h),{class:"w-5 h-5 text-purple-600 dark:text-purple-400"})])]),t("div",null,[e[14]||(e[14]=t("p",{class:"font-semibold text-gray-900 dark:text-white"},"Quote Accepted",-1)),t("p",Pt,a(new Date(s.application.accepted_at).toLocaleString()),1)])])):n("",!0),s.application.completed_at?(i(),r("div",Tt,[t("div",Ut,[t("div",qt,[l(o(h),{class:"w-5 h-5 text-green-600 dark:text-green-400"})])]),t("div",null,[e[15]||(e[15]=t("p",{class:"font-semibold text-gray-900 dark:text-white"},"Completed",-1)),t("p",It,a(new Date(s.application.completed_at).toLocaleString()),1)])])):n("",!0)])])])])])])])]),_:1})],64))}};export{Yt as default};
