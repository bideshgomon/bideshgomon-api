import{r as w,y as k,j as h,f as v,a as t,g as b,i as C,l as B,k as p,c as r,n as o,t as i,z as g,o as d,F as m,q as x,A as _}from"./vendor-DUGSf9MG.js";import{_ as D}from"./AuthenticatedLayout-DdydbOmd.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";const P={class:"py-8"},z={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},T={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6"},A={class:"flex justify-between items-start"},F={class:"flex items-center space-x-3 mb-2"},N={class:"text-2xl font-bold text-gray-900"},V={class:"text-gray-600"},j={class:"font-semibold"},M={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},S={class:"lg:col-span-1 space-y-6"},L={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},E={class:"space-y-4"},Q={class:"font-medium text-gray-900 capitalize"},U={key:0},I={class:"font-medium text-gray-900"},Y={key:1},$={class:"font-medium text-gray-900"},H={key:2},O={class:"font-medium text-gray-900"},G={key:3},J={class:"space-y-2 mt-2"},K={class:"font-medium text-gray-900"},W={class:"text-sm text-gray-600"},X={class:"text-sm text-gray-500"},Z={class:"font-medium text-gray-900"},tt={class:"font-medium text-gray-900 capitalize"},et={class:"font-medium text-gray-900"},st={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},it={class:"space-y-3"},lt={class:"flex items-center"},dt={class:"text-sm text-gray-700"},rt={key:0},ot={class:"flex flex-wrap gap-2"},nt={key:1},at={class:"font-medium text-gray-900 capitalize"},ut={key:2},gt={class:"text-sm text-gray-700 mt-1"},ct={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},mt={class:"space-y-3"},xt={class:"font-medium text-gray-900"},ft={class:"font-medium text-gray-900"},yt={class:"font-medium text-gray-900"},ht={class:"lg:col-span-2"},vt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},bt={key:0,class:"text-center py-12"},pt={class:"text-gray-600"},_t={key:1,class:"space-y-4"},qt={class:"flex justify-between items-start mb-4"},Rt={class:"flex items-center space-x-2 mb-1"},wt={class:"text-lg font-semibold text-gray-900"},kt={class:"text-sm text-gray-600"},Ct={class:"text-sm text-gray-500"},Bt={class:"text-right"},Dt={class:"text-2xl font-bold text-gray-900"},Pt={class:"space-y-3 mb-4"},zt={class:"text-sm text-gray-600 mt-1 whitespace-pre-line"},Tt={class:"text-sm text-gray-600 mt-1 whitespace-pre-line"},At={key:0},Ft={class:"text-sm text-gray-600 mt-1"},Nt={class:"flex items-center space-x-4 text-sm"},Vt={class:"font-medium text-gray-900 ml-1"},jt={key:0,class:"text-red-600 font-medium"},Mt={key:0},St=["onClick","disabled"],Lt={key:1,class:"bg-green-100 border border-green-300 rounded-lg p-4 mt-4"},Ot={__name:"Show",props:{flightRequest:{type:Object,required:!0}},setup(s){const f=s,a=w(!1),u=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),y=n=>new Date(n)<new Date,q=n=>{confirm("Are you sure you want to accept this quote? The payment will be deducted from your wallet.")&&(a.value=!0,_.post(route("flight-requests.accept-quote",{requestId:f.flightRequest.id,quoteId:n}),{},{onFinish:()=>{a.value=!1}}))},R=()=>{confirm("Are you sure you want to cancel this flight request?")&&_.post(route("flight-requests.cancel",f.flightRequest.id))};return(n,e)=>(d(),k(D,null,{default:h(()=>[v(b(C),{title:`Flight Request ${s.flightRequest.request_reference}`},null,8,["title"]),t("div",P,[t("div",z,[v(b(B),{href:n.route("flight-requests.index"),class:"inline-flex items-center text-blue-600 hover:text-blue-800 mb-6"},{default:h(()=>[...e[0]||(e[0]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),p(" Back to My Requests ",-1)])]),_:1},8,["href"]),t("div",T,[t("div",A,[t("div",null,[t("div",F,[t("h1",N,i(s.flightRequest.route_name),1),t("span",{class:g([s.flightRequest.status_color,"px-3 py-1 rounded-full text-sm font-medium border"])},i(s.flightRequest.status.replace("_"," ").toUpperCase()),3)]),t("p",V,[e[1]||(e[1]=p("Request Reference: ",-1)),t("span",j,i(s.flightRequest.request_reference),1)])]),["pending","assigned","quoted"].includes(s.flightRequest.status)?(d(),r("button",{key:0,onClick:R,class:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition"}," Cancel Request ")):o("",!0)])]),t("div",M,[t("div",S,[t("div",L,[e[10]||(e[10]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Trip Details",-1)),t("div",E,[t("div",null,[e[2]||(e[2]=t("div",{class:"text-sm text-gray-500"},"Trip Type",-1)),t("div",Q,i(s.flightRequest.trip_type.replace("_"," ")),1)]),s.flightRequest.trip_type!=="multi_city"?(d(),r("div",U,[e[3]||(e[3]=t("div",{class:"text-sm text-gray-500"},"Route",-1)),t("div",I,i(s.flightRequest.origin_airport_code)+" → "+i(s.flightRequest.destination_airport_code),1)])):o("",!0),s.flightRequest.trip_type!=="multi_city"?(d(),r("div",Y,[e[4]||(e[4]=t("div",{class:"text-sm text-gray-500"},"Departure Date",-1)),t("div",$,i(u(s.flightRequest.travel_date)),1)])):o("",!0),s.flightRequest.trip_type==="round_trip"?(d(),r("div",H,[e[5]||(e[5]=t("div",{class:"text-sm text-gray-500"},"Return Date",-1)),t("div",O,i(u(s.flightRequest.return_date)),1)])):o("",!0),s.flightRequest.trip_type==="multi_city"?(d(),r("div",G,[e[6]||(e[6]=t("div",{class:"text-sm text-gray-500"},"Multi-City Segments",-1)),t("div",J,[(d(!0),r(m,null,x(s.flightRequest.multi_city_segments,(l,c)=>(d(),r("div",{key:c,class:"p-3 bg-gray-50 rounded-lg"},[t("div",K,"Flight "+i(c+1),1),t("div",W,i(l.origin)+" → "+i(l.destination),1),t("div",X,i(u(l.date)),1)]))),128))])])):o("",!0),t("div",null,[e[7]||(e[7]=t("div",{class:"text-sm text-gray-500"},"Passengers",-1)),t("div",Z,i(s.flightRequest.passengers_count)+" "+i(s.flightRequest.passengers_count===1?"Person":"People"),1)]),t("div",null,[e[8]||(e[8]=t("div",{class:"text-sm text-gray-500"},"Class",-1)),t("div",tt,i(s.flightRequest.flight_class),1)]),t("div",null,[e[9]||(e[9]=t("div",{class:"text-sm text-gray-500"},"Budget",-1)),t("div",et,i(s.flightRequest.formatted_budget),1)])])]),t("div",st,[e[15]||(e[15]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Preferences",-1)),t("div",it,[t("div",lt,[(d(),r("svg",{class:g([s.flightRequest.prefer_direct_flights?"text-green-600":"text-gray-400","w-5 h-5 mr-2"]),fill:"currentColor",viewBox:"0 0 20 20"},[...e[11]||(e[11]=[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])],2)),t("span",dt,i(s.flightRequest.prefer_direct_flights?"Prefers direct flights":"Layovers acceptable"),1)]),s.flightRequest.preferred_airlines&&s.flightRequest.preferred_airlines.length>0?(d(),r("div",rt,[e[12]||(e[12]=t("div",{class:"text-sm text-gray-500 mb-1"},"Preferred Airlines",-1)),t("div",ot,[(d(!0),r(m,null,x(s.flightRequest.preferred_airlines,l=>(d(),r("span",{key:l,class:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs"},i(l),1))),128))])])):o("",!0),s.flightRequest.preferred_time?(d(),r("div",nt,[e[13]||(e[13]=t("div",{class:"text-sm text-gray-500"},"Preferred Time",-1)),t("div",at,i(s.flightRequest.preferred_time),1)])):o("",!0),s.flightRequest.special_requests?(d(),r("div",ut,[e[14]||(e[14]=t("div",{class:"text-sm text-gray-500"},"Special Requests",-1)),t("div",gt,i(s.flightRequest.special_requests),1)])):o("",!0)])]),t("div",ct,[e[19]||(e[19]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Contact Information",-1)),t("div",mt,[t("div",null,[e[16]||(e[16]=t("div",{class:"text-sm text-gray-500"},"Name",-1)),t("div",xt,i(s.flightRequest.contact_name),1)]),t("div",null,[e[17]||(e[17]=t("div",{class:"text-sm text-gray-500"},"Email",-1)),t("div",ft,i(s.flightRequest.contact_email),1)]),t("div",null,[e[18]||(e[18]=t("div",{class:"text-sm text-gray-500"},"Phone",-1)),t("div",yt,i(s.flightRequest.contact_phone),1)])])])]),t("div",ht,[t("div",vt,[e[28]||(e[28]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Quotes Received",-1)),s.flightRequest.quotes.length===0?(d(),r("div",bt,[e[20]||(e[20]=t("svg",{class:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e[21]||(e[21]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No quotes yet",-1)),t("p",pt,i(s.flightRequest.status==="pending"?"Your request is pending assignment to an agency.":"Agencies are reviewing your request. You will be notified when quotes are submitted."),1)])):(d(),r("div",_t,[(d(!0),r(m,null,x(s.flightRequest.quotes,l=>(d(),r("div",{key:l.id,class:g(["border rounded-lg p-6",l.status==="accepted"?"border-green-500 bg-green-50":"border-gray-200"])},[t("div",qt,[t("div",null,[t("div",Rt,[t("h3",wt,i(l.airline_name),1),t("span",{class:g([l.status_color,"px-2 py-1 rounded-full text-xs font-medium"])},i(l.status.toUpperCase()),3)]),t("p",kt,"Flight "+i(l.flight_number),1),t("p",Ct,"By "+i(l.quoted_by.name),1)]),t("div",Bt,[t("div",Dt,i(l.formatted_price),1),e[22]||(e[22]=t("div",{class:"text-sm text-gray-500"},"Total Price",-1))])]),t("div",Pt,[t("div",null,[e[23]||(e[23]=t("div",{class:"text-sm font-medium text-gray-700"},"Price Breakdown",-1)),t("div",zt,i(l.price_breakdown),1)]),t("div",null,[e[24]||(e[24]=t("div",{class:"text-sm font-medium text-gray-700"},"Flight Details",-1)),t("div",Tt,i(l.flight_details),1)]),l.notes?(d(),r("div",At,[e[25]||(e[25]=t("div",{class:"text-sm font-medium text-gray-700"},"Agency Notes",-1)),t("div",Ft,i(l.notes),1)])):o("",!0),t("div",Nt,[t("div",null,[e[26]||(e[26]=t("span",{class:"text-gray-500"},"Valid Until:",-1)),t("span",Vt,i(u(l.valid_until)),1)]),y(l.valid_until)?(d(),r("div",jt," (Expired) ")):o("",!0)])]),l.status==="pending"&&!y(l.valid_until)&&s.flightRequest.status!=="completed"?(d(),r("div",Mt,[t("button",{onClick:c=>q(l.id),disabled:a.value,class:"w-full py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50 font-medium"},i(a.value?"Processing...":"Accept This Quote"),9,St)])):o("",!0),l.status==="accepted"?(d(),r("div",Lt,[...e[27]||(e[27]=[t("div",{class:"flex items-center"},[t("svg",{class:"w-5 h-5 text-green-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),t("span",{class:"text-green-800 font-medium"},"You accepted this quote")],-1)])])):o("",!0)],2))),128))]))])])])])])]),_:1}))}};export{Ot as default};
