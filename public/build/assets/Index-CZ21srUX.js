import{r as D,c as r,f as i,g as a,i as P,j as g,a as t,t as o,o as l,F as c,q as p,l as f,k as h,z as q,p as $,v as B,A as E}from"./vendor-DUGSf9MG.js";import{u as N}from"./useBangladeshFormat-DxO2X-Ux.js";import{_ as L}from"./AuthenticatedLayout-DdydbOmd.js";import{f as R,H as y,aR as b,h as v,s as T,E as _,a8 as U,b as w}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";const F={class:"flex items-center justify-between"},M={class:"flex items-center gap-2"},V={class:"py-8"},Q={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 space-y-6"},z={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5"},I={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},H={class:"flex items-start justify-between"},O={class:"flex-shrink-0 p-3 bg-green-100 rounded-lg"},W={class:"mt-4"},Y={class:"text-2xl font-bold text-gray-900 mt-1"},G={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},J={class:"flex items-start justify-between"},K={class:"flex-shrink-0 p-3 bg-blue-100 rounded-lg"},X={class:"mt-4"},Z={class:"text-2xl font-bold text-gray-900 mt-1"},tt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},et={class:"flex items-start justify-between"},st={class:"flex-shrink-0 p-3 bg-orange-100 rounded-lg"},ot={class:"mt-4"},at={class:"text-2xl font-bold text-gray-900 mt-1"},nt={class:"text-xs text-gray-500 mt-1"},it={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},rt={class:"flex items-start justify-between"},lt={class:"flex-shrink-0 p-3 bg-indigo-100 rounded-lg"},dt={class:"mt-4"},xt={class:"text-2xl font-bold text-gray-900 mt-1"},ct={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},gt={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},pt={class:"flex items-center gap-3"},mt={class:"flex-shrink-0 p-2 bg-gray-100 rounded-lg"},yt={class:"text-lg font-bold text-gray-900"},ut={class:"flex items-center gap-3"},ft={class:"flex-shrink-0 p-2 bg-green-100 rounded-lg"},ht={class:"text-lg font-bold text-green-600"},bt={class:"flex items-center gap-3"},vt={class:"flex-shrink-0 p-2 bg-yellow-100 rounded-lg"},_t={class:"text-lg font-bold text-yellow-600"},wt={class:"flex items-center gap-3"},kt={class:"flex-shrink-0 p-2 bg-red-100 rounded-lg"},At={class:"text-lg font-bold text-red-600"},St={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Ct={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},jt={key:0,class:"space-y-3"},Dt={class:"flex items-center gap-3"},Pt={class:"text-sm font-medium text-gray-900"},qt={class:"text-xs text-gray-600"},$t={class:"text-sm font-bold text-green-600"},Bt={key:1,class:"text-center py-8"},Et={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Nt={key:0,class:"space-y-3"},Lt={class:"flex items-center gap-3"},Rt={class:"flex-shrink-0 w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center"},Tt={class:"text-sm font-bold text-indigo-600"},Ut={class:"text-sm font-medium text-gray-900"},Ft={class:"text-xs text-gray-600"},Mt={class:"text-sm font-bold text-green-600"},Vt={key:1,class:"text-center py-8"},Qt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},zt={key:0,class:"overflow-x-auto"},It={class:"min-w-full divide-y divide-gray-200"},Ht={class:"bg-white divide-y divide-gray-200"},Ot={class:"px-6 py-4 whitespace-nowrap"},Wt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Yt={class:"px-6 py-4 text-sm text-gray-900"},Gt={class:"px-6 py-4 whitespace-nowrap"},Jt={class:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600"},Kt={key:1,class:"text-center py-8"},Xt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Zt={key:0,class:"overflow-x-auto"},te={class:"min-w-full divide-y divide-gray-200"},ee={class:"bg-white divide-y divide-gray-200"},se={class:"px-6 py-4 whitespace-nowrap"},oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ae={class:"px-6 py-4 text-sm text-gray-900"},ne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ie={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},re={class:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600"},le={key:1,class:"text-center py-8"},fe={__name:"Index",props:{financials:Object,periodEarnings:Array,monthlyBreakdown:Array,topServices:Array,recentCompletions:Array,pendingPayments:Array,period:String},setup(n){const k=n,{formatCurrency:x,formatDate:A}=N(),m=D(k.period||"30"),S=d=>{E.get(route("agency.earnings.index"),{period:d},{preserveState:!0,preserveScroll:!0})},C=d=>({completed:"bg-green-100 text-green-800",accepted:"bg-blue-100 text-blue-800",in_progress:"bg-indigo-100 text-indigo-800",pending:"bg-yellow-100 text-yellow-800"})[d]||"bg-gray-100 text-gray-800",j=d=>{const[e,s]=d.split("-");return new Date(e,s-1).toLocaleDateString("en-US",{month:"short",year:"numeric"})};return(d,e)=>(l(),r(c,null,[i(a(P),{title:"Earnings Dashboard - Agency Portal"}),i(L,null,{header:g(()=>[t("div",F,[e[3]||(e[3]=t("div",null,[t("h2",{class:"text-xl font-semibold text-gray-800"},"Earnings Dashboard"),t("p",{class:"text-sm text-gray-600 mt-1"},"Track your revenue and performance metrics")],-1)),t("div",M,[i(a(w),{class:"h-5 w-5 text-gray-400"}),$(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>m.value=s),onChange:e[1]||(e[1]=s=>S(m.value)),class:"border border-gray-300 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},[...e[2]||(e[2]=[t("option",{value:"7"},"Last 7 Days",-1),t("option",{value:"30"},"Last 30 Days",-1),t("option",{value:"90"},"Last 90 Days",-1),t("option",{value:"180"},"Last 6 Months",-1),t("option",{value:"365"},"Last Year",-1)])],544),[[B,m.value]])])])]),default:g(()=>[t("div",V,[t("div",Q,[t("div",z,[t("div",I,[t("div",H,[t("div",O,[i(a(R),{class:"h-6 w-6 text-green-600"})])]),t("div",W,[e[4]||(e[4]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Earnings",-1)),t("p",Y,o(a(x)(n.financials.total_earnings)),1),e[5]||(e[5]=t("p",{class:"text-xs text-gray-500 mt-1"},"From completed applications",-1))])]),t("div",G,[t("div",J,[t("div",K,[i(a(y),{class:"h-6 w-6 text-blue-600"})])]),t("div",X,[e[6]||(e[6]=t("p",{class:"text-sm font-medium text-gray-600"},"Pending Earnings",-1)),t("p",Z,o(a(x)(n.financials.pending_earnings)),1),e[7]||(e[7]=t("p",{class:"text-xs text-gray-500 mt-1"},"In progress applications",-1))])]),t("div",tt,[t("div",et,[t("div",st,[i(a(b),{class:"h-6 w-6 text-orange-600"})])]),t("div",ot,[e[8]||(e[8]=t("p",{class:"text-sm font-medium text-gray-600"},"Win Rate",-1)),t("p",at,o(n.financials.win_rate)+"% ",1),t("p",nt,o(n.financials.accepted_quotes)+" of "+o(n.financials.total_quotes)+" quotes won ",1)])]),t("div",it,[t("div",rt,[t("div",lt,[i(a(v),{class:"h-6 w-6 text-indigo-600"})])]),t("div",dt,[e[9]||(e[9]=t("p",{class:"text-sm font-medium text-gray-600"},"Avg Quote Amount",-1)),t("p",xt,o(a(x)(n.financials.avg_quote_amount)),1),e[10]||(e[10]=t("p",{class:"text-xs text-gray-500 mt-1"},"Across all quotes",-1))])])]),t("div",ct,[e[15]||(e[15]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Quote Performance",-1)),t("div",gt,[t("div",pt,[t("div",mt,[i(a(T),{class:"h-5 w-5 text-gray-600"})]),t("div",null,[e[11]||(e[11]=t("p",{class:"text-xs text-gray-500"},"Total Quotes",-1)),t("p",yt,o(n.financials.total_quotes),1)])]),t("div",ut,[t("div",ft,[i(a(_),{class:"h-5 w-5 text-green-600"})]),t("div",null,[e[12]||(e[12]=t("p",{class:"text-xs text-gray-500"},"Accepted",-1)),t("p",ht,o(n.financials.accepted_quotes),1)])]),t("div",bt,[t("div",vt,[i(a(y),{class:"h-5 w-5 text-yellow-600"})]),t("div",null,[e[13]||(e[13]=t("p",{class:"text-xs text-gray-500"},"Pending",-1)),t("p",_t,o(n.financials.pending_quotes),1)])]),t("div",wt,[t("div",kt,[i(a(U),{class:"h-5 w-5 text-red-600"})]),t("div",null,[e[14]||(e[14]=t("p",{class:"text-xs text-gray-500"},"Rejected",-1)),t("p",At,o(n.financials.rejected_quotes),1)])])])]),t("div",St,[t("div",Ct,[e[18]||(e[18]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Monthly Breakdown",-1)),n.monthlyBreakdown.length>0?(l(),r("div",jt,[(l(!0),r(c,null,p(n.monthlyBreakdown,s=>(l(),r("div",{key:s.month,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[t("div",Dt,[i(a(w),{class:"h-5 w-5 text-gray-400"}),t("div",null,[t("p",Pt,o(j(s.month)),1),t("p",qt,o(s.count)+" applications",1)])]),t("p",$t,o(a(x)(s.earnings)),1)]))),128))])):(l(),r("div",Bt,[i(a(v),{class:"mx-auto h-12 w-12 text-gray-400"}),e[16]||(e[16]=t("p",{class:"mt-2 text-sm font-medium text-gray-900"},"No data yet",-1)),e[17]||(e[17]=t("p",{class:"text-xs text-gray-500"},"Complete applications to see monthly breakdown",-1))]))]),t("div",Et,[e[21]||(e[21]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Top Services by Revenue",-1)),n.topServices.length>0?(l(),r("div",Nt,[(l(!0),r(c,null,p(n.topServices,(s,u)=>(l(),r("div",{key:s.service_module_id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[t("div",Lt,[t("div",Rt,[t("span",Tt,o(u+1),1)]),t("div",null,[t("p",Ut,o(s.service_module?.name||"Unknown Service"),1),t("p",Ft,o(s.count)+" applications",1)])]),t("p",Mt,o(a(x)(s.earnings)),1)]))),128))])):(l(),r("div",Vt,[i(a(b),{class:"mx-auto h-12 w-12 text-gray-400"}),e[19]||(e[19]=t("p",{class:"mt-2 text-sm font-medium text-gray-900"},"No data yet",-1)),e[20]||(e[20]=t("p",{class:"text-xs text-gray-500"},"Complete applications to see top services",-1))]))])]),t("div",Qt,[e[25]||(e[25]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Pending Payments",-1)),n.pendingPayments.length>0?(l(),r("div",zt,[t("table",It,[e[22]||(e[22]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Application"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"User"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Service"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Amount")])],-1)),t("tbody",Ht,[(l(!0),r(c,null,p(n.pendingPayments,s=>(l(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",Ot,[i(a(f),{href:d.route("agency.applications.show",s.id),class:"text-sm font-medium text-indigo-600 hover:text-indigo-900"},{default:g(()=>[h(o(s.application_number),1)]),_:2},1032,["href"])]),t("td",Wt,o(s.user?.name),1),t("td",Yt,o(s.service_module?.name),1),t("td",Gt,[t("span",{class:q(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold",C(s.status)])},o(s.status),3)]),t("td",Jt,o(a(x)(s.agency_earnings)),1)]))),128))])])])):(l(),r("div",Kt,[i(a(y),{class:"mx-auto h-12 w-12 text-gray-400"}),e[23]||(e[23]=t("p",{class:"mt-2 text-sm font-medium text-gray-900"},"No pending payments",-1)),e[24]||(e[24]=t("p",{class:"text-xs text-gray-500"},"All accepted applications are completed",-1))]))]),t("div",Xt,[e[29]||(e[29]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Recent Completions",-1)),n.recentCompletions.length>0?(l(),r("div",Zt,[t("table",te,[e[26]||(e[26]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Application"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"User"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Service"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Destination"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Completed"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Earnings")])],-1)),t("tbody",ee,[(l(!0),r(c,null,p(n.recentCompletions,s=>(l(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",se,[i(a(f),{href:d.route("agency.applications.show",s.id),class:"text-sm font-medium text-indigo-600 hover:text-indigo-900"},{default:g(()=>[h(o(s.application_number),1)]),_:2},1032,["href"])]),t("td",oe,o(s.user?.name),1),t("td",ae,o(s.service_module?.name),1),t("td",ne,o(s.tourist_visa?.destination_country?.name||"N/A"),1),t("td",ie,o(a(A)(s.completed_at)),1),t("td",re,o(a(x)(s.agency_earnings)),1)]))),128))])])])):(l(),r("div",le,[i(a(_),{class:"mx-auto h-12 w-12 text-gray-400"}),e[27]||(e[27]=t("p",{class:"mt-2 text-sm font-medium text-gray-900"},"No completed applications yet",-1)),e[28]||(e[28]=t("p",{class:"text-xs text-gray-500"},"Complete your first application to see it here",-1))]))])])])]),_:1})],64))}};export{fe as default};
