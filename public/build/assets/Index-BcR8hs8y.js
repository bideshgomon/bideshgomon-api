import{u as O,r as k,w as b,y as L,j as h,f,a as e,g as c,i as q,c as o,n as v,l as w,k as A,p as _,x as R,v as D,o as a,F as T,q as U,t as i,z as g,H as G,A as M}from"./vendor-DUGSf9MG.js";import{A as J}from"./AdminLayout-CRJ9cJUr.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const K={class:"py-12"},Q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},W={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},X={class:"p-6"},Y={class:"flex items-center justify-between mb-6"},Z={class:"flex gap-2"},ee={class:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4"},te={class:"overflow-x-auto"},re={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},se={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ae={class:"px-6 py-4 whitespace-nowrap"},ie={class:"text-sm font-medium text-gray-900 dark:text-white"},oe={class:"text-sm text-gray-500 dark:text-gray-400"},de={class:"px-6 py-4"},le={class:"flex items-center gap-2"},ne={class:"text-xl"},ce={class:"text-sm font-medium text-gray-900 dark:text-white"},ge={class:"text-xs text-gray-500 dark:text-gray-400 capitalize"},ue={class:"px-6 py-4 whitespace-nowrap"},xe={class:"px-6 py-4 whitespace-nowrap"},pe={class:"px-6 py-4 whitespace-nowrap"},me={class:"flex items-center gap-2"},ye={class:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2"},ke={class:"text-xs text-gray-600 dark:text-gray-400"},be={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},he={key:1,class:"text-gray-400"},fe={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},ve={class:"flex gap-2"},we=["onClick"],_e=["onClick"],Se=["onClick"],Ce=["onClick"],Ae={key:0,class:"mt-6"},De={class:"flex items-center justify-between"},Te={class:"text-sm text-gray-700 dark:text-gray-300"},Me={class:"flex gap-2"},Ve=["innerHTML"],ze={__name:"Index",props:{suggestions:Object,filters:Object},setup(d){const l=d,n=O({search:l.filters?.search||"",status:l.filters?.status||"",category:l.filters?.category||"",priority:l.filters?.priority||""}),u=k(l.filters?.search||""),x=k(l.filters?.status||""),p=k(l.filters?.category||""),m=k(l.filters?.priority||"");let V=null;const F=()=>{clearTimeout(V),V=setTimeout(()=>{y()},300)};b(x,()=>y()),b(p,()=>y()),b(m,()=>y()),b(u,()=>F());const y=()=>{n.search=u.value,n.status=x.value,n.category=p.value,n.priority=m.value,n.get(route("admin.data.smart-suggestions.index"),{preserveState:!0,preserveScroll:!0})},E=r=>({visa:"ðŸ›‚",profile:"ðŸ‘¤",document:"ðŸ“„",application:"ðŸ“",assessment:"â­"})[r]||"ðŸ’¡",H=r=>({urgent:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",high:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",low:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"})[r]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",j=r=>r.is_completed?"Completed":r.is_dismissed?"Dismissed":r.expires_at&&S(r.expires_at)?"Expired":"Active",B=r=>r.is_completed?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":r.is_dismissed?"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200":r.expires_at&&S(r.expires_at)?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",S=r=>new Date(r)<new Date,N=r=>new Date(r).toLocaleDateString(),$=r=>{window.open(r,"_blank")},z=r=>{confirm("Mark this suggestion as completed?")&&M.post(route("admin.data.smart-suggestions.mark-completed",r))},P=r=>{confirm("Dismiss this suggestion?")&&M.post(route("admin.data.smart-suggestions.dismiss",r))},I=r=>{confirm("Are you sure you want to delete this suggestion?")&&M.delete(route("admin.data.smart-suggestions.destroy",r))};return(r,s)=>(a(),L(J,null,{default:h(()=>[f(c(q),{title:"Smart Suggestions"}),e("div",K,[e("div",Q,[e("div",W,[e("div",X,[e("div",Y,[s[6]||(s[6]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Smart Suggestions"),e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Manage intelligent user suggestions with priorities and categories ")],-1)),e("div",Z,[f(c(w),{href:r.route("admin.data.smart-suggestions.bulk-upload"),class:"inline-flex items-center px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md font-semibold text-xs text-gray-700 dark:text-gray-300 uppercase tracking-widest shadow-sm hover:bg-gray-50 dark:hover:bg-gray-600"},{default:h(()=>[...s[4]||(s[4]=[A(" Bulk Upload ",-1)])]),_:1},8,["href"]),f(c(w),{href:r.route("admin.data.smart-suggestions.create"),class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700"},{default:h(()=>[...s[5]||(s[5]=[A(" Add Suggestion ",-1)])]),_:1},8,["href"])])]),e("div",ee,[_(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>u.value=t),type:"text",placeholder:"Search suggestions...",class:"rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[R,u.value]]),_(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>x.value=t),class:"rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[...s[7]||(s[7]=[e("option",{value:""},"All Status",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"completed"},"Completed",-1),e("option",{value:"dismissed"},"Dismissed",-1),e("option",{value:"expired"},"Expired",-1)])],512),[[D,x.value]]),_(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>p.value=t),class:"rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[...s[8]||(s[8]=[e("option",{value:""},"All Categories",-1),e("option",{value:"visa"},"ðŸ›‚ Visa",-1),e("option",{value:"profile"},"ðŸ‘¤ Profile",-1),e("option",{value:"document"},"ðŸ“„ Document",-1),e("option",{value:"application"},"ðŸ“ Application",-1),e("option",{value:"assessment"},"â­ Assessment",-1)])],512),[[D,p.value]]),_(e("select",{"onUpdate:modelValue":s[3]||(s[3]=t=>m.value=t),class:"rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[...s[9]||(s[9]=[e("option",{value:""},"All Priorities",-1),e("option",{value:"urgent"},"ðŸ”´ Urgent",-1),e("option",{value:"high"},"ðŸŸ  High",-1),e("option",{value:"medium"},"ðŸŸ¡ Medium",-1),e("option",{value:"low"},"ðŸ”µ Low",-1)])],512),[[D,m.value]])]),e("div",te,[e("table",re,[s[11]||(s[11]=e("thead",{class:"bg-gray-50 dark:bg-gray-900"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"User"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Title & Category"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Priority"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Relevance"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Expires"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",se,[(a(!0),o(T,null,U(d.suggestions.data,t=>(a(),o("tr",{key:t.id},[e("td",ae,[e("div",ie,i(t.user?.name||"N/A"),1),e("div",oe,i(t.user?.email||""),1)]),e("td",de,[e("div",le,[e("span",ne,i(E(t.category)),1),e("div",null,[e("div",ce,i(t.title),1),e("div",ge,i(t.category)+" â€¢ "+i(t.suggestion_type),1)])])]),e("td",ue,[e("span",{class:g(["px-2 py-1 text-xs font-semibold rounded-full",H(t.priority)])},i(t.priority),3)]),e("td",xe,[e("span",{class:g(["px-2 py-1 text-xs font-semibold rounded-full",B(t)])},i(j(t)),3)]),e("td",pe,[e("div",me,[e("div",ye,[e("div",{class:"bg-indigo-600 h-2 rounded-full",style:G({width:`${t.relevance_score}%`})},null,4)]),e("span",ke,i(t.relevance_score),1)])]),e("td",be,[t.expires_at?(a(),o("span",{key:0,class:g(S(t.expires_at)?"text-red-600 dark:text-red-400":"")},i(N(t.expires_at)),3)):(a(),o("span",he,"â€”"))]),e("td",fe,[e("div",ve,[t.action_url&&!t.is_completed&&!t.is_dismissed?(a(),o("button",{key:0,onClick:C=>$(t.action_url),class:"text-purple-600 hover:text-purple-900 dark:text-purple-400",title:"Take Action"}," âžœ ",8,we)):v("",!0),!t.is_completed&&!t.is_dismissed?(a(),o("button",{key:1,onClick:C=>z(t.id),class:"text-green-600 hover:text-green-900 dark:text-green-400",title:"Mark Completed"}," âœ“ ",8,_e)):v("",!0),!t.is_completed&&!t.is_dismissed?(a(),o("button",{key:2,onClick:C=>P(t.id),class:"text-gray-600 hover:text-gray-900 dark:text-gray-400",title:"Dismiss"}," âœ• ",8,Se)):v("",!0),f(c(w),{href:r.route("admin.data.smart-suggestions.edit",t.id),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400"},{default:h(()=>[...s[10]||(s[10]=[A(" Edit ",-1)])]),_:1},8,["href"]),e("button",{onClick:C=>I(t.id),class:"text-red-600 hover:text-red-900 dark:text-red-400"}," Delete ",8,Ce)])])]))),128))])])]),d.suggestions.data&&d.suggestions.data.length>0?(a(),o("div",Ae,[e("div",De,[e("div",Te," Showing "+i(d.suggestions.from)+" to "+i(d.suggestions.to)+" of "+i(d.suggestions.total)+" results ",1),e("div",Me,[(a(!0),o(T,null,U(d.suggestions.links,t=>(a(),o(T,{key:t.label},[t.url?(a(),L(c(w),{key:0,href:t.url,class:g(["px-3 py-1 rounded border text-sm",t.active?"bg-indigo-600 text-white border-indigo-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"]),innerHTML:t.label},null,8,["href","class","innerHTML"])):(a(),o("span",{key:1,class:g(["px-3 py-1 rounded border text-sm opacity-50 cursor-not-allowed",t.active?"bg-indigo-600 text-white border-indigo-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600"]),innerHTML:t.label},null,10,Ve))],64))),128))])])])):v("",!0)])])])])]),_:1}))}};export{ze as default};
