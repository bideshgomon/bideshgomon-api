import{u as F,r as I,B as w,y as x,j as b,f as l,a as e,g as t,i as P,l as h,k as u,m as U,c as a,n as i,z as p,p as c,Z as g,o as n,t as y,x as S,F as j,q as H,v as z}from"./vendor-DUGSf9MG.js";import{_ as E}from"./AuthenticatedLayout-DdydbOmd.js";import{bN as _,a as R,E as V,H as D}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";const G={class:"py-12"},L={class:"max-w-3xl mx-auto sm:px-6 lg:px-8"},W={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Z={class:"p-6"},J={class:"flex items-center justify-between mb-6"},K={class:"flex items-center gap-3"},Q={class:"p-2 bg-sky-100 rounded-lg"},X={class:"mb-4"},Y={class:"grid grid-cols-2 gap-4"},ee={key:0,class:"mt-1 text-sm text-red-600"},te={class:"mb-4"},se={for:"appointment_date",class:"block text-sm font-medium text-gray-700 mb-2"},oe=["min","max"],ne={key:0,class:"mt-1 text-sm text-red-600"},re={key:0,class:"mb-4"},ae={class:"block text-sm font-medium text-gray-700 mb-2"},ie={key:0,class:"grid grid-cols-4 gap-2"},le=["value"],pe={key:1,class:"text-center py-8 text-gray-500"},de={key:0,class:"mt-1 text-sm text-amber-600"},me={key:1,class:"mt-1 text-sm"},ue={key:2,class:"mt-1 text-sm text-red-600"},ce={class:"mb-4"},ye={key:0,class:"mt-1 text-sm text-red-600"},xe={class:"mb-6"},fe={key:0,class:"mt-1 text-sm text-red-600"},be={class:"flex items-center justify-end gap-3"},ge=["disabled"],_e={key:1},ve={key:2},Be={__name:"Create",props:{availableSlots:Object},setup(T){const A=T,o=F({appointment_type:"office_visit",appointment_date:"",appointment_time:"",purpose:"",notes:""}),v=new Date,B=v.toISOString().split("T")[0],M=new Date(v.getTime()+720*60*60*1e3).toISOString().split("T")[0],f=I([]),k=w(()=>o.appointment_type&&o.appointment_date&&o.appointment_time&&o.purpose),C=w(()=>{if(!o.appointment_date)return!1;const s=new Date(o.appointment_date+"T00:00:00").getDay();return s===0||s===6}),N=()=>{const d=o.appointment_date;f.value=A.availableSlots[d]||[],o.appointment_time=""},O=d=>{const[s,r]=d.split(":"),m=parseInt(s),q=m>=12?"PM":"AM";return`${m>12?m-12:m===0?12:m}:${r} ${q}`},$=()=>{o.post(route("appointments.store"),{preserveScroll:!0})};return(d,s)=>(n(),x(E,null,{default:b(()=>[l(t(P),{title:"Book Appointment"}),e("div",G,[e("div",L,[e("div",W,[e("div",Z,[e("div",J,[e("div",K,[e("div",Q,[l(t(_),{class:"w-8 h-8 text-sky-600"})]),s[6]||(s[6]=e("h2",{class:"text-2xl font-bold text-gray-900"},"Book Appointment",-1))]),l(t(h),{href:d.route("appointments.index"),class:"inline-flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900"},{default:b(()=>[l(t(R),{class:"w-4 h-4"}),s[7]||(s[7]=u(" Back ",-1))]),_:1},8,["href"])]),e("form",{onSubmit:U($,["prevent"])},[e("div",X,[s[10]||(s[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[u(" Appointment Type "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Y,[e("label",{class:p(["relative flex cursor-pointer rounded-xl border-2 p-4 focus:outline-none",t(o).appointment_type==="office_visit"?"border-sky-600 bg-sky-50":"border-gray-300 hover:border-sky-300"])},[c(e("input",{type:"radio","onUpdate:modelValue":s[0]||(s[0]=r=>t(o).appointment_type=r),value:"office_visit",class:"sr-only"},null,512),[[g,t(o).appointment_type]]),s[8]||(s[8]=e("div",{class:"flex flex-1"},[e("div",{class:"flex flex-col"},[e("span",{class:"block text-sm font-semibold text-gray-900"},"Office Visit"),e("span",{class:"mt-1 flex items-center text-sm text-gray-500"},"In-person meeting")])],-1)),t(o).appointment_type==="office_visit"?(n(),x(t(V),{key:0,class:"h-6 w-6 text-sky-600"})):i("",!0)],2),e("label",{class:p(["relative flex cursor-pointer rounded-xl border-2 p-4 focus:outline-none",t(o).appointment_type==="online_meeting"?"border-sky-600 bg-sky-50":"border-gray-300 hover:border-sky-300"])},[c(e("input",{type:"radio","onUpdate:modelValue":s[1]||(s[1]=r=>t(o).appointment_type=r),value:"online_meeting",class:"sr-only"},null,512),[[g,t(o).appointment_type]]),s[9]||(s[9]=e("div",{class:"flex flex-1"},[e("div",{class:"flex flex-col"},[e("span",{class:"block text-sm font-semibold text-gray-900"},"Online Meeting"),e("span",{class:"mt-1 flex items-center text-sm text-gray-500"},"Video call")])],-1)),t(o).appointment_type==="online_meeting"?(n(),x(t(V),{key:0,class:"h-6 w-6 text-sky-600"})):i("",!0)],2)]),t(o).errors.appointment_type?(n(),a("p",ee,y(t(o).errors.appointment_type),1)):i("",!0)]),e("div",te,[e("label",se,[l(t(_),{class:"w-4 h-4 inline mr-1"}),s[11]||(s[11]=u(" Select Date ",-1)),s[12]||(s[12]=e("span",{class:"text-red-500"},"*",-1))]),c(e("input",{id:"appointment_date","onUpdate:modelValue":s[2]||(s[2]=r=>t(o).appointment_date=r),type:"date",min:t(B),max:t(M),onChange:N,class:p(["w-full rounded-lg border-gray-300 shadow-sm focus:border-sky-500 focus:ring-sky-500",{"border-red-500":t(o).errors.appointment_date}]),required:""},null,42,oe),[[S,t(o).appointment_date]]),t(o).errors.appointment_date?(n(),a("p",ne,y(t(o).errors.appointment_date),1)):i("",!0),s[13]||(s[13]=e("p",{class:"mt-1 text-xs text-gray-500"},"Available: Monday - Friday, next 30 days",-1))]),t(o).appointment_date?(n(),a("div",re,[e("label",ae,[l(t(D),{class:"w-4 h-4 inline mr-1"}),s[14]||(s[14]=u(" Select Time ",-1)),s[15]||(s[15]=e("span",{class:"text-red-500"},"*",-1))]),f.value.length>0?(n(),a("div",ie,[(n(!0),a(j,null,H(f.value,r=>(n(),a("label",{key:r,class:p(["relative flex cursor-pointer rounded-lg border-2 p-2 text-center focus:outline-none",t(o).appointment_time===r?"border-sky-600 bg-sky-50":"border-gray-300 hover:border-sky-300"])},[c(e("input",{type:"radio","onUpdate:modelValue":s[3]||(s[3]=m=>t(o).appointment_time=m),value:r,class:"sr-only"},null,8,le),[[g,t(o).appointment_time]]),e("span",{class:p(["flex-1 text-sm font-medium",t(o).appointment_time===r?"text-sky-900":"text-gray-900"])},y(O(r)),3)],2))),128))])):(n(),a("div",pe,[l(t(D),{class:"mx-auto h-12 w-12 text-gray-400"}),s[16]||(s[16]=e("p",{class:"mt-2 font-medium"},"No available time slots for this date",-1)),C.value?(n(),a("p",de,"Office is closed on weekends. Please select a weekday.")):(n(),a("p",me,"All slots are booked. Please try another date."))])),t(o).errors.appointment_time?(n(),a("p",ue,y(t(o).errors.appointment_time),1)):i("",!0)])):i("",!0),e("div",ce,[s[18]||(s[18]=e("label",{for:"purpose",class:"block text-sm font-medium text-gray-700 mb-2"},[u(" Purpose "),e("span",{class:"text-red-500"},"*")],-1)),c(e("select",{id:"purpose","onUpdate:modelValue":s[4]||(s[4]=r=>t(o).purpose=r),class:p(["w-full rounded-lg border-gray-300 shadow-sm focus:border-sky-500 focus:ring-sky-500",{"border-red-500":t(o).errors.purpose}]),required:""},[...s[17]||(s[17]=[e("option",{value:""},"Select Purpose",-1),e("option",{value:"consultation"},"Consultation",-1),e("option",{value:"document_submission"},"Document Submission",-1),e("option",{value:"general_inquiry"},"General Inquiry",-1),e("option",{value:"visa_interview_prep"},"Visa Interview Preparation",-1),e("option",{value:"application_review"},"Application Review",-1)])],2),[[z,t(o).purpose]]),t(o).errors.purpose?(n(),a("p",ye,y(t(o).errors.purpose),1)):i("",!0)]),e("div",xe,[s[19]||(s[19]=e("label",{for:"notes",class:"block text-sm font-medium text-gray-700 mb-2"}," Additional Notes (Optional) ",-1)),c(e("textarea",{id:"notes","onUpdate:modelValue":s[5]||(s[5]=r=>t(o).notes=r),rows:"4",class:p(["w-full rounded-lg border-gray-300 shadow-sm focus:border-sky-500 focus:ring-sky-500",{"border-red-500":t(o).errors.notes}]),placeholder:"Any specific requirements or topics you'd like to discuss..."},null,2),[[S,t(o).notes]]),t(o).errors.notes?(n(),a("p",fe,y(t(o).errors.notes),1)):i("",!0)]),e("div",be,[l(t(h),{href:d.route("appointments.index"),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"},{default:b(()=>[...s[20]||(s[20]=[u(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:t(o).processing||!k.value,class:p(["inline-flex items-center gap-2 px-6 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 font-medium transition-colors",{"opacity-50 cursor-not-allowed":t(o).processing||!k.value}])},[t(o).processing?i("",!0):(n(),x(t(_),{key:0,class:"w-5 h-5"})),t(o).processing?(n(),a("span",_e,"Booking...")):(n(),a("span",ve,"Book Appointment"))],10,ge)])],32)])])])])]),_:1}))}};export{Be as default};
