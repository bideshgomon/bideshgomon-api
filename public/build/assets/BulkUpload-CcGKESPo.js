import{u as p,y as m,j as d,f as o,a as t,g as r,i as y,l as c,k as a,m as x,c as b,n as f,o as i,t as n}from"./vendor-DUGSf9MG.js";import{A as v}from"./AdminLayout-CRJ9cJUr.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const k={class:"py-12"},h={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},_={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},w={class:"p-6"},S={class:"flex items-center justify-between mb-6"},D={class:"mb-6"},E={class:"flex gap-4"},B=["href"],C=["href"],O={class:"mb-6"},V={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},N=["disabled"],M={__name:"BulkUpload",setup(U){const s=p({file:null}),g=l=>{s.file=l.target.files[0]},u=()=>{s.post(route("admin.data.system-events.process-upload"),{onSuccess:()=>{s.reset()}})};return(l,e)=>(i(),m(v,null,{default:d(()=>[o(r(y),{title:"Bulk Upload System Events"}),t("div",k,[t("div",h,[t("div",_,[t("div",w,[t("div",S,[e[1]||(e[1]=t("div",null,[t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Bulk Upload System Events"),t("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Upload multiple events via CSV file ")],-1)),o(r(c),{href:l.route("admin.data.system-events.index"),class:"inline-flex items-center px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md font-semibold text-xs text-gray-700 dark:text-gray-300 uppercase tracking-widest shadow-sm hover:bg-gray-50 dark:hover:bg-gray-600"},{default:d(()=>[...e[0]||(e[0]=[a(" Back ",-1)])]),_:1},8,["href"])]),e[4]||(e[4]=t("div",{class:"mb-6 bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-700 rounded-lg p-4"},[t("h3",{class:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2"},"üìã Instructions"),t("ul",{class:"text-sm text-blue-700 dark:text-blue-300 space-y-1 list-disc list-inside"},[t("li",null,"Download the template CSV file and fill in your data"),t("li",null,[t("strong",null,"event_type"),a(": Required - use dot notation (e.g., user.login)")]),t("li",null,[t("strong",null,"user_id"),a(": Optional - must be a valid user ID")]),t("li",null,[t("strong",null,"target_type"),a(": Optional - entity type (e.g., Job, Payment)")]),t("li",null,[t("strong",null,"target_id"),a(": Optional - entity ID number")]),t("li",null,[t("strong",null,"data"),a(": Optional - valid JSON format")])])],-1)),t("div",D,[e[2]||(e[2]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-3"},"1. Download Template",-1)),t("div",E,[t("a",{href:l.route("admin.data.system-events.template"),class:"inline-flex items-center px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md font-semibold text-xs text-gray-700 dark:text-gray-300 uppercase tracking-widest shadow-sm hover:bg-gray-50 dark:hover:bg-gray-600"}," Download Empty Template ",8,B),t("a",{href:l.route("admin.data.system-events.template")+"?sample=true",class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700"}," Download Sample Data ",8,C)])]),t("div",O,[e[3]||(e[3]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-3"},"2. Upload CSV File",-1)),t("form",{onSubmit:x(u,["prevent"]),class:"space-y-4"},[t("div",null,[t("input",{type:"file",onChange:g,accept:".csv",class:"block w-full text-sm text-gray-900 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer bg-gray-50 dark:bg-gray-700 focus:outline-none",required:""},null,32),r(s).errors.file?(i(),b("p",V,n(r(s).errors.file),1)):f("",!0)]),t("div",null,[t("button",{type:"submit",disabled:r(s).processing||!r(s).file,class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 focus:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-50"},n(r(s).processing?"Processing...":"Upload and Process"),9,N)])],32)]),e[5]||(e[5]=t("div",{class:"border border-gray-200 dark:border-gray-700 rounded-lg p-4"},[t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-3"},"üìù CSV Format Guide"),t("div",{class:"space-y-4"},[t("div",null,[t("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Required Fields:"),t("ul",{class:"text-sm text-gray-600 dark:text-gray-400 space-y-1 list-disc list-inside"},[t("li",null,[t("code",null,"event_type"),a(" - Event type in dot notation")])])]),t("div",null,[t("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Optional Fields:"),t("ul",{class:"text-sm text-gray-600 dark:text-gray-400 space-y-1 list-disc list-inside"},[t("li",null,[t("code",null,"user_id"),a(" - User database ID")]),t("li",null,[t("code",null,"target_type"),a(" - Entity type (Job, Payment, Document, etc.)")]),t("li",null,[t("code",null,"target_id"),a(" - Entity ID number")]),t("li",null,[t("code",null,"data"),a(" - JSON formatted additional data")])])]),t("div",null,[t("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Event Type Examples:"),t("div",{class:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm"},[t("div",{class:"p-2 bg-gray-50 dark:bg-gray-700 rounded"},"user.login"),t("div",{class:"p-2 bg-gray-50 dark:bg-gray-700 rounded"},"user.logout"),t("div",{class:"p-2 bg-gray-50 dark:bg-gray-700 rounded"},"job.created"),t("div",{class:"p-2 bg-gray-50 dark:bg-gray-700 rounded"},"job.updated"),t("div",{class:"p-2 bg-gray-50 dark:bg-gray-700 rounded"},"payment.processed"),t("div",{class:"p-2 bg-gray-50 dark:bg-gray-700 rounded"},"document.verified")])]),t("div",null,[t("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"JSON Data Example:"),t("pre",{class:"bg-gray-100 dark:bg-gray-900 p-3 rounded text-xs overflow-x-auto"},[t("code",null,'{"ip":"192.168.1.1","user_agent":"Mozilla/5.0","action":"profile_update"}')])]),t("div",null,[t("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Example Rows:"),t("div",{class:"bg-gray-100 dark:bg-gray-900 p-3 rounded text-xs overflow-x-auto"},[t("table",{class:"min-w-full"},[t("thead",null,[t("tr",{class:"border-b border-gray-300 dark:border-gray-700"},[t("th",{class:"text-left py-1 px-2"},"event_type"),t("th",{class:"text-left py-1 px-2"},"user_id"),t("th",{class:"text-left py-1 px-2"},"target_type"),t("th",{class:"text-left py-1 px-2"},"target_id"),t("th",{class:"text-left py-1 px-2"},"data")])]),t("tbody",null,[t("tr",null,[t("td",{class:"py-1 px-2"},"user.login"),t("td",{class:"py-1 px-2"},"1"),t("td",{class:"py-1 px-2"}),t("td",{class:"py-1 px-2"}),t("td",{class:"py-1 px-2"},'{"ip":"192.168.1.1"}')]),t("tr",null,[t("td",{class:"py-1 px-2"},"job.created"),t("td",{class:"py-1 px-2"},"2"),t("td",{class:"py-1 px-2"},"Job"),t("td",{class:"py-1 px-2"},"123"),t("td",{class:"py-1 px-2"},'{"title":"Software Engineer"}')])])])])])])],-1))])])])])]),_:1}))}};export{M as default};
