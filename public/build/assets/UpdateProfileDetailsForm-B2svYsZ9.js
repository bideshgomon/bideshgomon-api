import{r as V,u as N,B as D,c as l,a as r,f as n,g as s,j as h,p as m,x as c,o as i,F as g,q as v,t as p,v as _,n as P,k as B,N as M,m as F}from"./vendor-DUGSf9MG.js";import{_ as a,a as u}from"./InputLabel-BE_Q-CXj.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as x}from"./TextInput-DuChkXJz.js";import{_ as T}from"./RhythmicCard-C3WPuz9Q.js";import{F as Y}from"./FlowButton-B_7IFJCy.js";import{u as j}from"./useBangladeshFormat-DxO2X-Ux.js";import{B as C,G as z,a as U}from"./profileData-wuUZFphI.js";import{b1 as G}from"./heroicons-BVxQTyTq.js";/* empty css                                                                   */const O={class:"mb-6"},H={class:"flex items-center gap-3 mb-2"},R={class:"w-10 h-10 rounded-xl bg-green-600 flex items-center justify-center shadow-sm"},Z={class:"space-y-rhythm-sm mb-6"},q={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},J={class:"space-y-rhythm-xs"},K={class:"space-y-rhythm-xs"},Q={class:"space-y-rhythm-xs"},W=["value"],X={class:"space-y-rhythm-xs"},ee={id:"nationalities-list"},se=["value"],te={class:"border-t pt-6"},oe={class:"space-y-4"},re=["value"],ne={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},le=["value"],ie=["value"],de=["placeholder","disabled"],ae={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},ue={class:"border-t pt-6"},me={class:"space-y-4"},pe=["value"],ce={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},ge=["value"],ve=["value"],_e=["placeholder","disabled"],fe={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},ye={class:"space-y-4"},be={key:0,class:"rounded-md bg-red-50 p-3 md:p-4 text-sm md:text-base"},xe={class:"flex"},we={class:"ml-3"},he={class:"text-xs md:text-sm font-medium text-red-800"},ke={class:"ml-auto pl-3"},Se={class:"hidden md:flex items-center gap-4 mt-rhythm-lg"},Ve={key:0,class:"text-sm text-green-600 font-medium"},De={class:"md:hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4 shadow-2xl z-30 safe-area-bottom"},Pe=["disabled"],Be={key:0,class:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Ce={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ue={__name:"UpdateProfileDetailsForm",props:{userProfile:Object,divisions:Array,countries:Array},setup(w){const d=w,{formatDateFromISO:k,parseDateToISO:A}=j(),f=V(d.userProfile?.dob?k(d.userProfile.dob):""),e=N({bio:d.userProfile?.bio||"",dob:d.userProfile?.dob||"",gender:d.userProfile?.gender||"",nationality:d.userProfile?.nationality||"Bangladeshi",present_address_line:d.userProfile?.present_address_line||"",present_country:d.userProfile?.present_country||"Bangladesh",present_division:d.userProfile?.present_division||"",present_district:d.userProfile?.present_district||"",present_city:d.userProfile?.present_city||"",present_postal_code:d.userProfile?.present_postal_code||"",permanent_address_line:d.userProfile?.permanent_address_line||"",permanent_country:d.userProfile?.permanent_country||"Bangladesh",permanent_division:d.userProfile?.permanent_division||"",permanent_district:d.userProfile?.permanent_district||"",permanent_city:d.userProfile?.permanent_city||"",permanent_postal_code:d.userProfile?.permanent_postal_code||"",nid:d.userProfile?.nid||""}),E=D(()=>e.present_division?C[e.present_division]||[]:[]),I=D(()=>e.permanent_division?C[e.permanent_division]||[]:[]),L=b=>{f.value=b,e.dob=A(b)},y=V(""),S=()=>{y.value="",e.post(route("profile.update.details"),{preserveScroll:!0,onSuccess:()=>{e.dob&&(f.value=k(e.dob))},onError:b=>{y.value="Failed to save profile details. Please check the form and try again.",console.error("Save error:",b)}})};return(b,t)=>(i(),l("section",null,[r("header",O,[r("div",H,[r("div",R,[n(s(G),{class:"h-6 w-6 text-white"})]),t[27]||(t[27]=r("div",null,[r("h2",{class:"font-display font-bold text-xl text-gray-800"},"Profile Details"),r("p",{class:"text-xs text-gray-500"},"Personal information and address")],-1))])]),r("form",{onSubmit:F(S,["prevent"]),class:"space-y-rhythm-md"},[n(T,{variant:"light",class:"space-y-rhythm-md"},{default:h(()=>[r("div",Z,[n(a,{for:"bio",value:"Bio",class:"text-sm md:text-base"}),m(r("textarea",{id:"bio","onUpdate:modelValue":t[0]||(t[0]=o=>s(e).bio=o),class:"block w-full border-gray-300 focus:border-ocean-500 focus:ring-ocean-500 rounded-lg shadow-sm text-base py-3 px-4 touch-manipulation",rows:"3",placeholder:"Tell us about yourself..."},null,512),[[c,s(e).bio]]),n(u,{class:"mt-1",message:s(e).errors.bio},null,8,["message"])]),r("div",q,[r("div",J,[n(a,{for:"dob",value:"Date of Birth"}),m(r("input",{id:"dob",type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>f.value=o),onBlur:t[2]||(t[2]=o=>L(f.value)),class:"block w-full border-gray-300 focus:border-ocean-500 focus:ring-ocean-500 rounded-lg shadow-sm py-2 px-3",placeholder:"DD/MM/YYYY"},null,544),[[c,f.value]]),t[28]||(t[28]=r("p",{class:"text-xs text-gray-500"},"Format: DD/MM/YYYY (e.g., 15/08/1990)",-1)),n(u,{message:s(e).errors.dob},null,8,["message"])]),r("div",K,[n(a,{for:"nid",value:"National ID (NID)"}),n(x,{id:"nid",type:"text",class:"block w-full",modelValue:s(e).nid,"onUpdate:modelValue":t[3]||(t[3]=o=>s(e).nid=o),placeholder:"10 or 17 digits"},null,8,["modelValue"]),n(u,{message:s(e).errors.nid},null,8,["message"])]),r("div",Q,[n(a,{for:"gender",value:"Gender"}),m(r("select",{id:"gender","onUpdate:modelValue":t[4]||(t[4]=o=>s(e).gender=o),class:"block w-full border-gray-300 focus:border-ocean-500 focus:ring-ocean-500 rounded-lg shadow-sm py-2 px-3"},[t[29]||(t[29]=r("option",{value:""},"Select Gender",-1)),(i(!0),l(g,null,v(s(z),o=>(i(),l("option",{key:o,value:o.toLowerCase()},p(o),9,W))),128))],512),[[_,s(e).gender]]),n(u,{message:s(e).errors.gender},null,8,["message"])])]),r("div",X,[n(a,{for:"nationality",value:"Nationality"}),m(r("input",{id:"nationality","onUpdate:modelValue":t[5]||(t[5]=o=>s(e).nationality=o),list:"nationalities-list",type:"text",placeholder:"Type to search nationality...",class:"block w-full border-gray-300 focus:border-ocean-500 focus:ring-ocean-500 rounded-lg shadow-sm py-2 px-3"},null,512),[[c,s(e).nationality]]),r("datalist",ee,[(i(!0),l(g,null,v(w.countries,o=>(i(),l("option",{key:o.id,value:o.nationality},p(o.nationality),9,se))),128))]),n(u,{message:s(e).errors.nationality},null,8,["message"])]),r("div",te,[t[33]||(t[33]=r("h3",{class:"text-md font-medium text-gray-900 mb-4"},"Present Address",-1)),r("div",oe,[r("div",null,[n(a,{for:"present_country",value:"Country"}),m(r("select",{id:"present_country","onUpdate:modelValue":t[6]||(t[6]=o=>s(e).present_country=o),onChange:t[7]||(t[7]=o=>{s(e).present_division="",s(e).present_district=""}),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[t[30]||(t[30]=r("option",{value:""},"Select Country",-1)),(i(!0),l(g,null,v(w.countries,o=>(i(),l("option",{key:o.id,value:o.name},p(o.flag_emoji)+" "+p(o.name),9,re))),128))],544),[[_,s(e).present_country]]),n(u,{class:"mt-2",message:s(e).errors.present_country},null,8,["message"])]),r("div",ne,[r("div",null,[n(a,{for:"present_division",value:s(e).present_country==="Bangladesh"?"Division":"State/Province/Region"},null,8,["value"]),s(e).present_country==="Bangladesh"?m((i(),l("select",{key:0,id:"present_division","onUpdate:modelValue":t[8]||(t[8]=o=>s(e).present_division=o),onChange:t[9]||(t[9]=o=>s(e).present_district=""),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[t[31]||(t[31]=r("option",{value:""},"Select Division",-1)),(i(!0),l(g,null,v(s(U),o=>(i(),l("option",{key:o,value:o},p(o),9,le))),128))],544)),[[_,s(e).present_division]]):m((i(),l("input",{key:1,type:"text",id:"present_division","onUpdate:modelValue":t[10]||(t[10]=o=>s(e).present_division=o),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",placeholder:"Enter state/province/region"},null,512)),[[c,s(e).present_division]]),n(u,{class:"mt-2",message:s(e).errors.present_division},null,8,["message"])]),r("div",null,[n(a,{for:"present_district",value:s(e).present_country==="Bangladesh"?"District":"City/District"},null,8,["value"]),s(e).present_country==="Bangladesh"&&s(e).present_division?m((i(),l("select",{key:0,id:"present_district","onUpdate:modelValue":t[11]||(t[11]=o=>s(e).present_district=o),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[t[32]||(t[32]=r("option",{value:""},"Select District",-1)),(i(!0),l(g,null,v(E.value,o=>(i(),l("option",{key:o,value:o},p(o),9,ie))),128))],512)),[[_,s(e).present_district]]):m((i(),l("input",{key:1,type:"text",id:"present_district","onUpdate:modelValue":t[12]||(t[12]=o=>s(e).present_district=o),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",placeholder:s(e).present_country==="Bangladesh"?"Select division first":"Enter city/district",disabled:s(e).present_country==="Bangladesh"&&!s(e).present_division},null,8,de)),[[c,s(e).present_district]]),n(u,{class:"mt-2",message:s(e).errors.present_district},null,8,["message"])])]),r("div",ae,[r("div",null,[n(a,{for:"present_city",value:"City"}),n(x,{id:"present_city",modelValue:s(e).present_city,"onUpdate:modelValue":t[13]||(t[13]=o=>s(e).present_city=o),type:"text",class:"mt-1 block w-full",placeholder:"Enter city"},null,8,["modelValue"]),n(u,{class:"mt-2",message:s(e).errors.present_city},null,8,["message"])]),r("div",null,[n(a,{for:"present_postal_code",value:"Postal/ZIP Code"}),n(x,{id:"present_postal_code",modelValue:s(e).present_postal_code,"onUpdate:modelValue":t[14]||(t[14]=o=>s(e).present_postal_code=o),type:"text",class:"mt-1 block w-full",placeholder:"Enter postal code"},null,8,["modelValue"]),n(u,{class:"mt-2",message:s(e).errors.present_postal_code},null,8,["message"])])]),r("div",null,[n(a,{for:"present_address_line",value:"Street Address"}),m(r("textarea",{id:"present_address_line","onUpdate:modelValue":t[15]||(t[15]=o=>s(e).present_address_line=o),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",rows:"2",placeholder:"House/Apartment number, Street, Area"},null,512),[[c,s(e).present_address_line]]),n(u,{class:"mt-2",message:s(e).errors.present_address_line},null,8,["message"])])])]),r("div",ue,[t[37]||(t[37]=r("h3",{class:"text-md font-medium text-gray-900 mb-4"},"Permanent Address",-1)),r("div",me,[r("div",null,[n(a,{for:"permanent_country",value:"Country"}),m(r("select",{id:"permanent_country","onUpdate:modelValue":t[16]||(t[16]=o=>s(e).permanent_country=o),onChange:t[17]||(t[17]=o=>{s(e).permanent_division="",s(e).permanent_district=""}),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[t[34]||(t[34]=r("option",{value:""},"Select Country",-1)),(i(!0),l(g,null,v(w.countries,o=>(i(),l("option",{key:o.id,value:o.name},p(o.flag_emoji)+" "+p(o.name),9,pe))),128))],544),[[_,s(e).permanent_country]]),n(u,{class:"mt-2",message:s(e).errors.permanent_country},null,8,["message"])]),r("div",ce,[r("div",null,[n(a,{for:"permanent_division",value:s(e).permanent_country==="Bangladesh"?"Division":"State/Province/Region"},null,8,["value"]),s(e).permanent_country==="Bangladesh"?m((i(),l("select",{key:0,id:"permanent_division","onUpdate:modelValue":t[18]||(t[18]=o=>s(e).permanent_division=o),onChange:t[19]||(t[19]=o=>s(e).permanent_district=""),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[t[35]||(t[35]=r("option",{value:""},"Select Division",-1)),(i(!0),l(g,null,v(s(U),o=>(i(),l("option",{key:o,value:o},p(o),9,ge))),128))],544)),[[_,s(e).permanent_division]]):m((i(),l("input",{key:1,type:"text",id:"permanent_division","onUpdate:modelValue":t[20]||(t[20]=o=>s(e).permanent_division=o),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",placeholder:"Enter state/province/region"},null,512)),[[c,s(e).permanent_division]]),n(u,{class:"mt-2",message:s(e).errors.permanent_division},null,8,["message"])]),r("div",null,[n(a,{for:"permanent_district",value:s(e).permanent_country==="Bangladesh"?"District":"City/District"},null,8,["value"]),s(e).permanent_country==="Bangladesh"&&s(e).permanent_division?m((i(),l("select",{key:0,id:"permanent_district","onUpdate:modelValue":t[21]||(t[21]=o=>s(e).permanent_district=o),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[t[36]||(t[36]=r("option",{value:""},"Select District",-1)),(i(!0),l(g,null,v(I.value,o=>(i(),l("option",{key:o,value:o},p(o),9,ve))),128))],512)),[[_,s(e).permanent_district]]):m((i(),l("input",{key:1,type:"text",id:"permanent_district","onUpdate:modelValue":t[22]||(t[22]=o=>s(e).permanent_district=o),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",placeholder:s(e).permanent_country==="Bangladesh"?"Select division first":"Enter city/district",disabled:s(e).permanent_country==="Bangladesh"&&!s(e).permanent_division},null,8,_e)),[[c,s(e).permanent_district]]),n(u,{class:"mt-2",message:s(e).errors.permanent_district},null,8,["message"])])]),r("div",fe,[r("div",null,[n(a,{for:"permanent_city",value:"City"}),n(x,{id:"permanent_city",modelValue:s(e).permanent_city,"onUpdate:modelValue":t[23]||(t[23]=o=>s(e).permanent_city=o),type:"text",class:"mt-1 block w-full",placeholder:"Enter city"},null,8,["modelValue"]),n(u,{class:"mt-2",message:s(e).errors.permanent_city},null,8,["message"])]),r("div",null,[n(a,{for:"permanent_postal_code",value:"Postal/ZIP Code"}),n(x,{id:"permanent_postal_code",modelValue:s(e).permanent_postal_code,"onUpdate:modelValue":t[24]||(t[24]=o=>s(e).permanent_postal_code=o),type:"text",class:"mt-1 block w-full",placeholder:"Enter postal code"},null,8,["modelValue"]),n(u,{class:"mt-2",message:s(e).errors.permanent_postal_code},null,8,["message"])])]),r("div",null,[n(a,{for:"permanent_address_line",value:"Street Address"}),m(r("textarea",{id:"permanent_address_line","onUpdate:modelValue":t[25]||(t[25]=o=>s(e).permanent_address_line=o),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",rows:"2",placeholder:"House/Apartment number, Street, Area"},null,512),[[c,s(e).permanent_address_line]]),n(u,{class:"mt-2",message:s(e).errors.permanent_address_line},null,8,["message"])])])]),r("div",ye,[y.value?(i(),l("div",be,[r("div",xe,[t[39]||(t[39]=r("div",{class:"flex-shrink-0"},[r("svg",{class:"h-4 w-4 md:h-5 md:w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})])],-1)),r("div",we,[r("h3",he,p(y.value),1)]),r("div",ke,[r("button",{onClick:t[26]||(t[26]=o=>y.value=""),class:"inline-flex rounded-md bg-red-50 p-1.5 text-red-500 hover:bg-red-100 touch-manipulation"},[...t[38]||(t[38]=[r("span",{class:"sr-only"},"Dismiss",-1),r("svg",{class:"h-4 w-4 md:h-5 md:w-5",viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})],-1)])])])])])):P("",!0),r("div",Se,[n(Y,{type:"submit",disabled:s(e).processing,loading:s(e).processing},{default:h(()=>[...t[40]||(t[40]=[B(" Save Changes ",-1)])]),_:1},8,["disabled","loading"]),n(M,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:h(()=>[s(e).recentlySuccessful?(i(),l("p",Ve," ✓ Saved successfully! ")):P("",!0)]),_:1})])])]),_:1})],32),r("div",De,[r("button",{onClick:S,disabled:s(e).processing,class:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-6 rounded-xl shadow-lg active:scale-98 transition-all touch-manipulation disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-base"},[s(e).processing?(i(),l("svg",Be,[...t[41]||(t[41]=[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(i(),l("svg",Ce,[...t[42]||(t[42]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])),B(" "+p(s(e).processing?"Saving...":s(e).recentlySuccessful?"✓ Saved!":"Save Changes"),1)],8,Pe)]),t[43]||(t[43]=r("div",{class:"md:hidden h-24"},null,-1))]))}},je=$(Ue,[["__scopeId","data-v-c1fd6819"]]);export{je as default};
