import{u as h,y,j as v,a as t,m as f,c as r,n as d,p as u,g as l,o as a,F as p,q as x,t as n,v as k,x as w,s as M,z as g,l as D}from"./vendor-DUGSf9MG.js";import{_ as S}from"./AuthenticatedLayout-DdydbOmd.js";import{u as j}from"./useBangladeshFormat-DxO2X-Ux.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";const C={class:"max-w-6xl mx-auto py-8 px-4"},F={class:"bg-white shadow rounded-lg p-6 mb-8"},U=["value"],T={key:0,class:"text-red-600 text-sm mt-1"},B={key:0,class:"text-red-600 text-sm mt-1"},V={class:"flex gap-4"},N={class:"flex-1"},E={class:"flex items-center mt-6"},H=["disabled"],L={key:0,class:"text-green-600 text-sm"},z={class:"bg-white shadow rounded-lg p-6"},A={key:0,class:"text-center py-12"},O={key:1,class:"overflow-x-auto"},q={class:"min-w-full divide-y divide-gray-200"},I={class:"divide-y divide-gray-200 bg-white"},P={class:"px-3 py-2 text-sm font-medium text-gray-900"},Y={class:"px-3 py-2 text-sm text-gray-600"},$={class:"px-3 py-2"},G={key:0,class:"text-xs text-red-600 mt-1"},J={class:"px-3 py-2 text-sm"},K={key:0,class:"text-green-600 font-semibold"},Q={key:1,class:"text-gray-500"},R={class:"px-3 py-2 text-sm"},W={class:"px-3 py-2 text-sm"},X={class:"px-3 py-2 text-sm text-right"},Z=["onSubmit"],tt=["disabled"],et={key:0,class:"mt-4 flex items-center justify-between"},st={class:"text-sm text-gray-600"},ot={class:"flex gap-1"},lt={methods:{badgeClass(i){return{"bg-yellow-100 text-yellow-800":i==="pending","bg-green-100 text-green-800":i==="approved","bg-red-100 text-red-800":i==="rejected"}}}},xt=Object.assign(lt,{__name:"Index",props:{documents:Object,supportedTypes:Array},setup(i){const{formatDate:c}=j(),o=h({document_type:"",file:null,expires_at:"",is_primary:!1});function b(){o.post(route("documents.store"),{forceFormData:!0,onSuccess:()=>{o.reset("file")}})}function _(m){o.file=m.target.files[0]}return(m,s)=>(a(),y(S,{title:"My Documents"},{default:v(()=>[t("div",C,[s[12]||(s[12]=t("h1",{class:"text-2xl font-bold mb-6"},"Document Verification",-1)),t("div",F,[s[8]||(s[8]=t("h2",{class:"text-lg font-semibold mb-4"},"Upload New Document",-1)),t("form",{onSubmit:f(b,["prevent"]),class:"space-y-4"},[t("div",null,[s[4]||(s[4]=t("label",{class:"block text-sm font-medium mb-1"},"Document Type",-1)),u(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>l(o).document_type=e),class:"w-full border rounded p-2"},[s[3]||(s[3]=t("option",{value:""},"Select type...",-1)),(a(!0),r(p,null,x(i.supportedTypes,e=>(a(),r("option",{key:e,value:e},n(e.replace("_"," ")),9,U))),128))],512),[[k,l(o).document_type]]),l(o).errors.document_type?(a(),r("p",T,n(l(o).errors.document_type),1)):d("",!0)]),t("div",null,[s[5]||(s[5]=t("label",{class:"block text-sm font-medium mb-1"},"File",-1)),t("input",{type:"file",onChange:_,class:"w-full"},null,32),l(o).errors.file?(a(),r("p",B,n(l(o).errors.file),1)):d("",!0)]),t("div",V,[t("div",N,[s[6]||(s[6]=t("label",{class:"block text-sm font-medium mb-1"},"Expiry Date (optional)",-1)),u(t("input",{type:"date","onUpdate:modelValue":s[1]||(s[1]=e=>l(o).expires_at=e),class:"w-full border rounded p-2"},null,512),[[w,l(o).expires_at]])]),t("div",E,[u(t("input",{id:"is_primary",type:"checkbox","onUpdate:modelValue":s[2]||(s[2]=e=>l(o).is_primary=e),class:"mr-2"},null,512),[[M,l(o).is_primary]]),s[7]||(s[7]=t("label",{for:"is_primary",class:"text-sm"},"Set as primary",-1))])]),t("button",{disabled:l(o).processing,class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded disabled:opacity-50"},"Upload",8,H),l(o).recentlySuccessful?(a(),r("p",L,"Uploaded successfully.")):d("",!0)],32)]),t("div",z,[s[11]||(s[11]=t("h2",{class:"text-lg font-semibold mb-4"},"My Documents",-1)),i.documents.data.length===0?(a(),r("div",A,[...s[9]||(s[9]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 4a1 1 0 011-1h5.586a1 1 0 01.707.293l1.414 1.414A1 1 0 0012.414 5H20a1 1 0 011 1v10a1 1 0 01-1 1h-5"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7h18M3 10h18M3 13h18M3 16h9"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No documents yet",-1),t("p",{class:"mt-1 text-sm text-gray-500"},"Upload your first document to start verification.",-1)])])):(a(),r("div",O,[t("table",q,[s[10]||(s[10]=t("thead",null,[t("tr",{class:"bg-gray-50"},[t("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Type"),t("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Filename"),t("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Primary"),t("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Expiry"),t("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Uploaded"),t("th",{class:"px-3 py-2"})])],-1)),t("tbody",I,[(a(!0),r(p,null,x(i.documents.data,e=>(a(),r("tr",{key:e.id,class:"hover:bg-gray-50"},[t("td",P,n(e.document_type.replace("_"," ")),1),t("td",Y,n(e.original_filename),1),t("td",$,[t("span",{class:g([m.badgeClass(e.status),"px-2 py-1 rounded-full text-xs font-semibold"])},n(e.status),3),e.rejection_reason?(a(),r("div",G,n(e.rejection_reason),1)):d("",!0)]),t("td",J,[e.is_primary?(a(),r("span",K,"Yes")):(a(),r("span",Q,"No"))]),t("td",R,n(e.expires_at?l(c)(e.expires_at):"â€”"),1),t("td",W,n(l(c)(e.created_at)),1),t("td",X,[t("form",{onSubmit:f(()=>l(o).delete(m.route("documents.destroy",e.id)),["prevent"])},[t("button",{class:"text-red-600 hover:text-red-800 text-xs",disabled:l(o).processing},"Delete",8,tt)],40,Z)])]))),128))])]),i.documents.links.length>3?(a(),r("div",et,[t("div",st,"Showing "+n(i.documents.data.length)+" of "+n(i.documents.total),1),t("div",ot,[(a(!0),r(p,null,x(i.documents.links,e=>(a(),y(l(D),{key:e.url+e.label,href:e.url,innerHTML:e.label,class:g(["px-2 py-1 rounded text-xs",e.active?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"])},null,8,["href","innerHTML","class"]))),128))])])):d("",!0)]))])])]),_:1}))}});export{xt as default};
