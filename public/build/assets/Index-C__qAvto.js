import{B as v,c as a,f as p,g as u,i as f,j as w,a as t,n as g,t as o,o as i,F as d,q as x,z as r,y as b,l as k}from"./vendor-DUGSf9MG.js";import{_ as M}from"./AuthenticatedLayout-DdydbOmd.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";const C={class:"py-8"},z={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},L={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},B={class:"bg-white rounded-lg shadow p-6"},A={class:"flex items-center"},V={class:"ml-4"},j={class:"text-2xl font-bold text-gray-900"},F={class:"bg-white rounded-lg shadow p-6"},S={class:"flex items-center"},N={class:"ml-4"},H={class:"text-2xl font-bold text-gray-900"},T={class:"bg-white rounded-lg shadow p-6"},q={class:"flex items-center"},D={class:"ml-4"},P={class:"text-2xl font-bold text-gray-900"},R={class:"bg-white rounded-lg shadow p-6"},I={class:"flex items-center"},E={class:"ml-4"},G={class:"text-2xl font-bold text-gray-900"},O={class:"bg-white rounded-lg shadow overflow-hidden"},Y={key:0},$={class:"overflow-x-auto"},J={class:"min-w-full divide-y divide-gray-200"},K={class:"bg-white divide-y divide-gray-200"},Q={class:"px-6 py-4"},U={class:"flex flex-col"},W={class:"text-sm font-medium text-gray-900"},X={class:"text-sm text-gray-500"},Z={class:"px-6 py-4"},tt={class:"px-6 py-4 whitespace-nowrap"},et={class:"text-sm text-gray-900"},st={key:0},ot={key:1},it={class:"text-xs text-gray-500"},at={class:"px-6 py-4 whitespace-nowrap"},lt={class:"text-sm text-gray-900"},nt={class:"text-xs text-gray-500"},rt={class:"px-6 py-4 whitespace-nowrap"},dt={class:"text-sm font-medium text-gray-900"},ct={class:"text-xs text-gray-500"},xt={class:"px-6 py-4 whitespace-nowrap"},mt={class:"px-6 py-4"},pt={class:"flex flex-col space-y-1"},ut={class:"flex items-center text-xs"},gt={key:0,class:"w-4 h-4 text-green-500 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},yt={key:1,class:"w-4 h-4 text-gray-400 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},_t={class:"flex items-center text-xs"},ht={key:0,class:"w-4 h-4 text-green-500 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},vt={key:1,class:"w-4 h-4 text-gray-400 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},ft={class:"flex items-center text-xs"},wt={key:0,class:"w-4 h-4 text-green-500 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},bt={key:1,class:"w-4 h-4 text-gray-400 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},kt={key:0,class:"px-6 py-4 border-t border-gray-200"},Mt={class:"flex justify-between items-center"},Ct={class:"text-sm text-gray-700"},zt={class:"flex space-x-2"},Lt={key:1,class:"px-6 py-12 text-center"},Bt={key:0,class:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6"},At={class:"space-y-3"},Vt={class:"font-medium text-gray-900"},jt={class:"mt-1 text-sm text-gray-600"},Pt={__name:"Index",props:{assignments:Object,stats:Object},setup(l){const c=l,y=v(()=>{if(!c.assignments.data||c.assignments.data.length===0)return 0;const n=c.assignments.data.filter(e=>e.commission_type==="percentage");return n.length===0?0:(n.reduce((e,h)=>e+parseFloat(h.platform_commission_rate||0),0)/n.length).toFixed(2)}),_=n=>({global:"Global",country_specific:"Country",visa_specific:"Visa Specific"})[n]||n,m=n=>parseFloat(n).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2});return(n,s)=>(i(),a(d,null,[p(u(f),{title:"My Country Assignments"}),p(M,null,{default:w(()=>[t("div",C,[t("div",z,[s[18]||(s[18]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900"},"My Country Assignments"),t("p",{class:"mt-2 text-gray-600"},"Countries and services you're authorized to handle")],-1)),t("div",L,[t("div",B,[t("div",A,[s[1]||(s[1]=t("div",{class:"flex-shrink-0 p-3 bg-blue-100 rounded-lg"},[t("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",V,[s[0]||(s[0]=t("p",{class:"text-sm font-medium text-gray-500"},"Total Countries",-1)),t("p",j,o(l.stats.total_countries),1)])])]),t("div",F,[t("div",S,[s[3]||(s[3]=t("div",{class:"flex-shrink-0 p-3 bg-green-100 rounded-lg"},[t("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",N,[s[2]||(s[2]=t("p",{class:"text-sm font-medium text-gray-500"},"Active Assignments",-1)),t("p",H,o(l.stats.active_assignments),1)])])]),t("div",T,[t("div",q,[s[5]||(s[5]=t("div",{class:"flex-shrink-0 p-3 bg-purple-100 rounded-lg"},[t("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),t("div",D,[s[4]||(s[4]=t("p",{class:"text-sm font-medium text-gray-500"},"Total Applications",-1)),t("p",P,o(l.stats.total_applications),1)])])]),t("div",R,[t("div",I,[s[7]||(s[7]=t("div",{class:"flex-shrink-0 p-3 bg-yellow-100 rounded-lg"},[t("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",E,[s[6]||(s[6]=t("p",{class:"text-sm font-medium text-gray-500"},"Commission Rate",-1)),t("p",G,o(y.value)+"%",1)])])])]),t("div",O,[s[16]||(s[16]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h2",{class:"text-lg font-medium text-gray-900"},"My Assignments")],-1)),l.assignments.data.length>0?(i(),a("div",Y,[t("div",$,[t("table",J,[s[14]||(s[14]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Country / Service "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Scope "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Commission "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Applications "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Revenue "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Permissions ")])],-1)),t("tbody",K,[(i(!0),a(d,null,x(l.assignments.data,e=>(i(),a("tr",{key:e.id,class:"hover:bg-gray-50"},[t("td",Q,[t("div",U,[t("div",W,o(e.country||"Global"),1),t("div",X,o(e.visa_type||"All Visa Types"),1)])]),t("td",Z,[t("span",{class:r(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",{"bg-purple-100 text-purple-800":e.assignment_scope==="global","bg-blue-100 text-blue-800":e.assignment_scope==="country_specific","bg-green-100 text-green-800":e.assignment_scope==="visa_specific"}])},o(_(e.assignment_scope)),3)]),t("td",tt,[t("div",et,[e.commission_type==="percentage"?(i(),a("span",st,o(e.platform_commission_rate)+"% ",1)):(i(),a("span",ot," ৳"+o(e.fixed_commission_amount),1))]),t("div",it,o(e.commission_type==="percentage"?"Percentage":"Fixed"),1)]),t("td",at,[t("div",lt,o(e.total_applications||0),1),t("div",nt,o(e.approved_applications||0)+" approved ",1)]),t("td",rt,[t("div",dt," ৳"+o(m(e.total_revenue||0)),1),t("div",ct," Platform: ৳"+o(m(e.platform_earnings||0)),1)]),t("td",xt,[t("span",{class:r(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},o(e.is_active?"Active":"Inactive"),3)]),t("td",mt,[t("div",pt,[t("div",ut,[e.can_edit_requirements?(i(),a("svg",gt,[...s[8]||(s[8]=[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"},null,-1)])])):(i(),a("svg",yt,[...s[9]||(s[9]=[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"},null,-1)])])),t("span",{class:r(e.can_edit_requirements?"text-gray-700":"text-gray-400")}," Edit Requirements ",2)]),t("div",_t,[e.can_set_fees?(i(),a("svg",ht,[...s[10]||(s[10]=[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"},null,-1)])])):(i(),a("svg",vt,[...s[11]||(s[11]=[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"},null,-1)])])),t("span",{class:r(e.can_set_fees?"text-gray-700":"text-gray-400")}," Set Fees ",2)]),t("div",ft,[e.can_process_applications?(i(),a("svg",wt,[...s[12]||(s[12]=[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"},null,-1)])])):(i(),a("svg",bt,[...s[13]||(s[13]=[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"},null,-1)])])),t("span",{class:r(e.can_process_applications?"text-gray-700":"text-gray-400")}," Process Apps ",2)])])])]))),128))])])]),l.assignments.links.length>3?(i(),a("div",kt,[t("div",Mt,[t("div",Ct," Showing "+o(l.assignments.from)+" to "+o(l.assignments.to)+" of "+o(l.assignments.total)+" assignments ",1),t("div",zt,[(i(!0),a(d,null,x(l.assignments.links,e=>(i(),b(u(k),{key:e.label,href:e.url,class:r(["px-3 py-2 rounded-md text-sm",e.active?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"]),innerHTML:e.label},null,8,["href","class","innerHTML"]))),128))])])])):g("",!0)])):(i(),a("div",Lt,[...s[15]||(s[15]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No country assignments",-1),t("p",{class:"mt-1 text-sm text-gray-500"},"Your agency hasn't been assigned to any countries yet. Contact admin to get assignments.",-1)])]))]),l.assignments.data.length>0&&l.assignments.data.some(e=>e.assignment_notes)?(i(),a("div",Bt,[s[17]||(s[17]=t("h3",{class:"text-lg font-medium text-blue-900 mb-4"},"Important Notes",-1)),t("div",At,[(i(!0),a(d,null,x(l.assignments.data.filter(e=>e.assignment_notes),e=>(i(),a("div",{key:e.id,class:"bg-white p-4 rounded-md"},[t("div",Vt,o(e.country)+" - "+o(e.visa_type),1),t("p",jt,o(e.assignment_notes),1)]))),128))])])):g("",!0)])])]),_:1})],64))}};export{Pt as default};
