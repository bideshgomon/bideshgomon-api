import{u as S,c as m,f as y,g as o,i as V,j as g,a as t,l as x,k as l,t as a,m as M,p as c,x as z,v as k,n as u,o as n,F as v,q as A,z as h,y as b,A as N}from"./vendor-DUGSf9MG.js";import{A as T}from"./AdminLayout-CRJ9cJUr.js";import{u as P}from"./useBangladeshFormat-DxO2X-Ux.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";import"./DateInput-BOMF3vob.js";const F={class:"py-6"},L={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},U={class:"md:flex md:items-center md:justify-between mb-6"},D={class:"mt-4 flex md:mt-0 md:ml-4"},O={class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-6"},H={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-5"},I={class:"flex items-center"},E={class:"ml-4"},G={class:"text-2xl font-bold text-gray-900 dark:text-white"},R={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-5"},q={class:"flex items-center"},$={class:"ml-4"},J={class:"text-2xl font-bold text-gray-900 dark:text-white"},K={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-5"},Q={class:"flex items-center"},W={class:"ml-4"},X={class:"text-2xl font-bold text-gray-900 dark:text-white"},Y={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-5"},Z={class:"flex items-center"},tt={class:"ml-4"},et={class:"text-2xl font-bold text-gray-900 dark:text-white"},rt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6"},st={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},ot={class:"overflow-x-auto"},at={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},dt={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},it={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},lt={class:"px-6 py-4 text-sm text-gray-900 dark:text-white"},nt={class:"font-medium"},gt={class:"text-gray-500 dark:text-gray-400 truncate",style:{"max-width":"300px"}},xt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},ut={class:"px-6 py-4 whitespace-nowrap"},mt={class:"px-6 py-4 whitespace-nowrap"},yt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},pt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ct=["onClick"],bt={key:0,class:"text-center py-12"},kt={key:1,class:"bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6"},ft={class:"flex items-center justify-between"},vt={class:"flex-1 flex justify-between sm:hidden"},ht={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},wt={class:"text-sm text-gray-700 dark:text-gray-300"},Ct={class:"font-medium"},Bt={class:"font-medium"},_t={class:"font-medium"},jt={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Ut={__name:"Index",props:{tickets:Object,stats:Object,filters:Object},setup(r){const p=r,{formatDate:w}=P(),d=S({search:p.filters.search||"",status:p.filters.status||"",priority:p.filters.priority||"",category:p.filters.category||""}),f=()=>{d.get(route("admin.support-tickets.index"),{preserveState:!0,preserveScroll:!0})},C=()=>{d.reset(),f()},B=i=>{confirm("Are you sure you want to delete this support ticket?")&&N.delete(route("admin.support-tickets.destroy",i),{preserveScroll:!0})},_=i=>({open:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",resolved:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800"})[i]||"bg-gray-100 text-gray-800",j=i=>({low:"bg-gray-100 text-gray-800",medium:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"})[i]||"bg-gray-100 text-gray-800";return(i,e)=>(n(),m(v,null,[y(o(V),{title:"Support Tickets"}),y(T,null,{default:g(()=>[t("div",F,[t("div",L,[t("div",U,[e[5]||(e[5]=t("div",{class:"flex-1 min-w-0"},[t("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate dark:text-white"}," Support Tickets ")],-1)),t("div",D,[y(o(x),{href:i.route("admin.support-tickets.create"),class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700"},{default:g(()=>[...e[4]||(e[4]=[t("svg",{class:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),l(" New Ticket ",-1)])]),_:1},8,["href"])])]),t("div",O,[t("div",H,[t("div",I,[e[7]||(e[7]=t("div",{class:"flex-shrink-0 p-3 bg-blue-100 dark:bg-blue-900 rounded-lg"},[t("svg",{class:"h-6 w-6 text-blue-600 dark:text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),t("div",E,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Tickets",-1)),t("dd",G,a(r.stats.total||0),1)])])]),t("div",R,[t("div",q,[e[9]||(e[9]=t("div",{class:"flex-shrink-0 p-3 bg-yellow-100 dark:bg-yellow-900 rounded-lg"},[t("svg",{class:"h-6 w-6 text-yellow-600 dark:text-yellow-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",$,[e[8]||(e[8]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Open",-1)),t("dd",J,a(r.stats.open||0),1)])])]),t("div",K,[t("div",Q,[e[11]||(e[11]=t("div",{class:"flex-shrink-0 p-3 bg-green-100 dark:bg-green-900 rounded-lg"},[t("svg",{class:"h-6 w-6 text-green-600 dark:text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",W,[e[10]||(e[10]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Resolved",-1)),t("dd",X,a(r.stats.resolved||0),1)])])]),t("div",Y,[t("div",Z,[e[13]||(e[13]=t("div",{class:"flex-shrink-0 p-3 bg-red-100 dark:bg-red-900 rounded-lg"},[t("svg",{class:"h-6 w-6 text-red-600 dark:text-red-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),t("div",tt,[e[12]||(e[12]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Urgent",-1)),t("dd",et,a(r.stats.urgent||0),1)])])])]),t("div",rt,[t("form",{onSubmit:M(f,["prevent"]),class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-5"},[t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Search",-1)),c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o(d).search=s),type:"text",placeholder:"Search tickets...",class:"w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[z,o(d).search]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Status",-1)),c(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>o(d).status=s),class:"w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-indigo-500 focus:ring-indigo-500"},[...e[15]||(e[15]=[t("option",{value:""},"All Statuses",-1),t("option",{value:"open"},"Open",-1),t("option",{value:"in_progress"},"In Progress",-1),t("option",{value:"resolved"},"Resolved",-1),t("option",{value:"closed"},"Closed",-1)])],512),[[k,o(d).status]])]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Priority",-1)),c(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>o(d).priority=s),class:"w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-indigo-500 focus:ring-indigo-500"},[...e[17]||(e[17]=[t("option",{value:""},"All Priorities",-1),t("option",{value:"low"},"Low",-1),t("option",{value:"medium"},"Medium",-1),t("option",{value:"high"},"High",-1),t("option",{value:"urgent"},"Urgent",-1)])],512),[[k,o(d).priority]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Category",-1)),c(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>o(d).category=s),class:"w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-indigo-500 focus:ring-indigo-500"},[...e[19]||(e[19]=[t("option",{value:""},"All Categories",-1),t("option",{value:"technical"},"Technical",-1),t("option",{value:"billing"},"Billing",-1),t("option",{value:"general"},"General",-1),t("option",{value:"visa"},"Visa",-1),t("option",{value:"booking"},"Booking",-1)])],512),[[k,o(d).category]])]),t("div",{class:"flex items-end gap-3"},[e[21]||(e[21]=t("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors"}," Filter ",-1)),t("button",{type:"button",onClick:C,class:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"}," Clear ")])],32)]),t("div",st,[t("div",ot,[t("table",at,[e[24]||(e[24]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"ID"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Subject"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"User"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Priority"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Created"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",dt,[(n(!0),m(v,null,A(r.tickets.data,s=>(n(),m("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",it," #"+a(s.id),1),t("td",lt,[t("div",nt,a(s.subject),1),t("div",gt,a(s.message),1)]),t("td",xt,a(s.user?.name||"N/A"),1),t("td",ut,[t("span",{class:h([j(s.priority),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},a(s.priority),3)]),t("td",mt,[t("span",{class:h([_(s.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},a(s.status.replace("_"," ")),3)]),t("td",yt,a(o(w)(s.created_at)),1),t("td",pt,[y(o(x),{href:i.route("admin.support-tickets.show",s.id),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 mr-3"},{default:g(()=>[...e[22]||(e[22]=[l(" View ",-1)])]),_:1},8,["href"]),y(o(x),{href:i.route("admin.support-tickets.edit",s.id),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 mr-3"},{default:g(()=>[...e[23]||(e[23]=[l(" Edit ",-1)])]),_:1},8,["href"]),t("button",{onClick:St=>B(s.id),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"}," Delete ",8,ct)])]))),128))])])]),!r.tickets.data||r.tickets.data.length===0?(n(),m("div",bt,[...e[25]||(e[25]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},"No support tickets",-1),t("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Get started by creating a new support ticket.",-1)])])):u("",!0),r.tickets.data&&r.tickets.data.length>0?(n(),m("div",kt,[t("div",ft,[t("div",vt,[r.tickets.prev_page_url?(n(),b(o(x),{key:0,href:r.tickets.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:g(()=>[...e[26]||(e[26]=[l(" Previous ",-1)])]),_:1},8,["href"])):u("",!0),r.tickets.next_page_url?(n(),b(o(x),{key:1,href:r.tickets.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:g(()=>[...e[27]||(e[27]=[l(" Next ",-1)])]),_:1},8,["href"])):u("",!0)]),t("div",ht,[t("div",null,[t("p",wt,[e[28]||(e[28]=l(" Showing ",-1)),t("span",Ct,a(r.tickets.from||0),1),e[29]||(e[29]=l(" to ",-1)),t("span",Bt,a(r.tickets.to||0),1),e[30]||(e[30]=l(" of ",-1)),t("span",_t,a(r.tickets.total||0),1),e[31]||(e[31]=l(" results ",-1))])]),t("div",null,[t("nav",jt,[r.tickets.prev_page_url?(n(),b(o(x),{key:0,href:r.tickets.prev_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white dark:bg-gray-700 dark:border-gray-600 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"},{default:g(()=>[...e[32]||(e[32]=[t("span",{class:"sr-only"},"Previous",-1),t("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])]),_:1},8,["href"])):u("",!0),r.tickets.next_page_url?(n(),b(o(x),{key:1,href:r.tickets.next_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white dark:bg-gray-700 dark:border-gray-600 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"},{default:g(()=>[...e[33]||(e[33]=[t("span",{class:"sr-only"},"Next",-1),t("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])]),_:1},8,["href"])):u("",!0)])])])])])):u("",!0)])])])]),_:1})],64))}};export{Ut as default};
