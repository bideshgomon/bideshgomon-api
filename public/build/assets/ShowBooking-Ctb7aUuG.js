import{r as w,u as C,c as i,f as m,g as a,i as B,j as u,a as t,n as l,l as y,k as b,t as s,z as k,o as n,y as p,m as _,p as z,x as M,F as j}from"./vendor-DUGSf9MG.js";import{_ as D}from"./AuthenticatedLayout-DdydbOmd.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";const R={class:"py-12"},S={class:"max-w-5xl mx-auto sm:px-6 lg:px-8"},V={class:"mb-6"},L={class:"bg-white rounded-lg shadow-md overflow-hidden"},T={class:"bg-heritage-600 text-white p-8"},F={class:"flex justify-between items-start"},P={class:"text-indigo-100"},N={class:"p-8"},H={class:"mb-8"},q={class:"flex items-start space-x-6"},I=["src","alt"],$={class:"flex-1"},A={class:"text-xl font-semibold text-gray-900 mb-2"},G={class:"space-y-1 text-gray-600"},E={key:0},O={class:"mt-3 text-yellow-500"},U={class:"mb-8 grid grid-cols-1 md:grid-cols-2 gap-6"},K={class:"bg-gray-50 rounded-lg p-6"},J={class:"space-y-3"},Q={class:"text-lg font-medium text-gray-900"},W={class:"text-sm text-gray-500"},X={class:"text-lg font-medium text-gray-900"},Y={class:"text-sm text-gray-500"},Z={class:"text-lg font-medium text-gray-900"},tt={class:"bg-gray-50 rounded-lg p-6"},et={class:"space-y-3"},ot={class:"text-lg font-medium text-gray-900"},st={class:"text-lg font-medium text-gray-900"},nt={class:"text-lg font-medium text-gray-900"},it={key:0},lt={class:"mb-8"},at={class:"bg-gray-50 rounded-lg p-6"},dt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},rt={class:"font-medium text-gray-900"},gt={class:"font-medium text-gray-900"},ct={class:"font-medium text-gray-900"},mt={key:0,class:"mt-4 pt-4 border-t"},ut={class:"mt-1 text-gray-900"},bt={class:"mb-8"},xt={class:"bg-gray-50 rounded-lg p-6"},yt={class:"space-y-3"},kt={class:"flex justify-between text-gray-700"},ft={class:"font-medium"},ht={class:"flex justify-between text-gray-700"},vt={class:"font-medium"},wt={class:"flex justify-between text-gray-700"},Ct={class:"font-medium"},Bt={key:0,class:"flex justify-between text-green-600"},pt={class:"font-medium"},_t={class:"border-t pt-3 flex justify-between items-center"},zt={class:"text-2xl font-bold text-indigo-600"},Mt={class:"mt-4 pt-4 border-t flex justify-between items-center"},jt={class:"font-medium text-gray-900 capitalize"},Dt={key:0,class:"mt-2 text-sm text-gray-600"},Rt={key:0,class:"mb-8"},St={class:"space-y-2"},Vt={class:"flex items-center text-gray-700"},Lt={key:0,class:"flex items-center text-green-700"},Tt={key:1,class:"flex items-center text-blue-700"},Ft={key:2,class:"flex items-center text-gray-700"},Pt={key:3,class:"flex items-center text-red-700"},Nt={key:1,class:"mb-8 p-4 bg-red-50 border border-red-200 rounded-lg"},Ht={class:"text-red-700"},qt={class:"flex flex-col sm:flex-row gap-4"},It={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},$t={class:"bg-white rounded-lg max-w-md w-full p-6"},At={class:"mb-4"},Gt={key:0,class:"text-sm text-red-600"},Et={class:"flex space-x-3"},Ot=["disabled"],Ut={key:0},Kt={key:1},ee={__name:"ShowBooking",props:{booking:Object},setup(o){const f=o,c=w(!1),d=C({reason:""}),g=r=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(r),h=r=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800",checked_in:"bg-blue-100 text-blue-800",checked_out:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"})[r]||"bg-gray-100 text-gray-800",v=()=>{d.post(route("hotels.bookings.cancel",f.booking.id),{onSuccess:()=>{c.value=!1,d.reset()}})};return(r,e)=>(n(),i(j,null,[m(a(B),{title:`Booking ${o.booking.booking_reference}`},null,8,["title"]),m(D,null,{default:u(()=>[t("div",R,[t("div",S,[t("div",V,[m(a(y),{href:r.route("hotels.my-bookings"),class:"text-indigo-600 hover:text-indigo-800"},{default:u(()=>[...e[3]||(e[3]=[b(" â† Back to My Bookings ",-1)])]),_:1},8,["href"])]),t("div",L,[t("div",T,[t("div",F,[t("div",null,[e[4]||(e[4]=t("h1",{class:"text-3xl font-bold mb-2"},"Booking Details",-1)),t("p",P,"Reference: "+s(o.booking.booking_reference),1)]),t("span",{class:k(["px-4 py-2 rounded-full text-sm font-semibold",h(o.booking.status)])},s(o.booking.status_badge.text),3)])]),t("div",N,[t("div",H,[e[5]||(e[5]=t("h2",{class:"text-2xl font-semibold text-gray-900 mb-4"},"Hotel Information",-1)),t("div",q,[t("img",{src:o.booking.hotel.featured_image,alt:o.booking.hotel.name,class:"w-48 h-36 object-cover rounded-lg shadow-md"},null,8,I),t("div",$,[t("h3",A,s(o.booking.hotel.name),1),t("div",G,[t("p",null,"ðŸ“ "+s(o.booking.hotel.address),1),t("p",null,"ðŸ™ï¸ "+s(o.booking.hotel.city)+", "+s(o.booking.hotel.country),1),t("p",null,"ðŸ“ž "+s(o.booking.hotel.phone),1),o.booking.hotel.email?(n(),i("p",E,"âœ‰ï¸ "+s(o.booking.hotel.email),1)):l("",!0)]),t("div",O,s("â­".repeat(o.booking.hotel.star_rating))+" "+s(o.booking.hotel.star_rating)+"-Star Hotel ",1)])])]),t("div",U,[t("div",K,[e[9]||(e[9]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Stay Details",-1)),t("div",J,[t("div",null,[e[6]||(e[6]=t("span",{class:"text-sm text-gray-600"},"Check-in",-1)),t("p",Q,s(o.booking.check_in_date),1),t("p",W,"From "+s(o.booking.hotel.check_in_time),1)]),t("div",null,[e[7]||(e[7]=t("span",{class:"text-sm text-gray-600"},"Check-out",-1)),t("p",X,s(o.booking.check_out_date),1),t("p",Y,"Until "+s(o.booking.hotel.check_out_time),1)]),t("div",null,[e[8]||(e[8]=t("span",{class:"text-sm text-gray-600"},"Duration",-1)),t("p",Z,s(o.booking.nights)+" night(s)",1)])])]),t("div",tt,[e[13]||(e[13]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Room & Guests",-1)),t("div",et,[t("div",null,[e[10]||(e[10]=t("span",{class:"text-sm text-gray-600"},"Room Type",-1)),t("p",ot,s(o.booking.room.room_type),1)]),t("div",null,[e[11]||(e[11]=t("span",{class:"text-sm text-gray-600"},"Rooms",-1)),t("p",st,s(o.booking.rooms_count)+" room(s)",1)]),t("div",null,[e[12]||(e[12]=t("span",{class:"text-sm text-gray-600"},"Guests",-1)),t("p",nt,[b(s(o.booking.adults_count)+" Adults ",1),o.booking.children_count>0?(n(),i("span",it,", "+s(o.booking.children_count)+" Children",1)):l("",!0)])])])])]),t("div",lt,[e[18]||(e[18]=t("h2",{class:"text-2xl font-semibold text-gray-900 mb-4"},"Guest Information",-1)),t("div",at,[t("div",dt,[t("div",null,[e[14]||(e[14]=t("span",{class:"text-sm text-gray-600"},"Name",-1)),t("p",rt,s(o.booking.guest_name),1)]),t("div",null,[e[15]||(e[15]=t("span",{class:"text-sm text-gray-600"},"Email",-1)),t("p",gt,s(o.booking.guest_email),1)]),t("div",null,[e[16]||(e[16]=t("span",{class:"text-sm text-gray-600"},"Phone",-1)),t("p",ct,s(o.booking.guest_phone),1)])]),o.booking.special_requests?(n(),i("div",mt,[e[17]||(e[17]=t("span",{class:"text-sm text-gray-600"},"Special Requests",-1)),t("p",ut,s(o.booking.special_requests),1)])):l("",!0)])]),t("div",bt,[e[24]||(e[24]=t("h2",{class:"text-2xl font-semibold text-gray-900 mb-4"},"Payment Details",-1)),t("div",xt,[t("div",yt,[t("div",kt,[t("span",null,"Room Rate ("+s(o.booking.nights)+" nights Ã— "+s(o.booking.rooms_count)+" room)",1),t("span",ft,s(g(o.booking.subtotal)),1)]),t("div",ht,[e[19]||(e[19]=t("span",null,"Tax (5%)",-1)),t("span",vt,s(g(o.booking.tax_amount)),1)]),t("div",wt,[e[20]||(e[20]=t("span",null,"Service Charge",-1)),t("span",Ct,s(g(o.booking.service_charge)),1)]),o.booking.discount_amount>0?(n(),i("div",Bt,[e[21]||(e[21]=t("span",null,"Discount",-1)),t("span",pt,"-"+s(g(o.booking.discount_amount)),1)])):l("",!0),t("div",_t,[e[22]||(e[22]=t("span",{class:"text-xl font-semibold text-gray-900"},"Total Amount",-1)),t("span",zt,s(g(o.booking.total_amount)),1)])]),t("div",Mt,[t("div",null,[e[23]||(e[23]=t("span",{class:"text-sm text-gray-600"},"Payment Method",-1)),t("p",jt,s(o.booking.payment_method),1)]),t("div",null,[t("span",{class:k(["px-3 py-1 rounded-full text-sm font-semibold",o.booking.payment_status==="paid"?"bg-green-100 text-green-800":o.booking.payment_status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"])},s(o.booking.payment_badge.text),3)])]),o.booking.paid_at?(n(),i("div",Dt," Paid on "+s(o.booking.paid_at),1)):l("",!0)])]),o.booking.confirmed_at||o.booking.checked_in_at||o.booking.checked_out_at||o.booking.cancelled_at?(n(),i("div",Rt,[e[30]||(e[30]=t("h2",{class:"text-2xl font-semibold text-gray-900 mb-4"},"Booking Timeline",-1)),t("div",St,[t("div",Vt,[e[25]||(e[25]=t("svg",{class:"w-5 h-5 mr-2 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})],-1)),t("span",null,"Created: "+s(o.booking.created_at),1)]),o.booking.confirmed_at?(n(),i("div",Lt,[e[26]||(e[26]=t("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),t("span",null,"Confirmed: "+s(o.booking.confirmed_at),1)])):l("",!0),o.booking.checked_in_at?(n(),i("div",Tt,[e[27]||(e[27]=t("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})],-1)),t("span",null,"Checked In: "+s(o.booking.checked_in_at),1)])):l("",!0),o.booking.checked_out_at?(n(),i("div",Ft,[e[28]||(e[28]=t("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)),t("span",null,"Checked Out: "+s(o.booking.checked_out_at),1)])):l("",!0),o.booking.cancelled_at?(n(),i("div",Pt,[e[29]||(e[29]=t("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),t("span",null,"Cancelled: "+s(o.booking.cancelled_at),1)])):l("",!0)])])):l("",!0),o.booking.cancellation_reason?(n(),i("div",Nt,[e[31]||(e[31]=t("h3",{class:"font-semibold text-red-800 mb-2"},"Cancellation Reason",-1)),t("p",Ht,s(o.booking.cancellation_reason),1)])):l("",!0),t("div",qt,[m(a(y),{href:r.route("hotels.my-bookings"),class:"flex-1 bg-gray-200 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-300 transition text-center"},{default:u(()=>[...e[32]||(e[32]=[b(" Back to My Bookings ",-1)])]),_:1},8,["href"]),o.booking.is_cancellable?(n(),i("button",{key:0,onClick:e[0]||(e[0]=x=>c.value=!0),class:"flex-1 bg-red-600 text-white py-3 px-6 rounded-lg hover:bg-red-700 transition"}," Cancel Booking ")):l("",!0),o.booking.status==="confirmed"||o.booking.status==="checked_in"?(n(),p(a(y),{key:1,href:r.route("hotels.show",o.booking.hotel_id),class:"flex-1 bg-indigo-600 text-white py-3 px-6 rounded-lg hover:bg-indigo-700 transition text-center"},{default:u(()=>[...e[33]||(e[33]=[b(" View Hotel ",-1)])]),_:1},8,["href"])):l("",!0)])])]),c.value?(n(),i("div",It,[t("div",$t,[e[35]||(e[35]=t("h3",{class:"text-xl font-semibold text-gray-900 mb-4"},"Cancel Booking",-1)),e[36]||(e[36]=t("p",{class:"text-gray-600 mb-4"}," Are you sure you want to cancel this booking? This action cannot be undone. ",-1)),t("form",{onSubmit:_(v,["prevent"])},[t("div",At,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Reason for cancellation *",-1)),z(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=x=>a(d).reason=x),rows:"3",required:"",class:"w-full border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Please provide a reason..."},null,512),[[M,a(d).reason]]),a(d).errors.reason?(n(),i("span",Gt,s(a(d).errors.reason),1)):l("",!0)]),t("div",Et,[t("button",{type:"button",onClick:e[2]||(e[2]=x=>c.value=!1),class:"flex-1 bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300 transition"}," Keep Booking "),t("button",{type:"submit",disabled:a(d).processing,class:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition disabled:opacity-50"},[a(d).processing?(n(),i("span",Ut,"Processing...")):(n(),i("span",Kt,"Cancel Booking"))],8,Ot)])],32)])])):l("",!0)])])]),_:1})],64))}};export{ee as default};
