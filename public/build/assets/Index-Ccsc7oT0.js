import{r as x,B as H,c as i,f as l,g as n,i as K,j as k,a as e,l as C,k as g,t as o,n as c,p as b,D as q,x as G,o as r,F as A,q as $,v as S,z as D,y as X,G as Q,A as j}from"./vendor-DUGSf9MG.js";import{A as W}from"./AdminLayout-CRJ9cJUr.js";import{j as V,l as Y,ah as Z,g as ee,E as L,a8 as P,X as te,S as se,f as U,ag as N,o as oe,p as le}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const ne={class:"min-h-screen bg-gray-50 pb-12"},re={class:"bg-white border-b border-gray-200 px-4 py-8 sm:px-6 lg:px-8"},ie={class:"max-w-7xl mx-auto"},ae={class:"flex items-center justify-between"},de={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mt-8"},ue={class:"bg-white rounded-lg p-4 border border-gray-200"},ge={class:"text-3xl font-bold text-gray-900 mt-1"},ce={class:"bg-white rounded-lg p-4 border border-gray-200"},xe={class:"text-3xl font-bold text-green-600 mt-1"},pe={class:"bg-white rounded-lg p-4 border border-yellow-200 bg-yellow-50"},me={class:"text-3xl font-bold text-yellow-700 mt-1"},be={class:"bg-white rounded-lg p-4 border border-green-200 bg-green-50"},ve={class:"text-3xl font-bold text-green-700 mt-1"},fe={class:"bg-white rounded-lg p-4 border border-gray-200"},ye={class:"text-3xl font-bold text-amber-600 mt-1"},he={class:"bg-white rounded-lg p-4 border border-gray-200"},we={class:"text-3xl font-bold text-red-600 mt-1"},_e={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-6"},ke={class:"bg-white rounded-2xl shadow-sm p-6 mb-6"},Ce={class:"flex flex-col md:flex-row gap-4"},Ae={class:"flex-1 relative"},Se={key:0,class:"ml-2 px-2 py-0.5 bg-indigo-600 text-white text-xs rounded-full"},$e={key:0,class:"mt-4 pt-4 border-t border-gray-200"},je={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Fe=["value"],Te=["value"],Je={key:0,class:"bg-indigo-50 rounded-xl p-4 mb-6 flex items-center justify-between"},De={class:"text-sm font-medium text-indigo-900"},Ve={class:"flex gap-2"},Le={class:"space-y-4"},Pe={key:0,class:"bg-white rounded-2xl shadow-sm p-12 text-center"},Ue={class:"flex items-start gap-4"},Ne=["checked","onChange"],Me={class:"flex-1"},Be={class:"flex items-start justify-between"},Ee={class:"flex-1"},Oe={class:"flex items-center gap-2 mb-2"},Ie={class:"text-xl font-bold text-gray-900"},Re={key:0,class:"inline-flex items-center px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-semibold rounded-full"},ze={key:1,class:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded-full"},He={key:2,class:"inline-flex items-center px-2 py-1 bg-red-100 text-red-700 text-xs font-semibold rounded-full"},Ke={key:3,class:"inline-flex items-center px-2 py-1 bg-amber-100 text-amber-700 text-xs font-semibold rounded-full"},qe={key:4,class:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded-full"},Ge={key:5,class:"inline-flex items-center px-2 py-1 bg-gray-100 text-gray-700 text-xs font-semibold rounded-full"},Xe={class:"text-gray-600 mb-3"},Qe={class:"flex flex-wrap items-center gap-4 text-sm text-gray-600 mb-3"},We={class:"flex items-center"},Ye={class:"flex items-center"},Ze={class:"flex items-center"},et={key:0,class:"flex items-center text-indigo-600 font-semibold"},tt={class:"flex flex-wrap gap-2"},st={class:"px-3 py-1 bg-blue-50 text-blue-700 text-xs font-medium rounded-full"},ot={class:"px-3 py-1 bg-gray-50 text-gray-700 text-xs font-medium rounded-full"},lt={class:"px-3 py-1 bg-purple-50 text-purple-700 text-xs font-medium rounded-full"},nt={key:0,class:"px-3 py-1 bg-indigo-50 text-indigo-700 text-xs font-medium rounded-full"},rt={class:"flex items-center gap-2 ml-4"},it=["onClick"],at={key:1,class:"mt-8 flex items-center justify-between"},dt={class:"text-sm text-gray-700"},ut={class:"flex items-center space-x-2"},ht={__name:"Index",props:{jobs:Object,countries:Array,categories:Array,filters:Object,stats:Object},setup(d){const m=d,v=x(m.filters.search||""),f=x(m.filters.country_id||""),y=x(m.filters.category||""),h=x(m.filters.approval_status||""),w=x(m.filters.status||""),_=x(m.filters.is_featured||""),F=x(!1),u=x([]),p=()=>{j.get(route("admin.jobs.index"),{search:v.value,country_id:f.value,category:y.value,approval_status:h.value,status:w.value,is_featured:_.value},{preserveState:!0,replace:!0})},M=()=>{v.value="",f.value="",y.value="",h.value="",w.value="",_.value="",p()},T=H(()=>v.value||f.value||y.value||h.value||w.value||_.value),B=a=>{const t=u.value.indexOf(a);t>-1?u.value.splice(t,1):u.value.push(a)},J=a=>{if(u.value.length===0){alert("Please select jobs to update");return}confirm(`Update ${u.value.length} job(s) to ${a}?`)&&j.post(route("admin.jobs.bulk-update-status"),{job_ids:u.value,status:a},{onSuccess:()=>u.value=[]})},E=()=>{if(u.value.length===0){alert("Please select jobs to delete");return}confirm(`Delete ${u.value.length} job(s)? This action cannot be undone.`)&&j.post(route("admin.jobs.bulk-delete"),{job_ids:u.value},{onSuccess:()=>u.value=[]})},O=a=>{confirm("Delete this job posting? This action cannot be undone.")&&j.delete(route("admin.jobs.destroy",a))},I=a=>({hospitality:"bg-purple-100 text-purple-700",construction:"bg-orange-100 text-orange-700",healthcare:"bg-blue-100 text-blue-700",it:"bg-green-100 text-green-700",manufacturing:"bg-gray-100 text-gray-700",education:"bg-indigo-100 text-indigo-700",retail:"bg-pink-100 text-pink-700",transportation:"bg-yellow-100 text-yellow-700"})[a.toLowerCase()]||"bg-gray-100 text-gray-700",R=a=>({"full-time":"Full Time",full_time:"Full Time","part-time":"Part Time",part_time:"Part Time",contract:"Contract",temporary:"Temporary",seasonal:"Seasonal",internship:"Internship"})[a]||a.replace(/[_-]/g," ").replace(/\b\w/g,s=>s.toUpperCase());return(a,t)=>(r(),i(A,null,[l(n(K),{title:"Manage Job Postings"}),l(W,null,{default:k(()=>[e("div",ne,[e("div",re,[e("div",ie,[e("div",ae,[t[10]||(t[10]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Job Postings Management"),e("p",{class:"mt-2 text-gray-600"},"Manage all job postings on the platform")],-1)),l(n(C),{href:a.route("admin.jobs.create"),class:"inline-flex items-center px-6 py-3 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 transition-all shadow-sm"},{default:k(()=>[l(n(V),{class:"h-5 w-5 mr-2"}),t[9]||(t[9]=g(" Create Job ",-1))]),_:1},8,["href"])]),e("div",de,[e("div",ue,[t[11]||(t[11]=e("div",{class:"text-gray-600 text-sm"},"Total Jobs",-1)),e("div",ge,o(d.stats.total),1)]),e("div",ce,[t[12]||(t[12]=e("div",{class:"text-gray-600 text-sm"},"Active",-1)),e("div",xe,o(d.stats.active),1)]),e("div",pe,[t[13]||(t[13]=e("div",{class:"text-yellow-700 text-sm font-medium"},"⏳ Pending",-1)),e("div",me,o(d.stats.pending||0),1)]),e("div",be,[t[14]||(t[14]=e("div",{class:"text-green-700 text-sm font-medium"},"✓ Approved",-1)),e("div",ve,o(d.stats.approved||0),1)]),e("div",fe,[t[15]||(t[15]=e("div",{class:"text-gray-600 text-sm"},"Featured",-1)),e("div",ye,o(d.stats.featured),1)]),e("div",he,[t[16]||(t[16]=e("div",{class:"text-gray-600 text-sm"},"Expired",-1)),e("div",we,o(d.stats.expired),1)])])])]),e("div",_e,[e("div",ke,[e("div",Ce,[e("div",Ae,[l(n(Y),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>v.value=s),onKeyup:q(p,["enter"]),type:"text",placeholder:"Search jobs by title, company, or category...",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},null,544),[[G,v.value]])]),e("button",{onClick:t[1]||(t[1]=s=>F.value=!F.value),class:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors"},[l(n(Z),{class:"h-5 w-5 mr-2"}),t[17]||(t[17]=g(" Filters ",-1)),T.value?(r(),i("span",Se,"Active")):c("",!0)])]),F.value?(r(),i("div",$e,[e("div",je,[e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Country",-1)),b(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>f.value=s),onChange:p,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},[t[18]||(t[18]=e("option",{value:""},"All Countries",-1)),(r(!0),i(A,null,$(d.countries,s=>(r(),i("option",{key:s.id,value:s.id},o(s.name),9,Fe))),128))],544),[[S,f.value]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Category",-1)),b(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>y.value=s),onChange:p,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},[t[20]||(t[20]=e("option",{value:""},"All Categories",-1)),(r(!0),i(A,null,$(d.categories,s=>(r(),i("option",{key:s,value:s},o(s),9,Te))),128))],544),[[S,y.value]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Approval Status",-1)),b(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>h.value=s),onChange:p,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},[...t[22]||(t[22]=[e("option",{value:""},"All Approval Status",-1),e("option",{value:"pending"},"⏳ Pending Review",-1),e("option",{value:"approved"},"✓ Approved",-1),e("option",{value:"rejected"},"✗ Rejected",-1)])],544),[[S,h.value]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),b(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>w.value=s),onChange:p,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},[...t[24]||(t[24]=[e("option",{value:""},"All Status",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1),e("option",{value:"expired"},"Expired",-1)])],544),[[S,w.value]])]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Featured",-1)),b(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>_.value=s),onChange:p,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},[...t[26]||(t[26]=[e("option",{value:""},"All Jobs",-1),e("option",{value:"1"},"Featured Only",-1),e("option",{value:"0"},"Non-Featured",-1)])],544),[[S,_.value]])])]),T.value?(r(),i("button",{key:0,onClick:M,class:"mt-4 text-sm text-indigo-600 hover:text-indigo-700 font-medium"}," Clear all filters ")):c("",!0)])):c("",!0)]),u.value.length>0?(r(),i("div",Je,[e("span",De,o(u.value.length)+" job(s) selected",1),e("div",Ve,[e("button",{onClick:t[7]||(t[7]=s=>J("active")),class:"px-4 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors"}," Activate "),e("button",{onClick:t[8]||(t[8]=s=>J("inactive")),class:"px-4 py-2 bg-yellow-600 text-white text-sm rounded-lg hover:bg-yellow-700 transition-colors"}," Deactivate "),e("button",{onClick:E,class:"px-4 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors"}," Delete ")])])):c("",!0),e("div",Le,[d.jobs.data.length===0?(r(),i("div",Pe,[l(n(ee),{class:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t[29]||(t[29]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"No jobs found",-1)),t[30]||(t[30]=e("p",{class:"text-gray-600 mb-6"},"Try adjusting your filters or create a new job posting",-1)),l(n(C),{href:a.route("admin.jobs.create"),class:"inline-flex items-center px-6 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-colors"},{default:k(()=>[l(n(V),{class:"h-5 w-5 mr-2"}),t[28]||(t[28]=g(" Create Job ",-1))]),_:1},8,["href"])])):c("",!0),(r(!0),i(A,null,$(d.jobs.data,s=>(r(),i("div",{key:s.id,class:"bg-white rounded-2xl shadow-sm hover:shadow-md transition-shadow p-6"},[e("div",Ue,[e("input",{type:"checkbox",checked:u.value.includes(s.id),onChange:z=>B(s.id),class:"mt-1 h-5 w-5 text-indigo-600 rounded border-gray-300 focus:ring-indigo-500"},null,40,Ne),e("div",Me,[e("div",Be,[e("div",Ee,[e("div",Oe,[e("h3",Ie,o(s.title),1),s.approval_status==="pending"?(r(),i("span",Re," ⏳ Pending ")):s.approval_status==="approved"?(r(),i("span",ze,[l(n(L),{class:"h-3 w-3 mr-1"}),t[31]||(t[31]=g(" Approved ",-1))])):s.approval_status==="rejected"?(r(),i("span",He,[l(n(P),{class:"h-3 w-3 mr-1"}),t[32]||(t[32]=g(" Rejected ",-1))])):c("",!0),s.is_featured?(r(),i("span",Ke,[l(n(te),{class:"h-3 w-3 mr-1"}),t[33]||(t[33]=g(" Featured ",-1))])):c("",!0),s.is_active?(r(),i("span",qe,[l(n(L),{class:"h-3 w-3 mr-1"}),t[34]||(t[34]=g(" Active ",-1))])):(r(),i("span",Ge,[l(n(P),{class:"h-3 w-3 mr-1"}),t[35]||(t[35]=g(" Inactive ",-1))]))]),e("p",Xe,o(s.company_name),1),e("div",Qe,[e("div",We,[l(n(se),{class:"h-4 w-4 mr-1"}),g(" "+o(s.city)+", "+o(s.country?.name),1)]),e("div",Ye,[l(n(U),{class:"h-4 w-4 mr-1"}),g(" "+o(s.salary_currency)+" "+o(s.salary_min.toLocaleString())+" - "+o(s.salary_max.toLocaleString()),1)]),e("div",Ze,[l(n(N),{class:"h-4 w-4 mr-1"}),g(" "+o(s.views_count)+" views ",1)]),s.processing_fee&&s.processing_fee>0?(r(),i("div",et,[l(n(U),{class:"h-4 w-4 mr-1"}),g(" +৳"+o(Number(s.processing_fee).toLocaleString())+" fee ",1)])):c("",!0)]),e("div",tt,[e("span",{class:D([I(s.category),"px-3 py-1 text-xs font-medium rounded-full"])},o(s.category),3),e("span",st,o(R(s.job_type)),1),e("span",ot,o(s.applications_count)+" applications ",1),e("span",lt,o(s.positions_available)+" positions ",1),s.application_fee>0?(r(),i("span",nt," Fee: ৳"+o(Number(s.application_fee).toLocaleString()),1)):c("",!0)])]),e("div",rt,[l(n(C),{href:a.route("admin.jobs.show",s.id),class:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"View Details"},{default:k(()=>[l(n(N),{class:"h-5 w-5"})]),_:1},8,["href"]),l(n(C),{href:a.route("admin.jobs.edit",s.id),class:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Job"},{default:k(()=>[l(n(oe),{class:"h-5 w-5"})]),_:1},8,["href"]),e("button",{onClick:z=>O(s.id),class:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Job"},[l(n(le),{class:"h-5 w-5"})],8,it)])])])])]))),128))]),d.jobs.data.length>0?(r(),i("div",at,[e("div",dt," Showing "+o(d.jobs.from)+" to "+o(d.jobs.to)+" of "+o(d.jobs.total)+" jobs ",1),e("div",ut,[(r(!0),i(A,null,$(d.jobs.links,s=>(r(),X(Q(s.url?n(C):"span"),{key:s.label,href:s.url||void 0,class:D(["px-4 py-2 text-sm rounded-lg font-medium",s.active?"bg-indigo-600 text-white":s.url?"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):c("",!0)])])]),_:1})],64))}};export{ht as default};
