import{r as d,c as i,f as l,g as r,i as R,j as $,a as t,n as M,k as D,t as o,o as n,p,D as B,x as j,v as w,F as h,q as k,z as A,A as N}from"./vendor-DUGSf9MG.js";import{A as P}from"./AdminLayout-CRJ9cJUr.js";import{ah as z,s as S,H as L,E as q,a8 as H,f as E,l as O,ag as I}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const K={class:"min-h-screen bg-gray-50 py-8"},W={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},G={class:"bg-white border-b border-gray-200 rounded-lg shadow-sm p-8 mb-8"},J={class:"flex flex-col md:flex-row md:items-center md:justify-between"},Q={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8"},X={class:"bg-white rounded-xl shadow-sm p-6"},Y={class:"text-2xl font-bold text-gray-900"},Z={class:"bg-white rounded-xl shadow-sm p-6"},tt={class:"text-2xl font-bold text-blue-900"},et={class:"bg-white rounded-xl shadow-sm p-6"},st={class:"text-2xl font-bold text-yellow-900"},ot={class:"bg-white rounded-xl shadow-sm p-6"},at={class:"text-2xl font-bold text-green-900"},lt={class:"bg-white rounded-xl shadow-sm p-6"},rt={class:"text-2xl font-bold text-red-900"},it={class:"bg-white rounded-xl shadow-sm p-6"},nt={class:"text-xl font-bold text-purple-900"},dt={key:0,class:"bg-white rounded-xl shadow-sm p-6 mb-6"},ut={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4"},pt={class:"relative"},xt=["value"],gt={class:"bg-white rounded-xl shadow-sm overflow-hidden"},ct={class:"overflow-x-auto"},mt={class:"w-full"},yt={class:"divide-y divide-gray-200"},bt={class:"px-6 py-4 whitespace-nowrap"},vt={class:"font-semibold text-gray-900"},ft={class:"text-sm text-gray-500"},wt={class:"px-6 py-4"},ht={class:"font-medium text-gray-900"},_t={class:"text-sm text-gray-500"},kt={class:"text-xs text-gray-400"},At={class:"px-6 py-4 whitespace-nowrap"},St={class:"text-sm font-medium text-gray-900 capitalize"},Tt={class:"px-6 py-4 whitespace-nowrap"},Vt={class:"text-sm text-gray-900"},Dt={class:"px-6 py-4 whitespace-nowrap"},jt={class:"text-sm text-gray-900"},Ct={class:"px-6 py-4 whitespace-nowrap"},Ft={class:"px-6 py-4 whitespace-nowrap"},Ut={class:"px-6 py-4 whitespace-nowrap"},Rt={class:"text-sm font-semibold text-gray-900"},$t={class:"px-6 py-4 whitespace-nowrap"},Mt=["href"],Bt={key:0,class:"px-6 py-4 bg-gray-50 border-t border-gray-200"},Nt={class:"flex items-center justify-between"},Pt={class:"text-sm text-gray-600"},zt={class:"flex gap-2"},Lt=["href","innerHTML"],qt={key:1,class:"px-6 py-12 text-center"},Xt={__name:"Index",props:{applications:Object,stats:Object,staffMembers:Array,filters:Object},setup(a){const u=a,g=d(u.filters.search||""),c=d(u.filters.status||""),m=d(u.filters.visa_type||""),y=d(u.filters.destination||""),b=d(u.filters.assigned_to||""),v=d(u.filters.payment_status||""),f=d(!1),_=()=>{N.get(route("admin.visa-applications.index"),{search:g.value,status:c.value,visa_type:m.value,destination:y.value,assigned_to:b.value,payment_status:v.value},{preserveState:!0,preserveScroll:!0})},C=()=>{g.value="",c.value="",m.value="",y.value="",b.value="",v.value="",_()},T=x=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(x||0),V=x=>new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),F={submitted:"bg-blue-100 text-blue-800",under_review:"bg-yellow-100 text-yellow-800",documents_requested:"bg-orange-100 text-orange-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",completed:"bg-purple-100 text-purple-800"},U={paid:"bg-green-100 text-green-800",unpaid:"bg-red-100 text-red-800",partial:"bg-yellow-100 text-yellow-800"};return(x,e)=>(n(),i(h,null,[l(r(R),{title:"Visa Applications"}),l(P,null,{default:$(()=>[t("div",K,[t("div",W,[t("div",G,[t("div",J,[e[7]||(e[7]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Visa Applications"),t("p",{class:"text-gray-600"},"Manage and track all visa applications")],-1)),t("button",{onClick:e[0]||(e[0]=s=>f.value=!f.value),class:"mt-4 md:mt-0 px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-semibold flex items-center gap-2 transition"},[l(r(z),{class:"h-5 w-5"}),D(" "+o(f.value?"Hide":"Show")+" Filters ",1)])])]),t("div",Q,[t("div",X,[l(r(S),{class:"h-8 w-8 text-gray-600 mb-2"}),e[8]||(e[8]=t("p",{class:"text-sm text-gray-600"},"Total",-1)),t("p",Y,o(a.stats.total),1)]),t("div",Z,[l(r(L),{class:"h-8 w-8 text-blue-600 mb-2"}),e[9]||(e[9]=t("p",{class:"text-sm text-gray-600"},"Pending",-1)),t("p",tt,o(a.stats.pending),1)]),t("div",et,[l(r(S),{class:"h-8 w-8 text-yellow-600 mb-2"}),e[10]||(e[10]=t("p",{class:"text-sm text-gray-600"},"Under Review",-1)),t("p",st,o(a.stats.under_review),1)]),t("div",ot,[l(r(q),{class:"h-8 w-8 text-green-600 mb-2"}),e[11]||(e[11]=t("p",{class:"text-sm text-gray-600"},"Approved",-1)),t("p",at,o(a.stats.approved),1)]),t("div",lt,[l(r(H),{class:"h-8 w-8 text-red-600 mb-2"}),e[12]||(e[12]=t("p",{class:"text-sm text-gray-600"},"Rejected",-1)),t("p",rt,o(a.stats.rejected),1)]),t("div",it,[l(r(E),{class:"h-8 w-8 text-purple-600 mb-2"}),e[13]||(e[13]=t("p",{class:"text-sm text-gray-600"},"Revenue",-1)),t("p",nt,o(T(a.stats.revenue)),1)])]),f.value?(n(),i("div",dt,[t("div",ut,[t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search",-1)),t("div",pt,[l(r(O),{class:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),p(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>g.value=s),type:"text",placeholder:"Reference, name, email, passport...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",onKeyup:B(_,["enter"])},null,544),[[j,g.value]])])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),p(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>c.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},[...e[15]||(e[15]=[t("option",{value:""},"All Statuses",-1),t("option",{value:"submitted"},"Submitted",-1),t("option",{value:"under_review"},"Under Review",-1),t("option",{value:"documents_requested"},"Documents Requested",-1),t("option",{value:"approved"},"Approved",-1),t("option",{value:"rejected"},"Rejected",-1),t("option",{value:"completed"},"Completed",-1)])],512),[[w,c.value]])]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Visa Type",-1)),p(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>m.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},[...e[17]||(e[17]=[t("option",{value:""},"All Types",-1),t("option",{value:"tourist"},"Tourist",-1),t("option",{value:"student"},"Student",-1),t("option",{value:"work"},"Work",-1),t("option",{value:"business"},"Business",-1),t("option",{value:"family"},"Family",-1),t("option",{value:"transit"},"Transit",-1)])],512),[[w,m.value]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Destination",-1)),p(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>y.value=s),type:"text",placeholder:"Enter country",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[j,y.value]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Assigned To",-1)),p(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>b.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},[e[20]||(e[20]=t("option",{value:""},"All Staff",-1)),(n(!0),i(h,null,k(a.staffMembers,s=>(n(),i("option",{key:s.id,value:s.id},o(s.name),9,xt))),128))],512),[[w,b.value]])]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Payment Status",-1)),p(t("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>v.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},[...e[22]||(e[22]=[t("option",{value:""},"All Payments",-1),t("option",{value:"paid"},"Paid",-1),t("option",{value:"unpaid"},"Unpaid",-1),t("option",{value:"partial"},"Partial",-1)])],512),[[w,v.value]])])]),t("div",{class:"flex gap-3"},[t("button",{onClick:_,class:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-semibold transition"}," Apply Filters "),t("button",{onClick:C,class:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-semibold transition"}," Clear All ")])])):M("",!0),t("div",gt,[t("div",ct,[t("table",mt,[e[25]||(e[25]=t("thead",{class:"bg-gray-50 border-b border-gray-200"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Reference"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Applicant"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Visa Type"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Destination"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Travel Date"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Payment"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Amount"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",yt,[(n(!0),i(h,null,k(a.applications.data,s=>(n(),i("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",bt,[t("div",vt,o(s.application_reference),1),t("div",ft,o(V(s.created_at)),1)]),t("td",wt,[t("div",ht,o(s.applicant_name),1),t("div",_t,o(s.applicant_email),1),t("div",kt,o(s.passport_number),1)]),t("td",At,[t("span",St,o(s.visa_type),1)]),t("td",Tt,[t("span",Vt,o(s.destination_country),1)]),t("td",Dt,[t("span",jt,o(V(s.travel_date)),1)]),t("td",Ct,[t("span",{class:A(["px-3 py-1 text-xs font-semibold rounded-full capitalize",F[s.status]||"bg-gray-100 text-gray-800"])},o(s.status.replace("_"," ")),3)]),t("td",Ft,[t("span",{class:A(["px-3 py-1 text-xs font-semibold rounded-full capitalize",U[s.payment_status]||"bg-gray-100 text-gray-800"])},o(s.payment_status),3)]),t("td",Ut,[t("span",Rt,o(T(s.total_amount)),1)]),t("td",$t,[t("a",{href:x.route("admin.visa-applications.show",s.id),class:"inline-flex items-center gap-1 text-indigo-600 hover:text-indigo-800 font-semibold text-sm"},[l(r(I),{class:"h-4 w-4"}),e[24]||(e[24]=D(" View ",-1))],8,Mt)])]))),128))])])]),a.applications.data.length>0?(n(),i("div",Bt,[t("div",Nt,[t("div",Pt," Showing "+o(a.applications.from)+" to "+o(a.applications.to)+" of "+o(a.applications.total)+" applications ",1),t("div",zt,[(n(!0),i(h,null,k(a.applications.links,s=>(n(),i("a",{key:s.label,href:s.url,innerHTML:s.label,class:A(["px-4 py-2 text-sm font-medium rounded-lg border transition",s.active?"bg-indigo-600 text-white border-indigo-600":s.url?"bg-white text-gray-700 border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed"])},null,10,Lt))),128))])])])):(n(),i("div",qt,[l(r(S),{class:"mx-auto h-12 w-12 text-gray-400"}),e[26]||(e[26]=t("h3",{class:"mt-2 text-sm font-semibold text-gray-900"},"No applications found",-1)),e[27]||(e[27]=t("p",{class:"mt-1 text-sm text-gray-500"},"Try adjusting your filters or search criteria.",-1))]))])])])]),_:1})],64))}};export{Xt as default};
