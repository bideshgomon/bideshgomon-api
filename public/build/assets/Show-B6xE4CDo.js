import{u as A,c as n,f as l,g as a,i as j,j as v,a as t,l as L,k as u,n as m,t as i,z as y,o as d,F as x,q as b,m as V,p as f,v as $,x as N}from"./vendor-DUGSf9MG.js";import{A as C}from"./AdminLayout-CRJ9cJUr.js";import{a as P,V as U,ai as D,S as T,H as B,g as h,s as _,U as E,E as w}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const F={class:"min-h-screen bg-gray-50 py-8"},R={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},M={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},z={class:"lg:col-span-2 space-y-6"},H={class:"bg-white rounded-2xl shadow-sm p-6"},q={class:"flex items-start justify-between mb-4"},I={class:"text-2xl font-bold text-gray-900 mb-2"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6"},O={class:"flex items-center text-gray-600"},W={class:"font-medium"},G={class:"flex items-center text-gray-600"},K={class:"font-medium"},Q={class:"flex items-center text-gray-600"},X={class:"font-medium"},Y={class:"flex items-center text-gray-600"},Z={class:"font-medium"},tt={class:"bg-white rounded-2xl shadow-sm p-6"},st={class:"text-lg font-bold text-gray-900 mb-4 flex items-center"},et={class:"space-y-3"},it={class:"text-lg font-semibold text-gray-900"},ot={class:"grid grid-cols-2 gap-4"},at={class:"font-medium"},lt={class:"font-medium"},nt={class:"grid grid-cols-2 gap-4"},dt={class:"font-medium"},rt={class:"font-medium"},ct={key:0,class:"bg-white rounded-2xl shadow-sm p-6"},mt={class:"text-lg font-bold text-gray-900 mb-4 flex items-center"},gt={class:"bg-gray-50 rounded-lg p-4 text-gray-700 whitespace-pre-wrap"},ut={key:1,class:"bg-white rounded-2xl shadow-sm p-6"},pt={class:"text-lg font-bold text-gray-900 mb-4 flex items-center"},xt={class:"space-y-4"},vt={class:"font-semibold text-gray-900"},yt={class:"text-gray-600"},bt={class:"text-sm text-gray-500"},ft={key:2,class:"bg-white rounded-2xl shadow-sm p-6"},ht={class:"text-lg font-bold text-gray-900 mb-4 flex items-center"},_t={class:"space-y-4"},wt={class:"font-semibold text-gray-900"},St={class:"text-gray-600"},kt={class:"text-sm text-gray-500"},At={key:0,class:"text-sm text-gray-700 mt-2"},jt={class:"space-y-6"},Lt={class:"bg-white rounded-2xl shadow-sm p-6"},Vt=["disabled"],$t={class:"bg-white rounded-2xl shadow-sm p-6"},Nt={class:"space-y-4"},Ct={class:"flex items-start"},Pt={class:"p-2 bg-green-100 rounded-full mr-3"},Ut={class:"flex-1"},Dt={class:"text-sm text-gray-500"},Tt={key:0,class:"flex items-start"},Bt={class:"p-2 bg-blue-100 rounded-full mr-3"},Et={class:"flex-1"},Ft={class:"text-sm text-gray-500"},Rt={class:"bg-white rounded-2xl shadow-sm p-6"},Mt={class:"space-y-3"},zt={class:"text-lg font-semibold text-gray-900"},Ht={key:0},qt={class:"text-sm font-mono text-gray-700"},It={key:0,class:"bg-white rounded-2xl shadow-sm p-6"},Jt={class:"flex items-center p-3 bg-purple-50 rounded-lg"},Ot={class:"flex-1"},Wt={class:"font-medium text-gray-900"},is={__name:"Show",props:{application:Object},setup(e){const p=e,r=A({status:p.application.status,admin_notes:p.application.admin_notes||""}),S=()=>{r.post(route("admin.applications.update-status",p.application.id),{preserveScroll:!0,onSuccess:()=>{alert("Application status updated successfully!")}})},k=g=>({pending:"bg-yellow-100 text-yellow-700",reviewed:"bg-blue-100 text-blue-700",shortlisted:"bg-purple-100 text-purple-700",rejected:"bg-red-100 text-red-700",hired:"bg-green-100 text-green-700"})[g]||"bg-gray-100 text-gray-700",c=g=>g?new Date(g).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return(g,s)=>(d(),n(x,null,[l(a(j),{title:`Application from ${e.application.user?.name}`},null,8,["title"]),l(C,null,{default:v(()=>[t("div",F,[t("div",R,[l(a(L),{href:g.route("admin.applications.index"),class:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-6"},{default:v(()=>[l(a(P),{class:"h-5 w-5 mr-2"}),s[2]||(s[2]=u(" Back to Applications ",-1))]),_:1},8,["href"]),t("div",M,[t("div",z,[t("div",H,[t("div",q,[t("div",null,[t("h1",I,i(e.application.user?.name),1),t("span",{class:y([k(e.application.status),"inline-flex items-center px-3 py-1 text-sm font-semibold rounded-full"])},i(e.application.status),3)])]),t("div",J,[t("div",O,[l(a(U),{class:"h-5 w-5 mr-3 text-gray-400"}),t("div",null,[s[3]||(s[3]=t("div",{class:"text-xs text-gray-500"},"Email",-1)),t("div",W,i(e.application.user?.email),1)])]),t("div",G,[l(a(D),{class:"h-5 w-5 mr-3 text-gray-400"}),t("div",null,[s[4]||(s[4]=t("div",{class:"text-xs text-gray-500"},"Phone",-1)),t("div",K,i(e.application.user?.user_profile?.phone||"N/A"),1)])]),t("div",Q,[l(a(T),{class:"h-5 w-5 mr-3 text-gray-400"}),t("div",null,[s[5]||(s[5]=t("div",{class:"text-xs text-gray-500"},"Location",-1)),t("div",X,i(e.application.user?.user_profile?.city||"N/A"),1)])]),t("div",Y,[l(a(B),{class:"h-5 w-5 mr-3 text-gray-400"}),t("div",null,[s[6]||(s[6]=t("div",{class:"text-xs text-gray-500"},"Applied",-1)),t("div",Z,i(c(e.application.submitted_at||e.application.created_at)),1)])])])]),t("div",tt,[t("h2",st,[l(a(h),{class:"h-5 w-5 mr-2 text-indigo-600"}),s[7]||(s[7]=u(" Applied Position ",-1))]),t("div",et,[t("div",null,[s[8]||(s[8]=t("div",{class:"text-sm text-gray-500"},"Job Title",-1)),t("div",it,i(e.application.job_posting?.title),1)]),t("div",ot,[t("div",null,[s[9]||(s[9]=t("div",{class:"text-sm text-gray-500"},"Company",-1)),t("div",at,i(e.application.job_posting?.company_name),1)]),t("div",null,[s[10]||(s[10]=t("div",{class:"text-sm text-gray-500"},"Location",-1)),t("div",lt,i(e.application.job_posting?.city)+", "+i(e.application.job_posting?.country?.name),1)])]),t("div",nt,[t("div",null,[s[11]||(s[11]=t("div",{class:"text-sm text-gray-500"},"Salary Range",-1)),t("div",dt,i(e.application.job_posting?.salary_currency)+" "+i(e.application.job_posting?.salary_min?.toLocaleString())+" - "+i(e.application.job_posting?.salary_max?.toLocaleString()),1)]),t("div",null,[s[12]||(s[12]=t("div",{class:"text-sm text-gray-500"},"Application Fee",-1)),t("div",rt,"৳"+i(e.application.application_fee_paid?.toLocaleString()),1)])])])]),e.application.cover_letter?(d(),n("div",ct,[t("h2",mt,[l(a(_),{class:"h-5 w-5 mr-2 text-indigo-600"}),s[13]||(s[13]=u(" Cover Letter ",-1))]),t("div",gt,i(e.application.cover_letter),1)])):m("",!0),e.application.user?.educations?.length>0?(d(),n("div",ut,[t("h2",pt,[l(a(E),{class:"h-5 w-5 mr-2 text-indigo-600"}),s[14]||(s[14]=u(" Education ",-1))]),t("div",xt,[(d(!0),n(x,null,b(e.application.user.educations,o=>(d(),n("div",{key:o.id,class:"border-l-4 border-indigo-500 pl-4"},[t("div",vt,i(o.degree)+" in "+i(o.field_of_study),1),t("div",yt,i(o.institution_name),1),t("div",bt,i(c(o.start_date))+" - "+i(o.end_date?c(o.end_date):"Present"),1)]))),128))])])):m("",!0),e.application.user?.work_experiences?.length>0?(d(),n("div",ft,[t("h2",ht,[l(a(h),{class:"h-5 w-5 mr-2 text-indigo-600"}),s[15]||(s[15]=u(" Work Experience ",-1))]),t("div",_t,[(d(!0),n(x,null,b(e.application.user.work_experiences,o=>(d(),n("div",{key:o.id,class:"border-l-4 border-purple-500 pl-4"},[t("div",wt,i(o.position),1),t("div",St,i(o.company_name),1),t("div",kt,i(c(o.start_date))+" - "+i(o.end_date?c(o.end_date):"Present"),1),o.job_description?(d(),n("div",At,i(o.job_description),1)):m("",!0)]))),128))])])):m("",!0)]),t("div",jt,[t("div",Lt,[s[19]||(s[19]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Update Status",-1)),t("form",{onSubmit:V(S,["prevent"]),class:"space-y-4"},[t("div",null,[s[17]||(s[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),f(t("select",{"onUpdate:modelValue":s[0]||(s[0]=o=>a(r).status=o),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},[...s[16]||(s[16]=[t("option",{value:"pending"},"Pending",-1),t("option",{value:"reviewed"},"Reviewed",-1),t("option",{value:"shortlisted"},"Shortlisted",-1),t("option",{value:"rejected"},"Rejected",-1),t("option",{value:"hired"},"Hired",-1)])],512),[[$,a(r).status]])]),t("div",null,[s[18]||(s[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Admin Notes",-1)),f(t("textarea",{"onUpdate:modelValue":s[1]||(s[1]=o=>a(r).admin_notes=o),rows:"4",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Add internal notes about this application..."},null,512),[[N,a(r).admin_notes]])]),t("button",{type:"submit",disabled:a(r).processing,class:"w-full px-6 py-3 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 transition-colors disabled:opacity-50"},i(a(r).processing?"Updating...":"Update Application"),9,Vt)],32)]),t("div",$t,[s[22]||(s[22]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Timeline",-1)),t("div",Nt,[t("div",Ct,[t("div",Pt,[l(a(w),{class:"h-4 w-4 text-green-600"})]),t("div",Ut,[s[20]||(s[20]=t("div",{class:"font-medium text-gray-900"},"Application Submitted",-1)),t("div",Dt,i(c(e.application.submitted_at||e.application.created_at)),1)])]),e.application.reviewed_at?(d(),n("div",Tt,[t("div",Bt,[l(a(w),{class:"h-4 w-4 text-blue-600"})]),t("div",Et,[s[21]||(s[21]=t("div",{class:"font-medium text-gray-900"},"Reviewed by Admin",-1)),t("div",Ft,i(c(e.application.reviewed_at)),1)])])):m("",!0)])]),t("div",Rt,[s[26]||(s[26]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Payment Details",-1)),t("div",Mt,[t("div",null,[s[23]||(s[23]=t("div",{class:"text-sm text-gray-500"},"Application Fee",-1)),t("div",zt,"৳"+i(e.application.application_fee_paid?.toLocaleString()),1)]),t("div",null,[s[24]||(s[24]=t("div",{class:"text-sm text-gray-500"},"Payment Status",-1)),t("span",{class:y([e.application.payment_status==="paid"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700","inline-block px-3 py-1 text-sm font-semibold rounded-full mt-1"])},i(e.application.payment_status),3)]),e.application.wallet_transaction_id?(d(),n("div",Ht,[s[25]||(s[25]=t("div",{class:"text-sm text-gray-500"},"Transaction ID",-1)),t("div",qt,i(e.application.wallet_transaction_id),1)])):m("",!0)])]),e.application.user_cv?(d(),n("div",It,[s[28]||(s[28]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Attached CV",-1)),t("div",Jt,[l(a(_),{class:"h-8 w-8 text-purple-600 mr-3"}),t("div",Ot,[t("div",Wt,i(e.application.user_cv.title||"Resume"),1),s[27]||(s[27]=t("div",{class:"text-sm text-gray-500"},"CV Template",-1))])])])):m("",!0)])])])])]),_:1})],64))}};export{is as default};
