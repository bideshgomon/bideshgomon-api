import{r as v,u as P,B as q,y,j as m,f as i,a as t,g as o,i as F,l as H,k as _,t as s,n as r,o as l,c,m as I,p as O,z as b,x as U}from"./vendor-DUGSf9MG.js";import{_ as E}from"./AuthenticatedLayout-DdydbOmd.js";import{_ as G}from"./Modal-DEylfiwE.js";import{_ as w}from"./RhythmicCard-C3WPuz9Q.js";import{F as k}from"./FlowButton-B_7IFJCy.js";import{_ as C}from"./StatusBadge-C0e7X4l3.js";import{a as J,ap as K,D as $,bN as Q,H as A,E as D,a8 as S}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";/* empty css                                                                   */const W={class:"py-rhythm-2xl"},X={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},Y={class:"flex items-center justify-between mb-rhythm-md"},Z={class:"flex items-center gap-rhythm-xs"},tt={class:"flex items-start justify-between"},et={class:"flex-1"},st={class:"flex items-center gap-rhythm-sm mb-rhythm-sm"},nt={class:"grid grid-cols-2 gap-rhythm-md mb-rhythm-md"},ot={class:"flex items-center text-gray-900 mb-rhythm-xs"},at={class:"p-rhythm-xs rounded-xl bg-sky-100 mr-rhythm-sm"},it={class:"font-semibold text-lg"},lt={class:"flex items-center text-gray-900 mb-rhythm-xs"},rt={class:"p-rhythm-xs rounded-xl bg-sky-100 mr-rhythm-sm"},dt={class:"font-semibold text-lg"},mt={class:"space-y-2"},ct={class:"flex items-start"},ht={class:"text-sm font-medium text-gray-600 w-32"},pt={class:"text-sm text-gray-900"},ut={key:0,class:"flex items-start"},_t={class:"text-sm font-medium text-gray-600 w-32"},ft={class:"text-sm text-gray-900"},yt={key:1,class:"flex items-start"},xt={class:"text-sm font-medium text-gray-600 w-32"},gt={class:"text-sm text-gray-900"},vt={key:2,class:"flex items-start"},bt={class:"text-sm font-medium text-gray-600 w-32"},wt=["href"],kt={key:0,class:"mt-rhythm-md p-rhythm-md bg-sky-50 border-2 border-sky-200 rounded-xl"},Ct={class:"text-sm font-medium text-sky-900 mb-rhythm-xs"},$t={class:"text-sm text-sky-800"},At={key:1,class:"mt-rhythm-md p-rhythm-md bg-red-50 border-2 border-red-200 rounded-xl"},Dt={class:"text-sm font-medium text-red-900 mb-rhythm-xs"},St={class:"text-sm text-red-800"},jt={class:"text-lg font-semibold text-gray-900 mb-rhythm-md"},Mt={class:"space-y-rhythm-md"},zt={class:"flex items-start"},Bt={class:"flex-shrink-0"},Nt={class:"w-8 h-8 bg-sky-100 rounded-full flex items-center justify-center"},Vt={class:"ml-4"},Lt={class:"text-sm font-medium text-gray-900"},Rt={class:"text-xs text-gray-500"},Tt={key:0,class:"flex items-start"},Pt={class:"flex-shrink-0"},qt={class:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center"},Ft={class:"ml-4"},Ht={class:"text-sm font-medium text-gray-900"},It={class:"text-xs text-gray-500"},Ot={key:1,class:"flex items-start"},Ut={class:"flex-shrink-0"},Et={class:"w-8 h-8 bg-sky-100 rounded-full flex items-center justify-center"},Gt={class:"ml-4"},Jt={class:"text-sm font-medium text-gray-900"},Kt={class:"text-xs text-gray-500"},Qt={key:2,class:"flex items-start"},Wt={class:"flex-shrink-0"},Xt={class:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center"},Yt={class:"ml-4"},Zt={class:"text-sm font-medium text-gray-900"},te={class:"text-xs text-gray-500"},ee={class:"p-6"},se={class:"flex items-center gap-3 mb-4"},ne={class:"p-2 bg-red-100 rounded-lg"},oe={class:"text-lg font-semibold text-gray-900"},ae={class:"mb-4"},ie={for:"cancellation_reason",class:"block text-sm font-medium text-gray-700 mb-2"},le={key:0,class:"mt-1 text-sm text-red-600"},re={class:"flex justify-end gap-3"},de=["disabled"],ke={__name:"Show",props:{appointment:Object},setup(n){const x=n,p=v(!1),j=v(!1),d=P({reason:""}),M=q(()=>["pending","confirmed"].includes(x.appointment.status)&&new Date(x.appointment.appointment_date)>=new Date),z=()=>{d.post(route("appointments.cancel",x.appointment.id),{preserveScroll:!0,onSuccess:()=>{p.value=!1,d.reset()}})},B=e=>({pending:"warning",confirmed:"success",completed:"info",cancelled:"error"})[e]||"pending",N=e=>({pending:"Pending Confirmation",confirmed:"Confirmed",completed:"Completed",cancelled:"Cancelled"})[e]||e,V=e=>({office_visit:"Office Visit",online_meeting:"Online Meeting"})[e]||e,L=e=>({consultation:"Consultation",document_submission:"Document Submission",general_inquiry:"General Inquiry",visa_interview_prep:"Visa Interview Preparation",application_review:"Application Review"})[e]||e,g=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),R=e=>{const[a,h]=e.split(":"),u=parseInt(a),T=u>=12?"PM":"AM";return`${u>12?u-12:u===0?12:u}:${h} ${T}`},f=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(e,a)=>(l(),y(E,null,{default:m(()=>[i(o(F),{title:`Appointment - ${g(n.appointment.appointment_date)}`},null,8,["title"]),t("div",W,[t("div",X,[i(w,{variant:"sky",size:"lg",class:"mb-rhythm-lg"},{default:m(()=>[t("div",Y,[i(o(H),{href:e.route("appointments.index"),class:"inline-flex items-center gap-rhythm-xs text-sky-700 hover:text-sky-900 font-medium"},{default:m(()=>[i(o(J),{class:"w-4 h-4"}),_(" "+s(e.__("Back to Appointments")),1)]),_:1},8,["href"]),t("div",Z,[n.appointment.status==="pending"||n.appointment.status==="confirmed"?(l(),y(k,{key:0,variant:"sky",size:"sm",onClick:a[0]||(a[0]=h=>j.value=!0)},{"icon-left":m(()=>[i(o(K),{class:"w-4 h-4"})]),default:m(()=>[_(" "+s(e.__("Reschedule")),1)]),_:1})):r("",!0),M.value?(l(),y(k,{key:1,variant:"error",size:"sm",onClick:a[1]||(a[1]=h=>p.value=!0)},{"icon-left":m(()=>[i(o($),{class:"w-4 h-4"})]),default:m(()=>[_(" "+s(e.__("Cancel")),1)]),_:1})):r("",!0)])]),t("div",tt,[t("div",et,[t("div",st,[i(C,{status:B(n.appointment.status),label:N(n.appointment.status),size:"md"},null,8,["status","label"]),i(C,{status:"info",label:V(n.appointment.appointment_type),size:"md"},null,8,["label"])]),t("div",nt,[t("div",null,[t("div",ot,[t("div",at,[i(o(Q),{class:"w-5 h-5 text-sky-600"})]),t("span",it,s(g(n.appointment.appointment_date)),1)])]),t("div",null,[t("div",lt,[t("div",rt,[i(o(A),{class:"w-5 h-5 text-sky-600"})]),t("span",dt,s(R(n.appointment.appointment_time)),1)])])]),t("div",mt,[t("div",ct,[t("span",ht,s(e.__("Purpose"))+":",1),t("span",pt,s(L(n.appointment.purpose)),1)]),n.appointment.notes?(l(),c("div",ut,[t("span",_t,s(e.__("Notes"))+":",1),t("span",ft,s(n.appointment.notes),1)])):r("",!0),n.appointment.assigned_to?(l(),c("div",yt,[t("span",xt,s(e.__("Assigned to"))+":",1),t("span",gt,s(n.appointment.assigned_to.name),1)])):r("",!0),n.appointment.meeting_link&&n.appointment.status==="confirmed"?(l(),c("div",vt,[t("span",bt,s(e.__("Meeting Link"))+":",1),t("a",{href:n.appointment.meeting_link,target:"_blank",class:"text-sm text-blue-600 hover:text-blue-800 underline"},s(e.__("Join Meeting")),9,wt)])):r("",!0)]),n.appointment.admin_notes?(l(),c("div",kt,[t("p",Ct,s(e.__("Admin Notes"))+":",1),t("p",$t,s(n.appointment.admin_notes),1)])):r("",!0),n.appointment.cancellation_reason?(l(),c("div",At,[t("p",Dt,s(e.__("Cancellation Reason"))+":",1),t("p",St,s(n.appointment.cancellation_reason),1)])):r("",!0)])])]),_:1}),i(w,{variant:"white",size:"lg"},{default:m(()=>[t("h3",jt,s(e.__("Timeline")),1),t("div",Mt,[t("div",zt,[t("div",Bt,[t("div",Nt,[i(o(A),{class:"w-4 h-4 text-sky-600"})])]),t("div",Vt,[t("p",Lt,s(e.__("Appointment Requested")),1),t("p",Rt,s(f(n.appointment.created_at)),1)])]),n.appointment.confirmed_at?(l(),c("div",Tt,[t("div",Pt,[t("div",qt,[i(o(D),{class:"w-4 h-4 text-green-600"})])]),t("div",Ft,[t("p",Ht,s(e.__("Appointment Confirmed")),1),t("p",It,s(f(n.appointment.confirmed_at)),1)])])):r("",!0),n.appointment.completed_at?(l(),c("div",Ot,[t("div",Ut,[t("div",Et,[i(o(D),{class:"w-4 h-4 text-sky-600"})])]),t("div",Gt,[t("p",Jt,s(e.__("Appointment Completed")),1),t("p",Kt,s(f(n.appointment.completed_at)),1)])])):r("",!0),n.appointment.cancelled_at?(l(),c("div",Qt,[t("div",Wt,[t("div",Xt,[i(o(S),{class:"w-4 h-4 text-red-600"})])]),t("div",Yt,[t("p",Zt,s(e.__("Appointment Cancelled")),1),t("p",te,s(f(n.appointment.cancelled_at)),1)])])):r("",!0)])]),_:1})])]),i(G,{show:p.value,onClose:a[4]||(a[4]=h=>p.value=!1)},{default:m(()=>[t("div",ee,[t("div",se,[t("div",ne,[i(o(S),{class:"w-6 h-6 text-red-600"})]),t("h3",oe,s(e.__("Cancel Appointment")),1)]),t("form",{onSubmit:I(z,["prevent"])},[t("div",ae,[t("label",ie,[_(s(e.__("Reason for Cancellation"))+" ",1),a[5]||(a[5]=t("span",{class:"text-red-500"},"*",-1))]),O(t("textarea",{id:"cancellation_reason","onUpdate:modelValue":a[2]||(a[2]=h=>o(d).reason=h),rows:"4",class:b(["w-full rounded-lg border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500",{"border-red-500":o(d).errors.reason}]),required:"",placeholder:"Please let us know why you're cancelling..."},null,2),[[U,o(d).reason]]),o(d).errors.reason?(l(),c("p",le,s(o(d).errors.reason),1)):r("",!0)]),t("div",re,[t("button",{type:"button",onClick:a[3]||(a[3]=h=>p.value=!1),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"},s(e.__("Keep Appointment")),1),t("button",{type:"submit",disabled:o(d).processing,class:b(["inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition-colors",{"opacity-50 cursor-not-allowed":o(d).processing}])},[o(d).processing?r("",!0):(l(),y(o($),{key:0,class:"w-5 h-5"})),_(" "+s(o(d).processing?e.__("Cancelling..."):e.__("Cancel Appointment")),1)],10,de)])],32)])]),_:1},8,["show"])]),_:1}))}};export{ke as default};
