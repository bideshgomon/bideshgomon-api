import{u as H,r as f,c as r,f as n,g as s,i as W,j as C,a as e,k as d,m as w,o as l,F as _,q as $,z as b,p as q,y as j,n as p,Z as J,G as K,t as u,l as X,A as O}from"./vendor-DUGSf9MG.js";import{_ as Z}from"./AuthenticatedLayout-DdydbOmd.js";import{_ as Q}from"./Pagination-Cw5PI-56.js";import{_ as Y}from"./Modal-DEylfiwE.js";import{_ as ee}from"./StatusBadge-C0e7X4l3.js";import{aM as P,X as S,H as T,E as c,bm as I,p as k,aO as te,a8 as se,ap as R,ag as oe}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";const ne={class:"relative overflow-hidden bg-gradient-to-br from-indigo-50 via-white to-purple-50 border-b border-gray-200"},le={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},re={class:"flex items-start gap-6"},ie={class:"flex-shrink-0 p-4 rounded-2xl bg-gradient-to-br from-indigo-600 to-purple-600 shadow-xl shadow-indigo-200"},ae={class:"flex-1"},de={class:"flex flex-wrap gap-6 text-sm"},ue={class:"flex items-center gap-2 text-gray-600"},ce={class:"flex items-center gap-2 text-gray-600"},ge={class:"flex items-center gap-2 text-gray-600"},me={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},pe={class:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-8"},xe={class:"bg-gradient-to-r from-indigo-500 to-purple-500 px-6 py-4"},fe={class:"text-2xl font-bold text-white flex items-center gap-2"},be={class:"grid grid-cols-2 md:grid-cols-5 gap-3"},ve=["value"],he={key:0,class:"py-8"},ye={class:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center"},we={class:"flex items-center justify-center gap-4 text-xs text-gray-400"},_e={class:"flex items-center gap-1"},ke={class:"flex items-center gap-1"},De={key:1,class:"space-y-4"},Ce={class:"relative inline-block"},$e=["src"],je={class:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100"},Se={class:"flex items-center gap-2 mb-4"},Ie={class:"space-y-3 text-sm text-gray-600"},Ue={class:"flex items-start gap-3"},Ae={class:"flex items-start gap-3"},Oe={class:"flex items-start gap-3"},Pe={class:"flex items-start gap-3"},Te=["disabled"],Re={class:"text-lg"},Ne={key:0,class:"space-y-4"},Be={class:"p-6"},Le={class:"flex items-start justify-between gap-4"},Ve={class:"flex-1"},ze={class:"flex items-center gap-3 mb-3"},Ee={class:"text-sm font-medium text-gray-700 capitalize"},Fe={class:"text-sm text-gray-400"},Me={key:0,class:"space-y-3"},Ge={class:"flex items-center gap-2 text-sm"},He={class:"font-semibold text-gray-900"},We={key:0,class:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium"},qe={class:"flex flex-wrap gap-2"},Je={key:0,class:"px-3 py-1.5 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium self-center"},Ke={key:1,class:"flex items-start gap-3 p-4 bg-red-50 rounded-xl border border-red-100"},Xe={class:"text-sm text-red-700"},Ze={key:2,class:"flex items-center gap-3 p-4 bg-indigo-50 rounded-xl border border-indigo-100"},Qe={key:3,class:"flex items-center gap-3 p-4 bg-gray-50 rounded-xl border border-gray-200"},Ye={class:"flex items-center gap-2"},et=["onClick"],tt=["onClick"],st={key:1,class:"bg-white rounded-2xl shadow-md p-12 text-center border border-gray-100"},ot={class:"w-20 h-20 mx-auto mb-6 rounded-3xl bg-gradient-to-br from-indigo-100 to-purple-100 flex items-center justify-center"},nt={key:2,class:"mt-6"},lt={class:"p-8"},rt={class:"mb-6"},it={class:"w-12 h-12 mx-auto mb-4 rounded-2xl bg-red-100 flex items-center justify-center"},at={class:"flex justify-end gap-3"},ht={__name:"Index",props:{scans:Object},setup(v){const i=H({document_type:"",document_image:null}),h=f(!1),g=f(null),D=f(null),x=f(!1),y=f(null),N=a=>{const t=a.target.files[0];t&&(i.document_image=t,g.value=URL.createObjectURL(t))},B=a=>{h.value=!1;const t=a.dataTransfer.files[0];t&&t.type.startsWith("image/")&&(i.document_image=t,g.value=URL.createObjectURL(t))},U=()=>{i.document_image=null,g.value=null,D.value&&(D.value.value="")},A=()=>{i.post(route("document-scanner.upload"),{onSuccess:()=>{i.reset(),U()}})},L=a=>{O.post(route("document-scanner.reprocess",a))},V=a=>{y.value=a,x.value=!0},z=()=>{y.value&&O.delete(route("document-scanner.destroy",y.value),{onSuccess:()=>{x.value=!1,y.value=null}})},E=a=>({completed:"success",processing:"info",pending:"pending",failed:"error"})[a]||"pending",F=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),M=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(a,t)=>(l(),r(_,null,[n(s(W),{title:"Document Scanner - AI-Powered OCR"}),n(Z,null,{default:C(()=>[e("div",ne,[t[11]||(t[11]=e("div",{class:"absolute inset-0 bg-grid-gray-100 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.6))] -z-10"},null,-1)),e("div",le,[e("div",re,[e("div",ie,[n(s(P),{class:"h-14 w-14 text-white"})]),e("div",ae,[t[9]||(t[9]=e("h1",{class:"text-4xl font-bold mb-2 bg-gradient-to-r from-indigo-900 to-purple-900 bg-clip-text text-transparent"}," AI Document Scanner ",-1)),t[10]||(t[10]=e("p",{class:"text-xl text-gray-600 mb-4"}," Extract data from passports, IDs, and visas instantly with AI ",-1)),e("div",de,[e("div",ue,[n(s(S),{class:"h-5 w-5 text-indigo-500"}),t[6]||(t[6]=e("span",null,"98% accuracy rate",-1))]),e("div",ce,[n(s(T),{class:"h-5 w-5 text-indigo-500"}),t[7]||(t[7]=e("span",null,"Process in 5-30 seconds",-1))]),e("div",ge,[n(s(c),{class:"h-5 w-5 text-indigo-500"}),t[8]||(t[8]=e("span",null,"Auto-fill your profile",-1))])])])])])]),e("div",me,[e("div",pe,[e("div",xe,[e("h2",fe,[n(s(I),{class:"h-7 w-7"}),t[12]||(t[12]=d(" Upload New Document ",-1))])]),e("form",{onSubmit:w(A,["prevent"]),class:"p-6 space-y-6"},[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-semibold text-gray-900 mb-3"},[d(" Document Type "),e("span",{class:"text-red-500"},"*")],-1)),e("div",be,[(l(!0),r(_,null,$(a.documentTypes,o=>(l(),r("label",{key:o.value,class:b(["relative flex flex-col items-center gap-2 p-4 border-2 rounded-xl cursor-pointer transition-all",s(i).document_type===o.value?"border-indigo-500 bg-indigo-50 shadow-md":"border-gray-200 hover:border-indigo-300 hover:bg-gray-50"])},[q(e("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=m=>s(i).document_type=m),value:o.value,class:"sr-only"},null,8,ve),[[J,s(i).document_type]]),(l(),j(K(o.icon),{class:b(["h-8 w-8",s(i).document_type===o.value?"text-indigo-600":"text-gray-400"])},null,8,["class"])),e("span",{class:b(["text-sm font-medium text-center",s(i).document_type===o.value?"text-indigo-900":"text-gray-700"])},u(o.label),3),s(i).document_type===o.value?(l(),j(s(c),{key:0,class:"absolute top-2 right-2 h-5 w-5 text-indigo-600"})):p("",!0)],2))),128))])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-semibold text-gray-900 mb-3"},[d(" Document Image "),e("span",{class:"text-red-500"},"*")],-1)),e("div",{onDragover:t[1]||(t[1]=w(o=>h.value=!0,["prevent"])),onDragleave:t[2]||(t[2]=o=>h.value=!1),onDrop:w(B,["prevent"]),class:b(["relative border-2 border-dashed rounded-2xl p-8 text-center cursor-pointer transition-all duration-200",h.value?"border-indigo-500 bg-indigo-50 scale-[1.02]":"border-gray-300 hover:border-indigo-400 hover:bg-gray-50",g.value?"p-4":""]),onClick:t[3]||(t[3]=o=>!g.value&&a.$refs.fileInput.click())},[e("input",{ref_key:"fileInput",ref:D,type:"file",onChange:N,accept:"image/jpeg,image/png,image/jpg",class:"hidden"},null,544),g.value?(l(),r("div",De,[e("div",Ce,[e("img",{src:g.value,alt:"Preview",class:"max-h-80 mx-auto rounded-xl shadow-lg"},null,8,$e),e("button",{type:"button",onClick:w(U,["stop"]),class:"absolute top-2 right-2 p-2 bg-red-500 hover:bg-red-600 text-white rounded-full shadow-lg transition-colors"},[n(s(k),{class:"h-5 w-5"})])]),t[19]||(t[19]=e("p",{class:"text-sm font-medium text-gray-600"},"Click trash icon to remove and upload a different image",-1))])):(l(),r("div",he,[e("div",ye,[n(s(I),{class:"h-10 w-10 text-white"})]),t[17]||(t[17]=e("p",{class:"text-lg font-semibold text-gray-900 mb-2"},[e("span",{class:"text-indigo-600"},"Click to upload"),d(" or drag and drop ")],-1)),t[18]||(t[18]=e("p",{class:"text-sm text-gray-500 mb-4"},"PNG, JPG up to 10MB",-1)),e("div",we,[e("span",_e,[n(s(S),{class:"h-4 w-4"}),t[14]||(t[14]=d(" AI-powered ",-1))]),t[16]||(t[16]=e("span",null,"â€¢",-1)),e("span",ke,[n(s(c),{class:"h-4 w-4"}),t[15]||(t[15]=d(" Secure upload ",-1))])])]))],34)]),e("div",je,[e("div",Se,[n(s(te),{class:"h-6 w-6 text-indigo-600"}),t[21]||(t[21]=e("h3",{class:"font-semibold text-gray-900"},"Pro Tips for Best Results",-1))]),e("ul",Ie,[e("li",Ue,[n(s(c),{class:"h-5 w-5 text-indigo-500 flex-shrink-0 mt-0.5"}),t[22]||(t[22]=e("span",null,"Ensure good lighting and avoid shadows on your document",-1))]),e("li",Ae,[n(s(c),{class:"h-5 w-5 text-indigo-500 flex-shrink-0 mt-0.5"}),t[23]||(t[23]=e("span",null,"Capture the entire document within the frame for complete data",-1))]),e("li",Oe,[n(s(c),{class:"h-5 w-5 text-indigo-500 flex-shrink-0 mt-0.5"}),t[24]||(t[24]=e("span",null,"Keep the document flat on a contrasting surface to avoid glare",-1))]),e("li",Pe,[n(s(c),{class:"h-5 w-5 text-indigo-500 flex-shrink-0 mt-0.5"}),t[25]||(t[25]=e("span",null,"Use a high-resolution image for maximum OCR accuracy",-1))])])]),e("button",{type:"button",disabled:s(i).processing||!s(i).document_type||!s(i).document_image,onClick:A,class:b(["w-full py-4 px-6 rounded-2xl font-semibold text-white shadow-lg transition-all duration-200","bg-gradient-to-r from-indigo-500 to-purple-500","hover:from-indigo-600 hover:to-purple-600 hover:shadow-xl hover:scale-[1.02]","disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100","flex items-center justify-center gap-3"])},[n(s(S),{class:"h-6 w-6"}),e("span",Re,u(s(i).processing?"Processing with AI...":"Scan Document with AI"),1)],8,Te)],32)]),e("div",null,[t[33]||(t[33]=e("div",{class:"flex items-center gap-3 mb-6"},[e("div",{class:"w-1 h-8 bg-gradient-to-b from-indigo-500 to-purple-500 rounded-full"}),e("h2",{class:"text-2xl font-bold text-gray-900"},"Scan History")],-1)),v.scans.data.length>0?(l(),r("div",Ne,[(l(!0),r(_,null,$(v.scans.data,o=>(l(),r("div",{key:o.id,class:"bg-white rounded-2xl shadow-md hover:shadow-xl transition-shadow duration-200 overflow-hidden border border-gray-100"},[e("div",Be,[e("div",Le,[e("div",Ve,[e("div",ze,[n(ee,{status:E(o.status),label:o.status,size:"md"},null,8,["status","label"]),e("span",Ee,u(o.document_type.replace("_"," ")),1),e("span",Fe,u(F(o.created_at)),1)]),o.status==="completed"&&o.extracted_data?(l(),r("div",Me,[e("div",Ge,[n(s(c),{class:"h-5 w-5 text-green-500"}),e("span",He," Data extracted ("+u(Object.keys(o.extracted_data).length)+" fields) ",1),o.confidence_score?(l(),r("span",We,u(o.confidence_score)+"% confidence ",1)):p("",!0)]),e("div",qe,[(l(!0),r(_,null,$(Object.entries(o.extracted_data).slice(0,3),(m,G)=>(l(),r("span",{key:G,class:"px-3 py-1.5 bg-indigo-50 text-indigo-700 rounded-lg text-xs font-medium"},u(m[0].replace("_"," "))+": "+u(m[1]),1))),128)),Object.keys(o.extracted_data).length>3?(l(),r("span",Je," +"+u(Object.keys(o.extracted_data).length-3)+" more fields ",1)):p("",!0)])])):o.status==="failed"?(l(),r("div",Ke,[n(s(se),{class:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),e("span",Xe,u(o.error_message||"Processing failed. Please try again."),1)])):o.status==="processing"?(l(),r("div",Ze,[n(s(R),{class:"h-5 w-5 animate-spin text-indigo-600"}),t[26]||(t[26]=e("div",null,[e("span",{class:"font-medium text-indigo-900 text-sm"},"Processing document with AI..."),e("p",{class:"text-xs text-indigo-600 mt-1"},"Estimated: 5-30 seconds")],-1))])):(l(),r("div",Qe,[n(s(T),{class:"h-5 w-5 text-gray-500"}),t[27]||(t[27]=e("span",{class:"text-sm text-gray-600 font-medium"},"Waiting for processing...",-1))]))]),e("div",Ye,[o.status==="completed"?(l(),j(s(X),{key:0,href:a.route("document-scanner.show",o.id),class:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-xl hover:from-indigo-600 hover:to-purple-600 transition-all flex items-center gap-2 text-sm font-medium"},{default:C(()=>[n(s(oe),{class:"h-4 w-4"}),t[28]||(t[28]=d(" View Details ",-1))]),_:1},8,["href"])):p("",!0),o.status==="failed"?(l(),r("button",{key:1,onClick:m=>L(o.id),class:"px-4 py-2 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-colors flex items-center gap-2 text-sm font-medium"},[n(s(R),{class:"h-4 w-4"}),t[29]||(t[29]=d(" Retry ",-1))],8,et)):p("",!0),e("button",{onClick:m=>V(o.id),class:"p-2 text-red-600 hover:bg-red-50 rounded-xl transition-colors",title:"Delete scan"},[n(s(k),{class:"h-5 w-5"})],8,tt)])])])]))),128))])):(l(),r("div",st,[e("div",ot,[n(s(P),{class:"h-12 w-12 text-indigo-600"})]),t[31]||(t[31]=e("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"No scans yet",-1)),t[32]||(t[32]=e("p",{class:"text-gray-500 mb-6 max-w-md mx-auto"},"Upload your first document to get started with AI-powered data extraction",-1)),e("button",{onClick:M,class:"px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-xl hover:from-indigo-600 hover:to-purple-600 transition-all font-medium inline-flex items-center gap-2"},[n(s(I),{class:"h-5 w-5"}),t[30]||(t[30]=d(" Upload Document ",-1))])])),v.scans.data.length>0?(l(),r("div",nt,[n(Q,{links:v.scans.links},null,8,["links"])])):p("",!0)])]),n(Y,{show:x.value,onClose:t[5]||(t[5]=o=>x.value=!1)},{default:C(()=>[e("div",lt,[e("div",rt,[e("div",it,[n(s(k),{class:"h-7 w-7 text-red-600"})]),t[34]||(t[34]=e("h3",{class:"text-xl font-bold text-gray-900 mb-2 text-center"},"Delete Document Scan",-1)),t[35]||(t[35]=e("p",{class:"text-gray-600 text-center"}," Are you sure you want to delete this scan? This action cannot be undone and all extracted data will be lost. ",-1))]),e("div",at,[e("button",{onClick:t[4]||(t[4]=o=>x.value=!1),class:"px-5 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium"}," Cancel "),e("button",{onClick:z,class:"px-5 py-2.5 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors font-medium flex items-center gap-2"},[n(s(k),{class:"h-4 w-4"}),t[36]||(t[36]=d(" Delete Scan ",-1))])])])]),_:1},8,["show"])]),_:1})],64))}};export{ht as default};
