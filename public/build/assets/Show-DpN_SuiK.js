import{r as p,u as V,c as n,f as o,g as m,i as I,j as d,a as t,l as O,k as h,t as i,n as r,o as a,F as b,q as w,y as S,m as U,p as L,s as R,A as k}from"./vendor-DUGSf9MG.js";import{_ as q}from"./AuthenticatedLayout-DdydbOmd.js";import{_}from"./Modal-DEylfiwE.js";import{_ as j}from"./RhythmicCard-C3WPuz9Q.js";import{F as D}from"./FlowButton-B_7IFJCy.js";import{_ as z}from"./StatusBadge-C0e7X4l3.js";import{a as K,p as Y,ac as G,i as H,r as J,a8 as Q,ap as C,aa as W}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";/* empty css                                                                   */const X={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-rhythm-2xl"},Z={class:"mb-rhythm-2xl"},tt={class:"flex items-start justify-between gap-rhythm-md"},et={class:"flex-1"},st={class:"flex flex-wrap items-center gap-rhythm-sm"},at={class:"px-rhythm-sm py-1 bg-heritage-100 text-heritage-800 rounded-lg text-sm font-medium capitalize"},nt={class:"text-gray-400 text-sm"},it={class:"grid grid-cols-1 lg:grid-cols-2 gap-rhythm-xl"},ot={class:"aspect-[3/2] bg-gray-100 rounded-xl overflow-hidden mb-rhythm-md"},lt=["src"],rt={class:"space-y-rhythm-sm text-sm text-gray-600"},dt={class:"flex justify-between"},mt={key:0,class:"flex justify-between"},ct={key:1,class:"flex justify-between"},ut={key:2,class:"flex justify-between"},yt={key:0,class:"mt-rhythm-lg border-t-2 border-gray-100 pt-rhythm-lg"},xt={key:0,class:"mb-rhythm-md bg-sunrise-50 border-2 border-sunrise-200 rounded-xl p-rhythm-sm"},gt={class:"flex gap-rhythm-sm mb-rhythm-xs"},ft={class:"mt-rhythm-xs text-xs text-sunrise-800 list-disc list-inside space-y-1"},ht={class:"grid grid-cols-2 gap-rhythm-sm text-xs"},bt={key:0,class:"flex justify-between"},vt={class:"text-gray-900 font-medium"},pt={key:1,class:"flex justify-between"},wt={class:"text-gray-900 font-medium"},kt={key:2,class:"flex justify-between"},jt={class:"text-gray-900 font-medium"},Dt={key:3,class:"flex justify-between"},$t={class:"text-gray-900 font-medium"},St={key:1,class:"mt-rhythm-sm pt-rhythm-sm border-t border-gray-200"},_t={class:"grid grid-cols-2 gap-rhythm-xs text-xs"},zt={key:0,class:"flex justify-between"},Ct={class:"text-gray-900"},Ft={key:1,class:"flex justify-between"},At={class:"text-gray-900"},Pt={key:2,class:"flex justify-between"},Bt={class:"text-gray-900"},Mt={key:3,class:"flex justify-between"},Tt={class:"text-gray-900"},Nt={class:"flex items-center justify-between mb-rhythm-md"},Et={key:0},Vt={key:0,class:"space-y-rhythm-sm"},It={class:"font-medium text-gray-700 capitalize"},Ot={class:"text-gray-900 text-right max-w-xs font-semibold"},Ut={key:1,class:"text-center py-rhythm-2xl text-gray-500"},Lt={key:1,class:"text-center py-rhythm-2xl"},Rt={class:"w-16 h-16 mx-auto mb-rhythm-md rounded-2xl bg-red-100 flex items-center justify-center"},qt={class:"text-gray-600 text-sm mb-rhythm-lg"},Kt={key:2,class:"text-center py-rhythm-2xl"},Yt={class:"w-16 h-16 mx-auto mb-rhythm-md rounded-2xl bg-heritage-100 flex items-center justify-center"},Gt={class:"p-6"},Ht={class:"space-y-3 max-h-96 overflow-y-auto mb-6"},Jt=["value"],Qt={class:"flex-1"},Wt={class:"font-medium text-gray-900 capitalize"},Xt={class:"text-sm text-gray-600"},Zt={class:"flex justify-end gap-3"},te=["disabled"],ee={class:"p-6"},se={class:"flex justify-end gap-3"},ge={__name:"Show",props:{scan:Object},setup(s){const v=s,x=p(!1),g=p(!1),y=p([]),f=V({fields:[]}),F=()=>{f.fields=y.value,f.post(route("document-scanner.apply",v.scan.id),{onSuccess:()=>{x.value=!1,y.value=[]}})},A=()=>{k.post(route("document-scanner.reprocess",v.scan.id))},P=()=>{g.value=!0},B=()=>{k.delete(route("document-scanner.destroy",v.scan.id),{onSuccess:()=>{k.visit(route("document-scanner.index"))}})},M=l=>({completed:"success",processing:"info",pending:"pending",failed:"error"})[l]||"pending",$=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),T=l=>l<1024?l+" B":l<1024*1024?(l/1024).toFixed(2)+" KB":(l/(1024*1024)).toFixed(2)+" MB",N=l=>l?.camera_make||l?.camera_model||l?.datetime_original||l?.software;return(l,e)=>(a(),n(b,null,[o(m(I),{title:`Document Scan - ${s.scan.document_type}`},null,8,["title"]),o(q,null,{default:d(()=>[t("div",X,[t("div",Z,[o(m(O),{href:l.route("document-scanner.index"),class:"inline-flex items-center gap-rhythm-sm text-heritage-600 hover:text-heritage-700 mb-rhythm-md font-medium"},{default:d(()=>[o(m(K),{class:"h-5 w-5"}),e[6]||(e[6]=h(" Back to Scanner ",-1))]),_:1},8,["href"]),t("div",tt,[t("div",et,[e[7]||(e[7]=t("h1",{class:"text-3xl font-bold text-gray-900 mb-rhythm-md"},"Document Scan Details",-1)),t("div",st,[o(z,{status:M(s.scan.status),label:s.scan.status,size:"md"},null,8,["status","label"]),t("span",at,i(s.scan.document_type.replace("_"," ")),1),t("span",nt,i($(s.scan.created_at)),1)])]),o(D,{variant:"error",size:"md",onClick:P},{"icon-left":d(()=>[o(m(Y),{class:"h-4 w-4"})]),default:d(()=>[e[8]||(e[8]=h(" Delete Scan ",-1))]),_:1})])]),t("div",it,[t("div",null,[o(j,{variant:"heritage",size:"lg"},{default:d(()=>[e[24]||(e[24]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-rhythm-md"},"Document Image",-1)),t("div",ot,[t("img",{src:`/storage/${s.scan.original_image}`,alt:"Document",class:"w-full h-full object-contain"},null,8,lt)]),t("div",rt,[t("div",dt,[e[9]||(e[9]=t("span",{class:"font-medium"},"Processing Method:",-1)),t("span",null,i(s.scan.processing_method||"N/A"),1)]),s.scan.confidence_score?(a(),n("div",mt,[e[10]||(e[10]=t("span",{class:"font-medium"},"Confidence Score:",-1)),o(z,{status:s.scan.confidence_score>=90?"success":s.scan.confidence_score>=70?"warning":"error",label:`${s.scan.confidence_score}%`,size:"sm"},null,8,["status","label"])])):r("",!0),s.scan.processing_time?(a(),n("div",ct,[e[11]||(e[11]=t("span",{class:"font-medium"},"Processing Time:",-1)),t("span",null,i(s.scan.processing_time)+"s",1)])):r("",!0),s.scan.processed_at?(a(),n("div",ut,[e[12]||(e[12]=t("span",{class:"font-medium"},"Processed:",-1)),t("span",null,i($(s.scan.processed_at)),1)])):r("",!0)]),s.scan.metadata?(a(),n("div",yt,[e[23]||(e[23]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-rhythm-sm"},"Document Analysis",-1)),s.scan.metadata.fraud_indicators&&s.scan.metadata.fraud_indicators.length>0?(a(),n("div",xt,[t("div",gt,[o(m(G),{class:"h-5 w-5 text-sunrise-600 flex-shrink-0"}),t("div",null,[e[13]||(e[13]=t("p",{class:"text-sm font-semibold text-sunrise-900"},"Potential Issues Detected",-1)),t("ul",ft,[(a(!0),n(b,null,w(s.scan.metadata.fraud_indicators,(c,u)=>(a(),n("li",{key:u},i(c),1))),128))])])])])):r("",!0),t("div",ht,[s.scan.metadata.file_size?(a(),n("div",bt,[e[14]||(e[14]=t("span",{class:"text-gray-500"},"File Size:",-1)),t("span",vt,i(T(s.scan.metadata.file_size)),1)])):r("",!0),s.scan.metadata.mime_type?(a(),n("div",pt,[e[15]||(e[15]=t("span",{class:"text-gray-500"},"Type:",-1)),t("span",wt,i(s.scan.metadata.mime_type),1)])):r("",!0),s.scan.metadata.width&&s.scan.metadata.height?(a(),n("div",kt,[e[16]||(e[16]=t("span",{class:"text-gray-500"},"Dimensions:",-1)),t("span",jt,i(s.scan.metadata.width)+" Ã— "+i(s.scan.metadata.height),1)])):r("",!0),s.scan.metadata.aspect_ratio?(a(),n("div",Dt,[e[17]||(e[17]=t("span",{class:"text-gray-500"},"Aspect Ratio:",-1)),t("span",$t,i(s.scan.metadata.aspect_ratio),1)])):r("",!0)]),N(s.scan.metadata)?(a(),n("div",St,[e[22]||(e[22]=t("p",{class:"text-xs font-semibold text-gray-700 mb-rhythm-xs"},"Camera Information",-1)),t("div",_t,[s.scan.metadata.camera_make?(a(),n("div",zt,[e[18]||(e[18]=t("span",{class:"text-gray-500"},"Make:",-1)),t("span",Ct,i(s.scan.metadata.camera_make),1)])):r("",!0),s.scan.metadata.camera_model?(a(),n("div",Ft,[e[19]||(e[19]=t("span",{class:"text-gray-500"},"Model:",-1)),t("span",At,i(s.scan.metadata.camera_model),1)])):r("",!0),s.scan.metadata.datetime_original?(a(),n("div",Pt,[e[20]||(e[20]=t("span",{class:"text-gray-500"},"Taken:",-1)),t("span",Bt,i(s.scan.metadata.datetime_original),1)])):r("",!0),s.scan.metadata.software?(a(),n("div",Mt,[e[21]||(e[21]=t("span",{class:"text-gray-500"},"Software:",-1)),t("span",Tt,i(s.scan.metadata.software),1)])):r("",!0)])])):r("",!0)])):r("",!0)]),_:1})]),t("div",null,[o(j,{variant:"ocean",size:"lg"},{default:d(()=>[t("div",Nt,[e[26]||(e[26]=t("h2",{class:"text-xl font-semibold text-gray-900"},"Extracted Data",-1)),s.scan.status==="completed"&&Object.keys(s.scan.extracted_data||{}).length>0?(a(),S(D,{key:0,variant:"ocean",size:"sm",onClick:e[0]||(e[0]=c=>x.value=!0)},{"icon-left":d(()=>[o(m(H),{class:"h-4 w-4"})]),default:d(()=>[e[25]||(e[25]=h(" Apply to Profile ",-1))]),_:1})):r("",!0)]),s.scan.status==="completed"?(a(),n("div",Et,[s.scan.extracted_data&&Object.keys(s.scan.extracted_data).length>0?(a(),n("div",Vt,[(a(!0),n(b,null,w(s.scan.extracted_data,(c,u)=>(a(),n("div",{key:u,class:"flex justify-between items-start py-rhythm-sm border-b-2 border-ocean-100 last:border-0"},[t("span",It,i(u.replace(/_/g," ")),1),t("span",Ot,i(c),1)]))),128))])):(a(),n("div",Ut,[o(m(J),{class:"w-12 h-12 mx-auto mb-rhythm-sm text-gray-300"}),e[27]||(e[27]=t("p",null,"No data extracted from this document",-1))]))])):s.scan.status==="failed"?(a(),n("div",Lt,[t("div",Rt,[o(m(Q),{class:"h-10 w-10 text-red-600"})]),e[29]||(e[29]=t("p",{class:"text-red-600 font-medium mb-rhythm-sm text-lg"},"Processing Failed",-1)),t("p",qt,i(s.scan.error_message||"Unknown error occurred"),1),o(D,{variant:"sunrise",size:"md",onClick:A},{"icon-left":d(()=>[o(m(C),{class:"h-5 w-5"})]),default:d(()=>[e[28]||(e[28]=h(" Retry Processing ",-1))]),_:1})])):(a(),n("div",Kt,[t("div",Yt,[o(m(C),{class:"h-10 w-10 text-heritage-600 animate-spin"})]),e[30]||(e[30]=t("p",{class:"text-heritage-600 font-medium text-lg"},"Processing document...",-1)),e[31]||(e[31]=t("p",{class:"text-gray-600 text-sm mt-rhythm-xs"},"This may take a few moments",-1))]))]),_:1}),s.scan.status==="failed"?(a(),S(j,{key:0,variant:"sunrise",size:"md",class:"mt-rhythm-lg"},{icon:d(()=>[o(m(W),{class:"h-5 w-5"})]),default:d(()=>[...e[32]||(e[32]=[t("p",{class:"font-semibold mb-rhythm-xs text-gray-900"},"Extraction failed?",-1),t("p",{class:"text-sm text-gray-700"},"You can manually enter your document information in your profile settings.",-1)])]),_:1})):r("",!0)])])]),o(_,{show:x.value,onClose:e[3]||(e[3]=c=>x.value=!1),"max-width":"2xl"},{default:d(()=>[t("div",Gt,[e[33]||(e[33]=t("h3",{class:"text-xl font-semibold text-gray-900 mb-4"},"Apply Data to Profile",-1)),e[34]||(e[34]=t("p",{class:"text-gray-600 mb-6"}," Select which fields you want to apply to your profile. Existing data will be overwritten. ",-1)),t("form",{onSubmit:U(F,["prevent"])},[t("div",Ht,[(a(!0),n(b,null,w(s.scan.extracted_data,(c,u)=>(a(),n("label",{key:u,class:"flex items-start gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors"},[L(t("input",{"onUpdate:modelValue":e[1]||(e[1]=E=>y.value=E),type:"checkbox",value:u,class:"mt-1 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,Jt),[[R,y.value]]),t("div",Qt,[t("p",Wt,i(u.replace(/_/g," ")),1),t("p",Xt,i(c),1)])]))),128))]),t("div",Zt,[t("button",{type:"button",onClick:e[2]||(e[2]=c=>x.value=!1),class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"}," Cancel "),t("button",{type:"submit",disabled:y.value.length===0||m(f).processing,class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},i(m(f).processing?"Applying...":`Apply ${y.value.length} Field${y.value.length!==1?"s":""}`),9,te)])],32)])]),_:1},8,["show"]),o(_,{show:g.value,onClose:e[5]||(e[5]=c=>g.value=!1)},{default:d(()=>[t("div",ee,[e[35]||(e[35]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Delete Document Scan",-1)),e[36]||(e[36]=t("p",{class:"text-gray-600 mb-6"}," Are you sure you want to delete this scan? This action cannot be undone. ",-1)),t("div",se,[t("button",{onClick:e[4]||(e[4]=c=>g.value=!1),class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"}," Cancel "),t("button",{onClick:B,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," Delete ")])])]),_:1},8,["show"])]),_:1})],64))}};export{ge as default};
