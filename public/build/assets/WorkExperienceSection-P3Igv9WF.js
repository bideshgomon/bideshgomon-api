import{r as c,B as q,E as Z,w as ee,c as n,a as e,f as l,g as p,j as v,k as x,F as V,q as E,t as i,m as te,p as b,o as d,v as U,x as z,n as y,z as se,b as S,A as I}from"./vendor-DUGSf9MG.js";import{_ as le}from"./Modal-DEylfiwE.js";import{F as ae}from"./FlowButton-B_7IFJCy.js";import{P as re}from"./PrimaryButton-DTr7DaKh.js";import{_ as P}from"./SecondaryButton-B58W3wCp.js";import{_ as u,a as m}from"./InputLabel-BE_Q-CXj.js";import{_ as h}from"./TextInput-DuChkXJz.js";import{_ as R}from"./DateInput-BOMF3vob.js";import{_ as oe}from"./Checkbox-BwoX8cwE.js";import{g as F,j as L,aA as ne,p as ie}from"./heroicons-BVxQTyTq.js";/* empty css                                                                   */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useBangladeshFormat-DxO2X-Ux.js";const de={class:"mb-rhythm-lg"},ue={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},me={class:"flex items-center gap-3"},ce={class:"w-10 h-10 rounded-xl bg-orange-600 flex items-center justify-center shadow-sm"},pe={key:0,class:"text-center py-8"},ge={key:1,class:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},ve={class:"mt-6"},ye={key:2,class:"space-y-4"},_e={class:"p-4 border-b border-gray-100 dark:border-gray-700"},fe={class:"flex items-start justify-between gap-3 mb-2"},xe={class:"flex-1 min-w-0"},be={class:"flex items-center gap-2 mb-1"},he={class:"text-base font-bold text-gray-900 dark:text-white truncate"},ke={class:"text-sm font-semibold text-indigo-600 dark:text-indigo-400"},we={key:0,class:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 text-xs font-semibold rounded-full flex-shrink-0"},je={class:"p-4 space-y-3"},Ve={class:"space-y-2"},Ee={class:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400"},Ce={class:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400"},$e={class:"flex items-center gap-2 text-sm font-medium text-indigo-600 dark:text-indigo-400"},Me={class:"flex flex-wrap gap-2"},De={key:0,class:"inline-flex items-center px-2.5 py-1 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs font-medium rounded-full"},Ae={key:1,class:"inline-flex items-center px-2.5 py-1 bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs font-medium rounded-full"},Be={key:0,class:"pt-2"},Ue={class:"text-sm text-gray-600 dark:text-gray-400 whitespace-pre-line leading-relaxed"},Se={key:1,class:"bg-green-50 dark:bg-green-900/20 border-l-4 border-green-500 p-3 rounded-r"},Fe={class:"text-sm text-green-700 dark:text-green-200 whitespace-pre-line leading-relaxed"},Le={class:"px-4 py-3 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-100 dark:border-gray-700"},Ne={class:"flex gap-2"},Te=["onClick"],We=["onClick"],qe={class:"p-6"},ze={class:"text-lg font-medium text-gray-900 mb-4"},Ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Pe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Re=["value"],Oe=["value"],He={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Je={class:"flex items-center"},Ye={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ge=["value"],Ke={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Xe={key:0},Qe={class:"flex items-center justify-end gap-4 mt-6 pt-4 border-t"},ct={__name:"WorkExperienceSection",props:{workExperiences:Array,countries:Array},setup(O){const _=O,C=c(_.workExperiences||[]),H=c(!1),$=c(!1),k=c(!1),M=c(null),r=c({company_name:"",job_title:"",employment_type:"",job_category:"",start_date:"",end_date:"",is_current_employment:!1,country:"Bangladesh",city:"",responsibilities:"",achievements:"",salary_range:"",reason_for_leaving:""}),o=c({}),D=c(!1),J=["Full-time","Part-time","Contract","Freelance","Internship","Temporary"],Y=["Information Technology","Engineering","Healthcare","Education","Finance","Marketing","Sales","Customer Service","Administration","Manufacturing","Construction","Hospitality","Other"],G=q(()=>_.countries?_.countries.map(a=>a.name):[]);Z(()=>{C.value=_.workExperiences||[]}),ee(()=>_.workExperiences,a=>{C.value=a||[]});const w=(a=null)=>{a?(k.value=!0,M.value=a.id,r.value={company_name:a.company_name||"",job_title:a.job_title||"",employment_type:a.employment_type||"",job_category:a.job_category||"",start_date:a.start_date?a.start_date.substring(0,10):"",end_date:a.end_date?a.end_date.substring(0,10):"",is_current_employment:a.is_current_employment||!1,country:a.country||"Bangladesh",city:a.city||"",responsibilities:a.responsibilities||"",achievements:a.achievements||"",salary_range:a.salary_range||"",reason_for_leaving:a.reason_for_leaving||""}):(k.value=!1,M.value=null,r.value={company_name:"",job_title:"",employment_type:"",job_category:"",start_date:"",end_date:"",is_current_employment:!1,country:"Bangladesh",city:"",responsibilities:"",achievements:"",salary_range:"",reason_for_leaving:""}),o.value={},$.value=!0},A=()=>{$.value=!1,r.value={company_name:"",job_title:"",employment_type:"",job_category:"",start_date:"",end_date:"",is_current_employment:!1,country:"Bangladesh",city:"",responsibilities:"",achievements:"",salary_range:"",reason_for_leaving:""},o.value={}},K=async()=>{D.value=!0,o.value={};try{k.value?await S.put(route("api.profile.work-experience.update",M.value),r.value):await S.post(route("api.profile.work-experience.store"),r.value),A(),I.reload({only:["workExperiences"]})}catch(a){a.response&&a.response.data.errors?o.value=a.response.data.errors:console.error("Form submission error:",a)}finally{D.value=!1}},X=async a=>{if(confirm("Are you sure you want to delete this work experience?"))try{await S.delete(route("api.profile.work-experience.destroy",a)),I.reload({only:["workExperiences"]})}catch(t){console.error("Delete error:",t)}},Q=(a,t,s)=>{if(!a)return"";const B=new Date(a),j=s?new Date:new Date(t||new Date),W=(j.getFullYear()-B.getFullYear())*12+(j.getMonth()-B.getMonth()),g=Math.floor(W/12),f=W%12;return g>0&&f>0?`${g} year${g>1?"s":""}, ${f} month${f>1?"s":""}`:g>0?`${g} year${g>1?"s":""}`:`${f} month${f>1?"s":""}`},N=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short"}):"N/A",T=q(()=>[...C.value].sort((a,t)=>a.is_current_employment?-1:t.is_current_employment?1:new Date(t.start_date)-new Date(a.start_date)));return(a,t)=>(d(),n("section",null,[e("header",de,[e("div",ue,[e("div",me,[e("div",ce,[l(p(F),{class:"w-6 h-6 text-white"})]),t[17]||(t[17]=e("div",null,[e("h2",{class:"font-display font-bold text-xl text-gray-800"},"Work Experience"),e("p",{class:"text-xs text-gray-500"}," Employment history and professional background ")],-1))]),l(ae,{onClick:t[0]||(t[0]=s=>w()),variant:"primary"},{"icon-left":v(()=>[l(p(L),{class:"w-4 h-4"})]),default:v(()=>[t[18]||(t[18]=e("span",{class:"hidden sm:inline"},"Add Experience",-1)),t[19]||(t[19]=e("span",{class:"sm:hidden"},"Add",-1))]),_:1})])]),H.value?(d(),n("div",pe,[...t[20]||(t[20]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"},null,-1),e("p",{class:"mt-2 text-sm text-gray-600"},"Loading work experiences...",-1)])])):T.value.length===0?(d(),n("div",ge,[l(p(F),{class:"mx-auto h-16 w-16 md:h-20 md:w-20 text-gray-400"}),t[22]||(t[22]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No work experience",-1)),t[23]||(t[23]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by adding your first work experience.",-1)),e("div",ve,[l(P,{onClick:t[1]||(t[1]=s=>w()),class:"w-full sm:w-auto py-3 px-6 text-base touch-manipulation justify-center",style:{"min-height":"48px"}},{default:v(()=>[l(p(L),{class:"h-5 w-5 md:h-6 md:w-6 mr-2"}),t[21]||(t[21]=x(" Add Work Experience ",-1))]),_:1})])])):(d(),n("div",ye,[(d(!0),n(V,null,E(T.value,(s,B)=>(d(),n("div",{key:s.id,class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow"},[e("div",_e,[e("div",fe,[e("div",xe,[e("div",be,[l(p(F),{class:"w-6 h-6 md:w-7 md:h-7 text-indigo-600 dark:text-indigo-400 flex-shrink-0"}),e("h3",he,i(s.job_title),1)]),e("p",ke,i(s.company_name),1)]),s.is_current_employment?(d(),n("span",we,[...t[24]||(t[24]=[e("span",{class:"w-1.5 h-1.5 bg-green-500 rounded-full mr-1 animate-pulse"},null,-1),x(" Current ",-1)])])):y("",!0)])]),e("div",je,[e("div",Ve,[e("div",Ee,[t[25]||(t[25]=e("svg",{class:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),e("span",null,i(s.city)+", "+i(s.country),1)]),e("div",Ce,[t[26]||(t[26]=e("svg",{class:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",null,i(N(s.start_date))+" - "+i(s.is_current_employment?"Present":N(s.end_date)),1)]),e("div",$e,[t[27]||(t[27]=e("svg",{class:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,i(Q(s.start_date,s.end_date,s.is_current_employment)),1)])]),e("div",Me,[s.employment_type?(d(),n("span",De,i(s.employment_type),1)):y("",!0),s.job_category?(d(),n("span",Ae,i(s.job_category),1)):y("",!0)]),s.responsibilities?(d(),n("div",Be,[t[28]||(t[28]=e("h4",{class:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5 uppercase tracking-wide"},"Responsibilities",-1)),e("p",Ue,i(s.responsibilities),1)])):y("",!0),s.achievements?(d(),n("div",Se,[t[29]||(t[29]=e("h4",{class:"text-xs font-semibold text-green-800 dark:text-green-300 mb-1 flex items-center gap-1.5 uppercase tracking-wide"},[e("svg",{class:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]),x(" Achievements ")],-1)),e("p",Fe,i(s.achievements),1)])):y("",!0)]),e("div",Le,[e("div",Ne,[e("button",{onClick:j=>w(s),class:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg font-medium text-sm transition-colors"},[l(p(ne),{class:"h-4 w-4"}),t[30]||(t[30]=e("span",null,"Edit",-1))],8,Te),e("button",{onClick:j=>X(s.id),class:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-white dark:bg-gray-800 border border-red-300 dark:border-red-600 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg font-medium text-sm transition-colors"},[l(p(ie),{class:"h-4 w-4"}),t[31]||(t[31]=e("span",null,"Delete",-1))],8,We)])])]))),128)),e("button",{onClick:t[2]||(t[2]=s=>w()),class:"w-full inline-flex items-center justify-center gap-2 px-6 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-semibold rounded-xl shadow-md hover:shadow-lg transition-all duration-200 text-base"},[l(p(L),{class:"h-5 w-5"}),t[32]||(t[32]=e("span",null,"ADD MORE EXPERIENCE",-1))])])),l(le,{show:$.value,onClose:A,"max-width":"2xl"},{default:v(()=>[e("div",qe,[e("h3",ze,i(k.value?"Edit Work Experience":"Add Work Experience"),1),e("form",{onSubmit:te(K,["prevent"]),class:"space-y-4"},[e("div",Ie,[e("div",null,[l(u,{for:"company_name",value:"Company Name *"}),l(h,{id:"company_name",modelValue:r.value.value.company_name,"onUpdate:modelValue":t[3]||(t[3]=s=>r.value.value.company_name=s),type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),l(m,{class:"mt-2",message:o.value.company_name},null,8,["message"])]),e("div",null,[l(u,{for:"job_title",value:"Job Title *"}),l(h,{id:"job_title",modelValue:r.value.value.job_title,"onUpdate:modelValue":t[4]||(t[4]=s=>r.value.value.job_title=s),type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),l(m,{class:"mt-2",message:o.value.job_title},null,8,["message"])])]),e("div",Pe,[e("div",null,[l(u,{for:"employment_type",value:"Employment Type"}),b(e("select",{id:"employment_type","onUpdate:modelValue":t[5]||(t[5]=s=>r.value.value.employment_type=s),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[t[33]||(t[33]=e("option",{value:""},"Select Type",-1)),(d(),n(V,null,E(J,s=>e("option",{key:s,value:s},i(s),9,Re)),64))],512),[[U,r.value.value.employment_type]]),l(m,{class:"mt-2",message:o.value.employment_type},null,8,["message"])]),e("div",null,[l(u,{for:"job_category",value:"Job Category"}),b(e("select",{id:"job_category","onUpdate:modelValue":t[6]||(t[6]=s=>r.value.value.job_category=s),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[t[34]||(t[34]=e("option",{value:""},"Select Category",-1)),(d(),n(V,null,E(Y,s=>e("option",{key:s,value:s},i(s),9,Oe)),64))],512),[[U,r.value.value.job_category]]),l(m,{class:"mt-2",message:o.value.job_category},null,8,["message"])])]),e("div",He,[e("div",null,[l(u,{for:"start_date",value:"Start Date *"}),l(R,{id:"start_date",modelValue:r.value.value.start_date,"onUpdate:modelValue":t[7]||(t[7]=s=>r.value.value.start_date=s),class:"mt-1 block w-full",required:""},null,8,["modelValue"]),l(m,{class:"mt-2",message:o.value.start_date},null,8,["message"])]),e("div",null,[l(u,{for:"end_date",value:r.value.is_current_employment?"End Date (Optional)":"End Date *"},null,8,["value"]),l(R,{id:"end_date",modelValue:r.value.value.end_date,"onUpdate:modelValue":t[8]||(t[8]=s=>r.value.value.end_date=s),class:"mt-1 block w-full",disabled:r.value.is_current_employment,required:!r.value.is_current_employment},null,8,["modelValue","disabled","required"]),l(m,{class:"mt-2",message:o.value.end_date},null,8,["message"])])]),e("div",Je,[l(oe,{id:"is_current_employment",checked:r.value.value.is_current_employment,"onUpdate:checked":[t[9]||(t[9]=s=>r.value.value.is_current_employment=s),t[10]||(t[10]=s=>{s&&(r.value.value.end_date="")})]},null,8,["checked"]),l(u,{for:"is_current_employment",value:"I currently work here",class:"ml-2"})]),e("div",Ye,[e("div",null,[l(u,{for:"country",value:"Country *"}),b(e("select",{id:"country","onUpdate:modelValue":t[11]||(t[11]=s=>r.value.value.country=s),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",required:""},[(d(!0),n(V,null,E(G.value,s=>(d(),n("option",{key:s,value:s},i(s),9,Ge))),128))],512),[[U,r.value.value.country]]),l(m,{class:"mt-2",message:o.value.country},null,8,["message"])]),e("div",null,[l(u,{for:"city",value:"City"}),l(h,{id:"city",modelValue:r.value.value.city,"onUpdate:modelValue":t[12]||(t[12]=s=>r.value.value.city=s),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(m,{class:"mt-2",message:o.value.city},null,8,["message"])])]),e("div",null,[l(u,{for:"responsibilities",value:"Key Responsibilities"}),b(e("textarea",{id:"responsibilities","onUpdate:modelValue":t[13]||(t[13]=s=>r.value.value.responsibilities=s),rows:"3",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",placeholder:"Describe your main responsibilities and duties..."},null,512),[[z,r.value.value.responsibilities]]),l(m,{class:"mt-2",message:o.value.responsibilities},null,8,["message"])]),e("div",null,[l(u,{for:"achievements",value:"Achievements & Accomplishments"}),b(e("textarea",{id:"achievements","onUpdate:modelValue":t[14]||(t[14]=s=>r.value.value.achievements=s),rows:"2",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",placeholder:"Notable achievements, awards, or accomplishments..."},null,512),[[z,r.value.value.achievements]]),l(m,{class:"mt-2",message:o.value.achievements},null,8,["message"])]),e("div",Ke,[e("div",null,[l(u,{for:"salary_range",value:"Salary Range (Optional)"}),l(h,{id:"salary_range",modelValue:r.value.value.salary_range,"onUpdate:modelValue":t[15]||(t[15]=s=>r.value.value.salary_range=s),type:"text",class:"mt-1 block w-full",placeholder:"e.g., 50,000 - 60,000 BDT"},null,8,["modelValue"]),l(m,{class:"mt-2",message:o.value.salary_range},null,8,["message"])]),r.value.is_current_employment?y("",!0):(d(),n("div",Xe,[l(u,{for:"reason_for_leaving",value:"Reason for Leaving"}),l(h,{id:"reason_for_leaving",modelValue:r.value.value.reason_for_leaving,"onUpdate:modelValue":t[16]||(t[16]=s=>r.value.value.reason_for_leaving=s),type:"text",class:"mt-1 block w-full",placeholder:"e.g., Career growth"},null,8,["modelValue"]),l(m,{class:"mt-2",message:o.value.reason_for_leaving},null,8,["message"])]))]),e("div",Qe,[l(P,{onClick:A,type:"button",class:"w-full sm:w-auto py-3 px-6 text-base touch-manipulation justify-center",style:{"min-height":"48px"}},{default:v(()=>[...t[35]||(t[35]=[x(" Cancel ",-1)])]),_:1}),l(re,{class:se([{"opacity-25":r.value.processing},"w-full sm:w-auto py-3 px-6 text-base touch-manipulation justify-center"]),disabled:D.value,style:{"min-height":"48px"}},{default:v(()=>[x(i(a.editingId?"Update":"Save")+" Experience ",1)]),_:1},8,["class","disabled"])])],32)])]),_:1},8,["show"])]))}};export{ct as default};
