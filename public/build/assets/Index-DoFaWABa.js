import{r as L,B as _,c as n,f as r,g as d,i as U,j as l,a as t,k as C,p as B,v as T,z as v,t as o,y as $,o as i,G as k,H as b,F as g,q as p,A as V}from"./vendor-DUGSf9MG.js";import{A as F}from"./AdminLayout-CRJ9cJUr.js";import{_ as c}from"./RhythmicCard-C3WPuz9Q.js";import{_ as O}from"./AnimatedSection-BybaC8mq.js";import{b as J,c as z,d as R,e as D,f as P,g as E,h as N,i as j}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const I={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-rhythm-xl"},W={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-rhythm-md"},X={class:"flex items-center gap-rhythm-sm bg-white/10 backdrop-blur-sm rounded-xl px-rhythm-md py-rhythm-sm border border-white/20"},q={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-rhythm-xl space-y-rhythm-xl"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-rhythm-lg"},Y={class:"flex items-baseline gap-rhythm-xs"},K={class:"mt-rhythm-md pt-rhythm-md border-t border-gray-200"},Q={class:"flex justify-between text-sm"},Z={class:"font-semibold text-gray-900"},tt={class:"flex justify-between text-sm mt-rhythm-xs"},et={class:"font-semibold text-gray-900"},st={class:"flex items-baseline gap-rhythm-xs"},rt={class:"mt-rhythm-md pt-rhythm-md border-t border-gray-200"},at={class:"grid grid-cols-2 gap-rhythm-md"},ot={class:"text-display-md font-bold text-gray-900"},lt={class:"text-display-md font-bold text-gray-900"},it={class:"grid grid-cols-2 md:grid-cols-4 gap-rhythm-lg"},nt={class:"text-display-md font-bold text-gray-900"},dt={class:"text-display-md font-bold text-gray-900"},mt={class:"text-display-md font-bold text-gray-900"},ht={class:"text-display-md font-bold text-gray-900"},ut={class:"grid grid-cols-1 lg:grid-cols-2 gap-rhythm-lg"},ct={class:"flex items-center justify-between mb-rhythm-md"},xt={key:0,class:"relative"},gt={class:"overflow-x-auto"},yt={class:"absolute -top-10 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 shadow-lg"},vt=["title"],pt={key:1,class:"h-64 flex items-center justify-center border border-dashed border-gray-300 rounded-lg bg-gray-50"},ft={class:"text-center"},bt={class:"flex items-center justify-between mb-rhythm-md"},wt={key:0,class:"relative"},Ct={class:"overflow-x-auto"},jt={class:"absolute -top-10 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 shadow-lg"},St=["title"],Gt={key:1,class:"h-64 flex items-center justify-center border border-dashed border-gray-300 rounded-lg bg-gray-50"},_t={class:"text-center"},$t={class:"grid grid-cols-1 lg:grid-cols-3 gap-rhythm-lg"},kt={class:"space-y-rhythm-sm"},zt={class:"flex items-center gap-rhythm-xs"},Rt={class:"text-sm font-semibold text-gray-600"},Dt={class:"text-sm text-gray-900"},Nt={class:"text-sm font-bold text-ocean-600"},At={class:"flex items-center justify-between mb-rhythm-md"},Mt={class:"space-y-rhythm-sm"},Lt={class:"text-sm text-gray-900 capitalize"},Ut={class:"text-sm font-bold text-heritage-600"},Bt={class:"space-y-rhythm-sm"},Tt={class:"text-sm font-bold text-gray-900"},Yt={__name:"Index",props:{period:String,userStats:Object,revenueStats:Object,jobStats:Object,serviceStats:Object,userGrowthChart:Array,revenueChart:Array,topCountries:Array,topJobCategories:Array,applicationStatusDistribution:Object,revenueGrowth:Number,userGrowthRate:Number,currentMonthRevenue:Number,previousMonthRevenue:Number},setup(s){const x=s,y=L(x.period),A=m=>{y.value=m,V.get(route("admin.analytics.index"),{period:m},{preserveState:!0,preserveScroll:!0})},w=m=>{window.location.href=route("admin.analytics.export",{type:m,period:y.value})},f=m=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(m||0),u=m=>new Intl.NumberFormat("en-US").format(m||0),S=_(()=>!x.revenueChart||x.revenueChart.length===0?0:Math.max(...x.revenueChart.map(m=>m.amount||0),1)),G=_(()=>!x.userGrowthChart||x.userGrowthChart.length===0?0:Math.max(...x.userGrowthChart.map(m=>m.count||0),1)),M={pending:"bg-yellow-100 text-yellow-800",reviewed:"bg-blue-100 text-blue-800",shortlisted:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",hired:"bg-purple-100 text-purple-800"};return(m,e)=>(i(),n(g,null,[r(d(U),{title:"Analytics & Reports"}),r(F,null,{default:l(()=>[r(O,{variant:"ocean",blobs:!0,animated:!0},{default:l(()=>[t("div",I,[t("div",W,[e[6]||(e[6]=t("div",null,[t("h1",{class:"font-display font-bold text-rhythm text-4xl sm:text-5xl"},[t("span",{class:"text-ocean-600"},"Analytics"),C(" & Reports ")]),t("p",{class:"text-ocean-200 mt-rhythm-sm text-lg"},"Comprehensive platform insights and metrics")],-1)),t("div",X,[r(d(J),{class:"h-6 w-6 text-ocean-200"}),B(t("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>y.value=a),onChange:e[1]||(e[1]=a=>A(y.value)),class:"px-rhythm-md py-rhythm-sm bg-white text-ocean-700 rounded-lg border-0 focus:ring-2 focus:ring-ocean-400 font-semibold"},[...e[5]||(e[5]=[t("option",{value:"7"},"Last 7 Days",-1),t("option",{value:"30"},"Last 30 Days",-1),t("option",{value:"90"},"Last 90 Days",-1),t("option",{value:"365"},"Last Year",-1)])],544),[[T,y.value]])])])])]),_:1}),t("div",q,[t("div",H,[r(c,{variant:"growth",size:"lg"},{icon:l(()=>[(i(),$(k(s.revenueGrowth>=0?d(z):d(R)),{class:v(["h-8 w-8",s.revenueGrowth>=0?"text-growth-600":"text-red-600"])},null,8,["class"]))]),default:l(()=>[t("div",null,[e[10]||(e[10]=t("h3",{class:"font-display font-bold text-xl text-gray-900 mb-rhythm-md"},"Revenue Growth",-1)),t("div",Y,[t("span",{class:v(["text-display-lg font-bold",s.revenueGrowth>=0?"text-growth-600":"text-red-600"])},o(s.revenueGrowth>0?"+":"")+o(s.revenueGrowth)+"% ",3),e[7]||(e[7]=t("span",{class:"text-gray-600"},"vs last month",-1))]),t("div",K,[t("div",Q,[e[8]||(e[8]=t("span",{class:"text-gray-600"},"Current Month",-1)),t("span",Z,o(f(s.currentMonthRevenue)),1)]),t("div",tt,[e[9]||(e[9]=t("span",{class:"text-gray-600"},"Previous Month",-1)),t("span",et,o(f(s.previousMonthRevenue)),1)])])])]),_:1}),r(c,{variant:"ocean",size:"lg"},{icon:l(()=>[(i(),$(k(s.userGrowthRate>=0?d(z):d(R)),{class:v(["h-8 w-8",s.userGrowthRate>=0?"text-growth-600":"text-red-600"])},null,8,["class"]))]),default:l(()=>[t("div",null,[e[14]||(e[14]=t("h3",{class:"font-display font-bold text-xl text-gray-900 mb-rhythm-md"},"User Growth",-1)),t("div",st,[t("span",{class:v(["text-display-lg font-bold",s.userGrowthRate>=0?"text-growth-600":"text-red-600"])},o(s.userGrowthRate>0?"+":"")+o(s.userGrowthRate)+"% ",3),e[11]||(e[11]=t("span",{class:"text-gray-600"},"vs last month",-1))]),t("div",rt,[t("div",at,[t("div",null,[e[12]||(e[12]=t("p",{class:"text-sm text-gray-600"},"New Users",-1)),t("p",ot,o(u(s.userStats.new_users)),1)]),t("div",null,[e[13]||(e[13]=t("p",{class:"text-sm text-gray-600"},"Active Users",-1)),t("p",lt,o(u(s.userStats.active_users)),1)])])])])]),_:1})]),t("div",it,[r(c,{variant:"ocean",size:"md",title:"Total Users",description:`${u(s.userStats.verified_users)} verified`},{icon:l(()=>[r(d(D),{class:"h-8 w-8"})]),default:l(()=>[t("div",nt,o(u(s.userStats.total_users)),1)]),_:1},8,["description"]),r(c,{variant:"growth",size:"md",title:"Total Revenue",description:`${u(s.revenueStats.total_transactions)} transactions`},{icon:l(()=>[r(d(P),{class:"h-8 w-8"})]),default:l(()=>[t("div",dt,o(f(s.revenueStats.total_revenue)),1)]),_:1},8,["description"]),r(c,{variant:"heritage",size:"md",title:"Job Postings",description:`${u(s.jobStats.active_postings)} active`},{icon:l(()=>[r(d(E),{class:"h-8 w-8"})]),default:l(()=>[t("div",mt,o(u(s.jobStats.total_postings)),1)]),_:1},8,["description"]),r(c,{variant:"sky",size:"md",title:"Applications",description:`${s.jobStats.application_rate} per job`},{icon:l(()=>[r(d(N),{class:"h-8 w-8"})]),default:l(()=>[t("div",ht,o(u(s.jobStats.total_applications)),1)]),_:1},8,["description"])]),t("div",ut,[r(c,{variant:"light",size:"lg"},{default:l(()=>[t("div",ct,[e[16]||(e[16]=t("h3",{class:"font-display font-bold text-xl text-gray-900"},"Revenue Trend (Last 30 Days)",-1)),t("button",{onClick:e[2]||(e[2]=a=>w("revenue")),class:"text-growth-600 hover:text-growth-800 font-semibold text-sm flex items-center gap-rhythm-xs"},[r(d(j),{class:"h-4 w-4"}),e[15]||(e[15]=C(" Export ",-1))])]),s.revenueChart&&s.revenueChart.length>0?(i(),n("div",xt,[t("div",gt,[t("div",{class:"h-64 flex items-end gap-1 border-l border-b border-gray-200 pl-2 pb-12",style:b({minWidth:s.revenueChart.length*32+"px"})},[(i(!0),n(g,null,p(s.revenueChart,(a,h)=>(i(),n("div",{key:h,class:"flex flex-col items-center group relative",style:{"min-width":"28px",flex:"0 0 auto"}},[t("div",{style:b({height:S.value>0?`${Math.max(a.amount/S.value*100,8)}%`:"8%"}),class:"w-full bg-green-600 hover:bg-green-700 rounded-t transition-all relative shadow-sm cursor-pointer"},[t("div",yt,o(f(a.amount)),1)],4),t("span",{class:"absolute top-full mt-1 text-[10px] text-gray-600 whitespace-nowrap origin-top-left transform rotate-45",style:{left:"50%",transform:"rotate(45deg) translateX(-30%)"},title:a.date},o(a.date),9,vt)]))),128))],4)])])):(i(),n("div",pt,[t("div",ft,[r(d(N),{class:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e[17]||(e[17]=t("p",{class:"text-gray-500 text-sm"},"No revenue data available for this period",-1))])]))]),_:1}),r(c,{variant:"light",size:"lg"},{default:l(()=>[t("div",bt,[e[19]||(e[19]=t("h3",{class:"font-display font-bold text-xl text-gray-900"},"User Registrations (Last 30 Days)",-1)),t("button",{onClick:e[3]||(e[3]=a=>w("users")),class:"text-ocean-600 hover:text-ocean-800 font-semibold text-sm flex items-center gap-rhythm-xs"},[r(d(j),{class:"h-4 w-4"}),e[18]||(e[18]=C(" Export ",-1))])]),s.userGrowthChart&&s.userGrowthChart.length>0?(i(),n("div",wt,[t("div",Ct,[t("div",{class:"h-64 flex items-end gap-1 border-l border-b border-gray-200 pl-2 pb-12",style:b({minWidth:s.userGrowthChart.length*32+"px"})},[(i(!0),n(g,null,p(s.userGrowthChart,(a,h)=>(i(),n("div",{key:h,class:"flex flex-col items-center group relative",style:{"min-width":"28px",flex:"0 0 auto"}},[t("div",{style:b({height:G.value>0?`${Math.max(a.count/G.value*100,8)}%`:"8%"}),class:"w-full bg-blue-600 hover:bg-blue-700 rounded-t transition-all relative shadow-sm cursor-pointer"},[t("div",jt,o(a.count)+" users ",1)],4),t("span",{class:"absolute top-full mt-1 text-[10px] text-gray-600 whitespace-nowrap origin-top-left transform rotate-45",style:{left:"50%",transform:"rotate(45deg) translateX(-30%)"},title:a.date},o(a.date),9,St)]))),128))],4)])])):(i(),n("div",Gt,[t("div",_t,[r(d(D),{class:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e[20]||(e[20]=t("p",{class:"text-gray-500 text-sm"},"No user registration data available for this period",-1))])]))]),_:1})]),t("div",$t,[r(c,{variant:"light",size:"md"},{default:l(()=>[e[21]||(e[21]=t("h3",{class:"font-display font-bold text-lg text-gray-900 mb-rhythm-md"},"Top Countries",-1)),t("div",kt,[(i(!0),n(g,null,p(s.topCountries,(a,h)=>(i(),n("div",{key:h,class:"flex items-center justify-between"},[t("div",zt,[t("span",Rt,o(h+1)+".",1),t("span",Dt,o(a.country),1)]),t("span",Nt,o(u(a.count)),1)]))),128))])]),_:1}),r(c,{variant:"light",size:"md"},{default:l(()=>[t("div",At,[e[22]||(e[22]=t("h3",{class:"font-display font-bold text-lg text-gray-900"},"Top Job Categories",-1)),t("button",{onClick:e[4]||(e[4]=a=>w("jobs")),class:"text-heritage-600 hover:text-heritage-800 font-semibold text-sm"},[r(d(j),{class:"h-4 w-4"})])]),t("div",Mt,[(i(!0),n(g,null,p(s.topJobCategories,(a,h)=>(i(),n("div",{key:h,class:"flex items-center justify-between"},[t("span",Lt,o(a.category),1),t("span",Ut,o(u(a.job_count)),1)]))),128))])]),_:1}),r(c,{variant:"light",size:"md"},{default:l(()=>[e[23]||(e[23]=t("h3",{class:"font-display font-bold text-lg text-gray-900 mb-rhythm-md"},"Application Status",-1)),t("div",Bt,[(i(!0),n(g,null,p(s.applicationStatusDistribution,(a,h)=>(i(),n("div",{key:h,class:"flex items-center justify-between"},[t("span",{class:v(["px-rhythm-xs py-1 rounded-full text-xs font-semibold capitalize",M[h]||"bg-gray-100 text-gray-800"])},o(h),3),t("span",Tt,o(u(a)),1)]))),128))])]),_:1})])])]),_:1})],64))}};export{Yt as default};
