import{r as i,u as $,B,c,a as e,f as a,g as o,j as w,y as x,o as n,G as g,n as f,H as U,z as S,t as y,k as L,N as F,m as N}from"./vendor-DUGSf9MG.js";import{_ as h,a as b}from"./InputLabel-BE_Q-CXj.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_}from"./TextInput-DuChkXJz.js";import{_ as M}from"./RhythmicCard-C3WPuz9Q.js";import{F as j}from"./FlowButton-B_7IFJCy.js";import{bs as A,aw as k,ag as C}from"./heroicons-BVxQTyTq.js";/* empty css                                                                   */const E={class:"mb-6"},D={class:"flex items-center gap-3 mb-2"},G={class:"w-10 h-10 rounded-xl bg-amber-600 flex items-center justify-center shadow-sm"},H={class:"relative"},T={class:"relative"},Z={key:0,class:"mt-2"},K={class:"flex items-center gap-2 mb-1"},W={class:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden"},q={class:"relative"},J={class:"space-y-4"},O={key:0,class:"rounded-lg bg-red-50 p-3 md:p-4"},Q={class:"flex"},R={class:"ml-3"},X={class:"text-sm font-medium text-red-800"},Y={class:"hidden md:flex items-center gap-4 mt-rhythm-lg"},ee={key:0,class:"text-sm text-green-600 font-medium"},se={class:"md:hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4 shadow-2xl z-30 safe-area-bottom"},te=["disabled"],oe={key:0,class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ae={__name:"UpdatePasswordForm",setup(re){const P=i(null),V=i(null),u=i(""),p=i(!1),m=i(!1),v=i(!1),t=$({current_password:"",password:"",password_confirmation:""}),d=B(()=>{const l=t.password;if(!l)return{level:0,text:"",color:""};let s=0;return l.length>=8&&s++,l.length>=12&&s++,/[a-z]/.test(l)&&/[A-Z]/.test(l)&&s++,/\d/.test(l)&&s++,/[^a-zA-Z0-9]/.test(l)&&s++,s<=2?{level:1,text:"Weak",color:"bg-red-500"}:s===3?{level:2,text:"Fair",color:"bg-yellow-500"}:s===4?{level:3,text:"Good",color:"bg-blue-500"}:{level:4,text:"Strong",color:"bg-green-500"}}),z=()=>{u.value="",t.put(route("password.update"),{preserveScroll:!0,onSuccess:()=>t.reset(),onError:()=>{u.value="Failed to update password. Please check your current password and try again.",t.errors.password&&(t.reset("password","password_confirmation"),P.value.focus()),t.errors.current_password&&(t.reset("current_password"),V.value.focus())}})};return(l,s)=>(n(),c("section",null,[e("header",E,[e("div",D,[e("div",G,[a(o(A),{class:"h-6 w-6 text-white"})]),s[7]||(s[7]=e("div",null,[e("h2",{class:"font-display font-bold text-xl text-gray-800"},"Update Password"),e("p",{class:"text-xs text-gray-500"},"Keep your account secure")],-1))])]),e("form",{onSubmit:N(z,["prevent"]),class:"mt-4 md:mt-6"},[a(M,{variant:"light",class:"space-y-rhythm-md"},{default:w(()=>[e("div",null,[a(h,{for:"current_password",value:"Current Password",class:"text-sm md:text-base"}),e("div",H,[a(_,{id:"current_password",ref_key:"currentPasswordInput",ref:V,modelValue:o(t).current_password,"onUpdate:modelValue":s[0]||(s[0]=r=>o(t).current_password=r),type:p.value?"text":"password",class:"mt-1 block w-full pr-12 py-3 px-4 text-base rounded-lg touch-manipulation",autocomplete:"current-password"},null,8,["modelValue","type"]),e("button",{type:"button",onClick:s[1]||(s[1]=r=>p.value=!p.value),class:"absolute inset-y-0 right-0 flex items-center pr-4 text-gray-400 hover:text-gray-600 touch-manipulation",style:{"min-height":"48px"}},[(n(),x(g(p.value?o(k):o(C)),{class:"w-5 h-5"}))])]),a(b,{message:o(t).errors.current_password,class:"mt-2"},null,8,["message"])]),e("div",null,[a(h,{for:"password",value:"New Password",class:"text-sm md:text-base"}),e("div",T,[a(_,{id:"password",ref_key:"passwordInput",ref:P,modelValue:o(t).password,"onUpdate:modelValue":s[2]||(s[2]=r=>o(t).password=r),type:m.value?"text":"password",class:"mt-1 block w-full pr-12 py-3 px-4 text-base rounded-lg touch-manipulation",autocomplete:"new-password"},null,8,["modelValue","type"]),e("button",{type:"button",onClick:s[3]||(s[3]=r=>m.value=!m.value),class:"absolute inset-y-0 right-0 flex items-center pr-4 text-gray-400 hover:text-gray-600 touch-manipulation",style:{"min-height":"48px"}},[(n(),x(g(m.value?o(k):o(C)),{class:"w-5 h-5"}))])]),o(t).password?(n(),c("div",Z,[e("div",K,[e("div",W,[e("div",{class:S(["h-full transition-all duration-300",d.value.color]),style:U({width:d.value.level*25+"%"})},null,6)]),e("span",{class:S(["text-xs font-medium",{"text-red-600":d.value.level===1,"text-yellow-600":d.value.level===2,"text-blue-600":d.value.level===3,"text-green-600":d.value.level===4}])},y(d.value.text),3)]),s[8]||(s[8]=e("p",{class:"text-xs text-gray-500"},"Use 8+ characters with mix of letters, numbers & symbols",-1))])):f("",!0),a(b,{message:o(t).errors.password,class:"mt-2"},null,8,["message"])]),e("div",null,[a(h,{for:"password_confirmation",value:"Confirm Password",class:"text-sm md:text-base"}),e("div",q,[a(_,{id:"password_confirmation",modelValue:o(t).password_confirmation,"onUpdate:modelValue":s[4]||(s[4]=r=>o(t).password_confirmation=r),type:v.value?"text":"password",class:"mt-1 block w-full pr-12 py-3 px-4 text-base rounded-lg touch-manipulation",autocomplete:"new-password"},null,8,["modelValue","type"]),e("button",{type:"button",onClick:s[5]||(s[5]=r=>v.value=!v.value),class:"absolute inset-y-0 right-0 flex items-center pr-4 text-gray-400 hover:text-gray-600 touch-manipulation",style:{"min-height":"48px"}},[(n(),x(g(v.value?o(k):o(C)),{class:"w-5 h-5"}))])]),a(b,{message:o(t).errors.password_confirmation,class:"mt-2"},null,8,["message"])]),e("div",J,[u.value?(n(),c("div",O,[e("div",Q,[s[10]||(s[10]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})])],-1)),e("div",R,[e("h3",X,y(u.value),1)]),e("button",{onClick:s[6]||(s[6]=r=>u.value=""),class:"ml-auto inline-flex rounded-md bg-red-50 p-1.5 text-red-500 hover:bg-red-100"},[...s[9]||(s[9]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})],-1)])])])])):f("",!0)]),e("div",Y,[a(j,{type:"submit",disabled:o(t).processing,loading:o(t).processing,variant:"primary"},{default:w(()=>[...s[11]||(s[11]=[L(" Update Password ",-1)])]),_:1},8,["disabled","loading"]),a(F,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:w(()=>[o(t).recentlySuccessful?(n(),c("p",ee," ✓ Password updated successfully! ")):f("",!0)]),_:1})])]),_:1}),e("div",se,[e("button",{onClick:z,disabled:o(t).processing,class:"w-full bg-indigo-600 hover:bg-indigo-700 active:bg-indigo-800 disabled:bg-gray-400 text-white font-bold py-4 px-6 rounded-xl shadow-lg transition-all duration-200 active:scale-98 touch-manipulation flex items-center justify-center gap-2",type:"button"},[o(t).processing?(n(),c("svg",oe,[...s[12]||(s[12]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):f("",!0),e("span",null,y(o(t).processing?"Saving...":o(t).recentlySuccessful?"✓ Saved!":"Update Password"),1)],8,te)]),s[13]||(s[13]=e("div",{class:"md:hidden h-24"},null,-1))],32)]))}},ve=I(ae,[["__scopeId","data-v-876594c3"]]);export{ve as default};
