import{u as v,c as a,f as g,g as s,i as k,j as y,a as e,n,o as d,k as u,t as i,m as w,p as m,z as p,x as b,v as V,s as j,l as T,F as U}from"./vendor-DUGSf9MG.js";import{A as N}from"./AdminLayout-CRJ9cJUr.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const S={class:"p-6"},C={class:"bg-white rounded-lg shadow p-6 max-w-4xl"},E={key:0,class:"mb-4 bg-blue-50 border border-blue-200 rounded-md p-3"},M={class:"text-sm text-blue-800"},B={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},O={key:0,class:"mt-1 text-sm text-red-600"},_={key:0,class:"mt-1 text-sm text-red-600"},q={class:"mb-6"},A={key:0,class:"mt-1 text-sm text-red-600"},L={class:"mb-6"},F={key:0,class:"mt-1 text-sm text-red-600"},z={class:"mb-6"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},H={key:0,class:"mt-1 text-sm text-red-600"},J={key:0,class:"mt-1 text-sm text-red-600"},G={class:"mb-6"},P={class:"flex items-center"},I={class:"flex justify-end gap-3"},K=["disabled"],te={__name:"Edit",props:{template:Object},setup(x){const l=x,r=v({name:l.template.name,slug:l.template.slug,subject:l.template.subject,body:l.template.body,html_body:l.template.html_body||"",category:l.template.category,variables:l.template.variables?JSON.stringify(l.template.variables):"",is_active:l.template.is_active}),f=()=>{r.put(route("admin.data.email-templates.update",l.template.id))};return(c,t)=>(d(),a(U,null,[g(s(k),{title:"Edit Email Template"}),g(N,null,{default:y(()=>[e("div",S,[t[23]||(t[23]=e("div",{class:"mb-6"},[e("h1",{class:"text-2xl font-semibold text-gray-900"},"Edit Email Template"),e("p",{class:"mt-1 text-sm text-gray-600"},"Update template information")],-1)),e("div",C,[x.template.campaigns_count>0?(d(),a("div",E,[e("p",M,[t[8]||(t[8]=u("This template is used in ",-1)),e("strong",null,i(x.template.campaigns_count),1),t[9]||(t[9]=u(" campaign(s).",-1))])])):n("",!0),e("form",{onSubmit:w(f,["prevent"])},[e("div",B,[e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[u(" Template Name "),e("span",{class:"text-red-500"},"*")],-1)),m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s(r).name=o),type:"text",required:"",class:p(["w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500",s(r).errors.name?"border-red-500":"border-gray-300"])},null,2),[[b,s(r).name]]),s(r).errors.name?(d(),a("p",O,i(s(r).errors.name),1)):n("",!0)]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Slug",-1)),m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s(r).slug=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Auto-generated if empty"},null,512),[[b,s(r).slug]]),t[12]||(t[12]=e("p",{class:"mt-1 text-xs text-gray-500"},"Leave empty to auto-generate from name",-1)),s(r).errors.slug?(d(),a("p",_,i(s(r).errors.slug),1)):n("",!0)])]),e("div",q,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[u(" Email Subject "),e("span",{class:"text-red-500"},"*")],-1)),m(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s(r).subject=o),type:"text",required:"",class:p(["w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500",s(r).errors.subject?"border-red-500":"border-gray-300"])},null,2),[[b,s(r).subject]]),s(r).errors.subject?(d(),a("p",A,i(s(r).errors.subject),1)):n("",!0)]),e("div",L,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[u(" Plain Text Body "),e("span",{class:"text-red-500"},"*")],-1)),m(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=o=>s(r).body=o),rows:"6",required:"",class:p(["w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",s(r).errors.body?"border-red-500":"border-gray-300"])},null,2),[[b,s(r).body]]),s(r).errors.body?(d(),a("p",F,i(s(r).errors.body),1)):n("",!0)]),e("div",z,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"HTML Body (Optional)",-1)),m(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=o=>s(r).html_body=o),rows:"8",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"},null,512),[[b,s(r).html_body]]),t[16]||(t[16]=e("p",{class:"mt-1 text-xs text-gray-500"},"HTML version of the email",-1))]),e("div",D,[e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[u(" Category "),e("span",{class:"text-red-500"},"*")],-1)),m(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>s(r).category=o),required:"",class:p(["w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500",s(r).errors.category?"border-red-500":"border-gray-300"])},[...t[17]||(t[17]=[e("option",{value:""},"Select Category",-1),e("option",{value:"general"},"General",-1),e("option",{value:"transactional"},"Transactional",-1),e("option",{value:"marketing"},"Marketing",-1),e("option",{value:"notification"},"Notification",-1)])],2),[[V,s(r).category]]),s(r).errors.category?(d(),a("p",H,i(s(r).errors.category),1)):n("",!0)]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Variables (Optional)",-1)),m(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>s(r).variables=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:'["name", "email"]'},null,512),[[b,s(r).variables]]),t[20]||(t[20]=e("p",{class:"mt-1 text-xs text-gray-500"},"JSON array of available variables",-1)),s(r).errors.variables?(d(),a("p",J,i(s(r).errors.variables),1)):n("",!0)])]),e("div",G,[e("label",P,[m(e("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>s(r).is_active=o),type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[j,s(r).is_active]]),t[21]||(t[21]=e("span",{class:"ml-2 text-sm text-gray-700"},"Active",-1))])]),e("div",I,[g(s(T),{href:c.route("admin.data.email-templates.index"),class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"},{default:y(()=>[...t[22]||(t[22]=[u("Cancel",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:s(r).processing,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50"},i(s(r).processing?"Updating...":"Update Template"),9,K)])],32)])])]),_:1})],64))}};export{te as default};
