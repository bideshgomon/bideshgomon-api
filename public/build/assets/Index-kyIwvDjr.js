import{r as N,y as f,j as g,a as t,c as d,n as m,f as n,g as r,l as p,k as u,o,t as i,p as w,x as R,v as S,F as $,q as A,G as B,z as k,A as x}from"./vendor-DUGSf9MG.js";import{A as O}from"./AdminLayout-CRJ9cJUr.js";import{j as T,h as P,A as z,c as U,aj as E,ag as H,o as I,ak as G,al as q,am as J,p as K,an as Q,C as W,ao as X,V as Y}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const Z={class:"min-h-screen bg-gray-50 pb-12"},tt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},et={class:"mb-6"},st={class:"flex justify-between items-center"},at={key:0,class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},rt={class:"bg-white rounded-lg shadow-sm p-4"},ot={class:"flex items-center mb-2"},nt={class:"p-2 bg-blue-100 rounded-lg mr-3"},lt={class:"text-2xl font-bold text-gray-800"},it={class:"bg-white rounded-lg shadow-sm p-4"},dt={class:"flex items-center mb-2"},ct={class:"p-2 bg-green-100 rounded-lg mr-3"},ut={class:"text-2xl font-bold text-gray-800"},gt={class:"bg-white rounded-lg shadow-sm p-4"},mt={class:"flex items-center mb-2"},pt={class:"p-2 bg-purple-100 rounded-lg mr-3"},xt={class:"text-2xl font-bold text-gray-800"},ht={class:"bg-white rounded-lg shadow-sm p-4"},yt={class:"flex items-center mb-2"},ft={class:"p-2 bg-orange-100 rounded-lg mr-3"},bt={class:"text-2xl font-bold text-gray-800"},vt={class:"mb-6 bg-white rounded-lg shadow-sm p-4"},wt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},kt={class:"bg-white rounded-lg shadow-sm overflow-hidden"},_t={key:0,class:"p-12 text-center"},Ct={class:"mt-6"},St={key:1,class:"min-w-full divide-y divide-gray-200"},$t={class:"bg-white divide-y divide-gray-200"},At={class:"px-6 py-4 whitespace-nowrap"},Tt={class:"flex items-center"},Vt={class:"px-6 py-4 whitespace-nowrap"},jt={class:"text-sm text-gray-600 capitalize"},Dt={class:"px-6 py-4 whitespace-nowrap"},Mt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},Ft={class:"px-6 py-4 whitespace-nowrap"},Lt={class:"text-sm text-gray-600"},Nt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},Rt={key:0},Bt={key:1},Ot={key:2},Pt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},zt={class:"flex justify-end gap-2"},Ut=["onClick"],Et=["onClick"],Ht=["onClick"],It=["onClick"],Gt={key:2,class:"px-6 py-4 border-t border-gray-200 bg-white"},qt={class:"flex justify-between items-center"},Jt={class:"text-sm text-gray-600"},Kt={class:"font-medium"},Qt={class:"font-medium"},Wt={class:"font-medium"},Xt={class:"flex gap-2"},le={__name:"Index",props:{campaigns:Object,filters:Object,stats:Object},setup(l){const b=l,c=N({type:b.filters?.type||"",status:b.filters?.status||"",search:b.filters?.search||""}),h=()=>{x.get(route("admin.marketing-campaigns.index"),c.value,{preserveState:!0,preserveScroll:!0})},V=()=>{c.value={type:"",status:"",search:""},h()},j=a=>{const e={draft:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300",scheduled:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",sending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",sent:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",paused:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"};return e[a]||e.draft},_=a=>{const e={email:{component:Y,color:"text-blue-600"},sms:{component:X,color:"text-green-600"},push:{component:W,color:"text-purple-600"},notification:{component:Q,color:"text-orange-600"}};return e[a]||e.email},C=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",y=a=>a?`${a.toFixed(1)}%`:"0.0%",D=a=>{confirm("Are you sure you want to pause this campaign?")&&x.post(route("admin.marketing-campaigns.pause",a),{},{preserveScroll:!0})},M=a=>{confirm("Are you sure you want to resume this campaign?")&&x.post(route("admin.marketing-campaigns.resume",a),{},{preserveScroll:!0})},F=a=>{x.post(route("admin.marketing-campaigns.duplicate",a),{},{preserveScroll:!0})},L=a=>{confirm("Are you sure you want to delete this draft campaign? This action cannot be undone.")&&x.delete(route("admin.marketing-campaigns.destroy",a),{preserveScroll:!0})};return(a,e)=>(o(),f(O,{title:"Marketing Campaigns"},{default:g(()=>[t("div",Z,[t("div",tt,[t("div",et,[t("div",st,[e[4]||(e[4]=t("h1",{class:"text-3xl font-bold text-gray-800"},"Marketing Campaigns",-1)),n(r(p),{href:a.route("admin.marketing-campaigns.create"),class:"inline-flex items-center px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white font-medium rounded-lg transition-colors"},{default:g(()=>[n(r(T),{class:"h-5 w-5 mr-2"}),e[3]||(e[3]=u(" Create Campaign ",-1))]),_:1},8,["href"])])]),l.stats?(o(),d("div",at,[t("div",rt,[t("div",ot,[t("div",nt,[n(r(P),{class:"w-5 h-5 text-blue-600"})]),e[5]||(e[5]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Campaigns",-1))]),t("p",lt,i(l.stats?.total||0),1)]),t("div",it,[t("div",dt,[t("div",ct,[n(r(z),{class:"w-5 h-5 text-green-600"})]),e[6]||(e[6]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Reach",-1))]),t("p",ut,i((l.stats?.total_recipients||0).toLocaleString()),1)]),t("div",gt,[t("div",mt,[t("div",pt,[n(r(U),{class:"w-5 h-5 text-purple-600"})]),e[7]||(e[7]=t("p",{class:"text-sm font-medium text-gray-600"},"Avg Open Rate",-1))]),t("p",xt,i(y(l.stats?.avg_open_rate)),1)]),t("div",ht,[t("div",yt,[t("div",ft,[n(r(E),{class:"w-5 h-5 text-orange-600"})]),e[8]||(e[8]=t("p",{class:"text-sm font-medium text-gray-600"},"Avg Click Rate",-1))]),t("p",bt,i(y(l.stats?.avg_click_rate)),1)])])):m("",!0),t("div",vt,[t("div",wt,[t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search",-1)),w(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>c.value.search=s),type:"text",placeholder:"Search campaigns...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",onInput:h},null,544),[[R,c.value.search]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Campaign Type",-1)),w(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>c.value.type=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",onChange:h},[...e[10]||(e[10]=[t("option",{value:""},"All Types",-1),t("option",{value:"email"},"Email",-1),t("option",{value:"sms"},"SMS",-1),t("option",{value:"push"},"Push",-1),t("option",{value:"notification"},"Notification",-1)])],544),[[S,c.value.type]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),w(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>c.value.status=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",onChange:h},[...e[12]||(e[12]=[t("option",{value:""},"All Statuses",-1),t("option",{value:"draft"},"Draft",-1),t("option",{value:"scheduled"},"Scheduled",-1),t("option",{value:"sending"},"Sending",-1),t("option",{value:"sent"},"Sent",-1),t("option",{value:"paused"},"Paused",-1),t("option",{value:"cancelled"},"Cancelled",-1)])],544),[[S,c.value.status]])]),t("div",{class:"flex items-end"},[t("button",{onClick:V,class:"w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors"}," Reset Filters ")])])]),t("div",kt,[l.campaigns.data.length===0?(o(),d("div",_t,[e[15]||(e[15]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e[16]||(e[16]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No campaigns found",-1)),e[17]||(e[17]=t("p",{class:"mt-1 text-sm text-gray-500"},"Get started by creating a new marketing campaign.",-1)),t("div",Ct,[n(r(p),{href:a.route("admin.marketing-campaigns.create"),class:"inline-flex items-center px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white font-medium rounded-lg transition-colors"},{default:g(()=>[n(r(T),{class:"h-5 w-5 mr-2"}),e[14]||(e[14]=u(" Create Campaign ",-1))]),_:1},8,["href"])])])):(o(),d("table",St,[e[18]||(e[18]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Campaign"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Type"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Recipients"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Performance"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",$t,[(o(!0),d($,null,A(l.campaigns.data,s=>(o(),d("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors"},[t("td",At,[t("div",Tt,[(o(),f(B(_(s.type).component),{class:k(["w-5 h-5 mr-3",_(s.type).color])},null,8,["class"])),t("div",null,[n(r(p),{href:a.route("admin.marketing-campaigns.show",s.id),class:"text-sm font-medium text-gray-900 hover:text-teal-600"},{default:g(()=>[u(i(s.name),1)]),_:2},1032,["href"])])])]),t("td",Vt,[t("span",jt,i(s.type),1)]),t("td",Dt,[t("span",{class:k(["px-2 py-1 text-xs font-medium rounded-full",j(s.status)])},i(s.status),3)]),t("td",Mt,i(s.total_recipients.toLocaleString()),1),t("td",Ft,[t("div",Lt,[t("div",null,"Open: "+i(y(s.open_rate)),1),t("div",null,"Click: "+i(y(s.click_rate)),1)])]),t("td",Nt,[s.scheduled_at?(o(),d("div",Rt,i(C(s.scheduled_at)),1)):s.started_at?(o(),d("div",Bt,i(C(s.started_at)),1)):(o(),d("div",Ot,"-"))]),t("td",Pt,[t("div",zt,[n(r(p),{href:a.route("admin.marketing-campaigns.show",s.id),class:"text-blue-600 hover:text-blue-900",title:"View"},{default:g(()=>[n(r(H),{class:"w-5 h-5"})]),_:1},8,["href"]),["draft","scheduled","paused"].includes(s.status)?(o(),f(r(p),{key:0,href:a.route("admin.marketing-campaigns.edit",s.id),class:"text-green-600 hover:text-green-900",title:"Edit"},{default:g(()=>[n(r(I),{class:"w-5 h-5"})]),_:1},8,["href"])):m("",!0),["scheduled","sending"].includes(s.status)?(o(),d("button",{key:1,onClick:v=>D(s.id),class:"text-orange-600 hover:text-orange-900",title:"Pause"},[n(r(G),{class:"w-5 h-5"})],8,Ut)):m("",!0),s.status==="paused"?(o(),d("button",{key:2,onClick:v=>M(s.id),class:"text-green-600 hover:text-green-900",title:"Resume"},[n(r(q),{class:"w-5 h-5"})],8,Et)):m("",!0),t("button",{onClick:v=>F(s.id),class:"text-purple-600 hover:text-purple-900",title:"Duplicate"},[n(r(J),{class:"w-5 h-5"})],8,Ht),s.status==="draft"?(o(),d("button",{key:3,onClick:v=>L(s.id),class:"text-red-600 hover:text-red-900",title:"Delete"},[n(r(K),{class:"w-5 h-5"})],8,It)):m("",!0)])])]))),128))])])),l.campaigns.data.length>0&&l.campaigns.links&&l.campaigns.links.length>3?(o(),d("div",Gt,[t("div",qt,[t("div",Jt,[e[19]||(e[19]=u(" Showing ",-1)),t("span",Kt,i(l.campaigns.from),1),e[20]||(e[20]=u(" to ",-1)),t("span",Qt,i(l.campaigns.to),1),e[21]||(e[21]=u(" of ",-1)),t("span",Wt,i(l.campaigns.total),1),e[22]||(e[22]=u(" campaigns ",-1))]),t("nav",Xt,[(o(!0),d($,null,A(l.campaigns.links,s=>(o(),f(r(p),{key:s.label,href:s.url,innerHTML:s.label,class:k(["px-3 py-2 rounded-lg text-sm font-medium transition-colors",s.active?"bg-teal-600 text-white":s.url?"border border-gray-300 text-gray-700 hover:bg-gray-50":"border border-gray-200 text-gray-400 cursor-not-allowed"])},null,8,["href","innerHTML","class"]))),128))])])])):m("",!0)])])])]),_:1}))}};export{le as default};
