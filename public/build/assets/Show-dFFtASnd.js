import{r as C,u as A,c as o,f as x,g as r,i as O,j as _,a as t,n as u,t as a,z as c,o as d,F as w,q as T,y as D,G as E,k as v,l as S,m as $,p as y,x as m,A as j}from"./vendor-DUGSf9MG.js";import{A as R}from"./AdminLayout-CRJ9cJUr.js";import{u as G}from"./useBangladeshFormat-DxO2X-Ux.js";import{B as V,ap as I,a as J,aE as B,aF as M}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./DateInput-BOMF3vob.js";const K={class:"flex items-center justify-between"},P={class:"flex items-center gap-3"},Q={class:"flex gap-2"},X={class:"py-12"},Y={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},Z={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},tt={class:"p-6"},et={class:"flex items-center justify-between"},st={class:"flex items-center gap-4"},rt={class:"bg-indigo-100 dark:bg-indigo-900/20 p-4 rounded-lg"},at={class:"text-2xl font-bold text-gray-900 dark:text-white"},dt={class:"text-sm text-gray-500 dark:text-gray-400"},ot={class:"text-right"},it={class:"text-3xl font-bold text-gray-900 dark:text-white"},lt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},nt={class:"p-6"},gt={key:0},xt={class:"overflow-x-auto"},ut={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ct={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},yt={class:"px-6 py-4 whitespace-nowrap"},mt={class:"flex items-center gap-2"},pt={class:"px-6 py-4 whitespace-nowrap"},bt={class:"px-6 py-4 whitespace-nowrap"},ft={class:"text-sm text-gray-900 dark:text-white"},kt={class:"text-xs text-gray-500 dark:text-gray-400"},wt={class:"px-6 py-4"},vt={class:"text-sm text-gray-900 dark:text-white"},ht={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},_t={class:"px-6 py-4 whitespace-nowrap"},Ct={class:"px-6 py-4 whitespace-nowrap"},At={class:"text-sm text-gray-500 dark:text-gray-400"},Tt={class:"text-xs"},Dt={class:"px-6 py-4 whitespace-nowrap text-sm"},St=["onClick"],$t={key:1,class:"text-gray-400"},jt={class:"mt-6 flex items-center justify-between"},Vt={class:"text-sm text-gray-700 dark:text-gray-300"},Bt={class:"flex space-x-2"},Mt=["innerHTML"],Ut={key:1,class:"text-center py-12"},Ft={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Nt={class:"flex items-center justify-center min-h-screen px-4"},Lt={class:"relative bg-white dark:bg-gray-800 rounded-lg max-w-lg w-full p-6"},Wt={key:0,class:"text-red-600 text-sm mt-1"},qt={key:0,class:"text-red-600 text-sm mt-1"},Ht={class:"flex justify-end gap-2"},zt=["disabled"],Ot={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},Et={class:"flex items-center justify-center min-h-screen px-4"},Rt={class:"relative bg-white dark:bg-gray-800 rounded-lg max-w-lg w-full p-6"},Gt={key:0,class:"text-red-600 text-sm mt-1"},It={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},Jt={key:0,class:"text-red-600 text-sm mt-1"},Kt={class:"flex justify-end gap-2"},Pt=["disabled"],oe={__name:"Show",props:{wallet:Object,transactions:Object},setup(i){const k=i,{formatCurrency:p,formatDate:U,formatTime:F}=G(),b=C(!1),f=C(!1),l=A({amount:"",description:"",note:""}),n=A({amount:"",description:"",note:""}),N=()=>{l.post(route("admin.wallets.credit",k.wallet.id),{preserveScroll:!0,onSuccess:()=>{l.reset(),b.value=!1}})},L=()=>{n.post(route("admin.wallets.debit",k.wallet.id),{preserveScroll:!0,onSuccess:()=>{n.reset(),f.value=!1}})},W=()=>{confirm(`Are you sure you want to ${k.wallet.status==="active"?"suspend":"activate"} this wallet?`)&&j.post(route("admin.wallets.toggle-status",k.wallet.id))},q=g=>{confirm("Are you sure you want to reverse this transaction? This action cannot be undone.")&&j.post(route("admin.wallets.reverse-transaction",g))},h=g=>g==="credit"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",H=g=>g==="credit"?B:M,z=g=>({active:"bg-green-100 text-green-800 dark:bg-green-500/10 dark:text-green-400",suspended:"bg-yellow-100 text-yellow-800 dark:bg-yellow-500/10 dark:text-yellow-400",closed:"bg-red-100 text-red-800 dark:bg-red-500/10 dark:text-red-400"})[g]||"bg-gray-100 text-gray-800";return(g,e)=>(d(),o(w,null,[x(r(O),{title:`Wallet - ${i.wallet.user?.name}`},null,8,["title"]),x(R,null,{header:_(()=>[t("div",K,[t("div",P,[x(r(S),{href:g.route("admin.wallets.index"),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},{default:_(()=>[x(r(J),{class:"h-5 w-5"})]),_:1},8,["href"]),e[12]||(e[12]=t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Wallet Details ",-1))]),t("div",Q,[t("button",{onClick:e[0]||(e[0]=s=>b.value=!0),class:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[x(r(B),{class:"h-5 w-5 mr-2"}),e[13]||(e[13]=v(" Credit ",-1))]),t("button",{onClick:e[1]||(e[1]=s=>f.value=!0),class:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[x(r(M),{class:"h-5 w-5 mr-2"}),e[14]||(e[14]=v(" Debit ",-1))]),t("button",{onClick:W,class:"inline-flex items-center px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500"},a(i.wallet.status==="active"?"Suspend":"Activate"),1)])])]),default:_(()=>[t("div",X,[t("div",Y,[t("div",Z,[t("div",tt,[t("div",et,[t("div",st,[t("div",rt,[x(r(V),{class:"h-12 w-12 text-indigo-600 dark:text-indigo-400"})]),t("div",null,[t("h3",at,a(i.wallet.user?.name),1),t("p",dt,a(i.wallet.user?.email),1)])]),t("div",ot,[e[15]||(e[15]=t("div",{class:"text-sm text-gray-500 dark:text-gray-400 mb-1"},"Current Balance",-1)),t("div",it,a(r(p)(i.wallet.balance)),1),t("span",{class:c([z(i.wallet.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-2"])},a(i.wallet.status.charAt(0).toUpperCase()+i.wallet.status.slice(1)),3)])])])]),t("div",lt,[t("div",nt,[e[20]||(e[20]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Transaction History",-1)),i.transactions.data.length>0?(d(),o("div",gt,[t("div",xt,[t("table",ut,[e[17]||(e[17]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Type"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Amount"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Balance"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Description"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",ct,[(d(!0),o(w,null,T(i.transactions.data,s=>(d(),o("tr",{key:s.id},[t("td",yt,[t("div",mt,[(d(),D(E(H(s.transaction_type)),{class:c([h(s.transaction_type),"h-5 w-5"])},null,8,["class"])),t("span",{class:c(["text-sm font-medium",h(s.transaction_type)])},a(s.transaction_type.charAt(0).toUpperCase()+s.transaction_type.slice(1)),3)])]),t("td",pt,[t("span",{class:c(["text-sm font-semibold",h(s.transaction_type)])},a(s.transaction_type==="credit"?"+":"-")+a(r(p)(s.amount)),3)]),t("td",bt,[t("div",ft,[t("div",null,"After: "+a(r(p)(s.balance_after)),1),t("div",kt,"Before: "+a(r(p)(s.balance_before)),1)])]),t("td",wt,[t("div",vt,a(s.description),1),s.reference_type?(d(),o("div",ht," Ref: "+a(s.reference_type),1)):u("",!0)]),t("td",_t,[t("span",{class:c([{"bg-green-100 text-green-800 dark:bg-green-500/10 dark:text-green-400":s.status==="completed","bg-yellow-100 text-yellow-800 dark:bg-yellow-500/10 dark:text-yellow-400":s.status==="pending","bg-red-100 text-red-800 dark:bg-red-500/10 dark:text-red-400":s.status==="failed"||s.status==="reversed"},"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},a(s.status),3)]),t("td",Ct,[t("div",At,[v(a(r(U)(s.created_at))+" ",1),t("div",Tt,a(r(F)(s.created_at)),1)])]),t("td",Dt,[s.status==="completed"?(d(),o("button",{key:0,onClick:Qt=>q(s.id),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 flex items-center gap-1"},[x(r(I),{class:"h-4 w-4"}),e[16]||(e[16]=v(" Reverse ",-1))],8,St)):(d(),o("span",$t,"-"))])]))),128))])])]),t("div",jt,[t("div",Vt," Showing "+a(i.transactions.from)+" to "+a(i.transactions.to)+" of "+a(i.transactions.total)+" transactions ",1),t("div",Bt,[(d(!0),o(w,null,T(i.transactions.links,s=>(d(),o(w,{key:s.label},[s.url?(d(),D(r(S),{key:0,href:s.url,class:c([{"bg-indigo-600 text-white":s.active,"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600":!s.active},"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):(d(),o("span",{key:1,class:c([{"bg-indigo-600 text-white":s.active,"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300":!s.active},"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm opacity-50 cursor-not-allowed"]),innerHTML:s.label},null,10,Mt))],64))),128))])])])):(d(),o("div",Ut,[x(r(V),{class:"mx-auto h-16 w-16 text-gray-400"}),e[18]||(e[18]=t("h3",{class:"mt-4 text-lg font-medium text-gray-900 dark:text-white"},"No transactions yet",-1)),e[19]||(e[19]=t("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"},"This wallet has no transaction history",-1))]))])])])]),b.value?(d(),o("div",Ft,[t("div",Nt,[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:e[2]||(e[2]=s=>b.value=!1)}),t("div",Lt,[e[24]||(e[24]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Credit Wallet",-1)),t("form",{onSubmit:$(N,["prevent"]),class:"space-y-4"},[t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Amount",-1)),y(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>r(l).amount=s),type:"number",step:"0.01",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"},null,512),[[m,r(l).amount]]),r(l).errors.amount?(d(),o("div",Wt,a(r(l).errors.amount),1)):u("",!0)]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Description",-1)),y(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>r(l).description=s),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"},null,512),[[m,r(l).description]]),r(l).errors.description?(d(),o("div",qt,a(r(l).errors.description),1)):u("",!0)]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Admin Note (Optional)",-1)),y(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=s=>r(l).note=s),rows:"3",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"},null,512),[[m,r(l).note]])]),t("div",Ht,[t("button",{type:"button",onClick:e[6]||(e[6]=s=>b.value=!1),class:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600"}," Cancel "),t("button",{type:"submit",disabled:r(l).processing,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50"}," Credit Wallet ",8,zt)])],32)])])])):u("",!0),f.value?(d(),o("div",Ot,[t("div",Et,[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:e[7]||(e[7]=s=>f.value=!1)}),t("div",Rt,[e[28]||(e[28]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Debit Wallet",-1)),t("form",{onSubmit:$(L,["prevent"]),class:"space-y-4"},[t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Amount",-1)),y(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>r(n).amount=s),type:"number",step:"0.01",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"},null,512),[[m,r(n).amount]]),r(n).errors.amount?(d(),o("div",Gt,a(r(n).errors.amount),1)):u("",!0),t("div",It,"Available: "+a(r(p)(i.wallet.balance)),1)]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Description",-1)),y(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>r(n).description=s),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"},null,512),[[m,r(n).description]]),r(n).errors.description?(d(),o("div",Jt,a(r(n).errors.description),1)):u("",!0)]),t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Admin Note (Optional)",-1)),y(t("textarea",{"onUpdate:modelValue":e[10]||(e[10]=s=>r(n).note=s),rows:"3",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"},null,512),[[m,r(n).note]])]),t("div",Kt,[t("button",{type:"button",onClick:e[11]||(e[11]=s=>f.value=!1),class:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600"}," Cancel "),t("button",{type:"submit",disabled:r(n).processing,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50"}," Debit Wallet ",8,Pt)])],32)])])])):u("",!0)]),_:1})],64))}};export{oe as default};
