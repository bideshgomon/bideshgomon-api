import{r as f,u as w,y as C,j as g,f as p,a as t,g as s,i as B,l as y,k as d,m as l,c as u,n as M,z as V,o as i,t as x}from"./vendor-DUGSf9MG.js";import{A as S}from"./AdminLayout-CRJ9cJUr.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const _={class:"py-6"},D={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},j={class:"mb-6"},U={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6"},z={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},F=["href"],T={key:0},$={class:"mt-4 text-sm text-gray-600 dark:text-gray-400"},I={key:1,class:"flex items-center justify-center space-x-3"},N={class:"text-left"},A={class:"text-sm font-medium text-gray-900 dark:text-white"},L={class:"text-xs text-gray-500 dark:text-gray-400"},O={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-400"},R={class:"flex items-center justify-end space-x-3 mt-6"},W=["disabled"],Z={__name:"BulkUpload",setup(q){const b=f(null),n=f(!1),r=w({file:null}),k=o=>{const e=o.target.files[0];e&&(r.file=e)},c=o=>{n.value=!1;const e=o.dataTransfer.files[0];e&&(e.name.endsWith(".csv")||e.name.endsWith(".txt"))&&(r.file=e)},v=o=>{if(o===0)return"0 Bytes";const e=1024,a=["Bytes","KB","MB"],m=Math.floor(Math.log(o)/Math.log(e));return Math.round(o/Math.pow(e,m)*100)/100+" "+a[m]},h=()=>{r.post(route("admin.data.countries.process-upload"),{forceFormData:!0})};return(o,e)=>(i(),C(S,null,{default:g(()=>[p(s(B),{title:"Bulk Upload Countries"}),t("div",_,[t("div",D,[t("div",j,[p(s(y),{href:o.route("admin.data.countries.index"),class:"text-sm text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 mb-2 inline-block"},{default:g(()=>[...e[4]||(e[4]=[d(" â† Back to Countries ",-1)])]),_:1},8,["href"]),e[5]||(e[5]=t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Bulk Upload Countries",-1)),e[6]||(e[6]=t("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},"Upload multiple countries at once using a CSV file",-1))]),e[18]||(e[18]=t("div",{class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6 mb-6"},[t("h3",{class:"text-lg font-semibold text-blue-900 dark:text-blue-300 mb-3"},"ðŸ“‹ Instructions"),t("ol",{class:"list-decimal list-inside space-y-2 text-sm text-blue-800 dark:text-blue-300"},[t("li",null,"Download the CSV template below"),t("li",null,"Fill in your country data following the format"),t("li",null,"Upload the completed CSV file"),t("li",null,"Review any errors and fix them"),t("li",null,"Successfully uploaded countries will appear in the list")])],-1)),t("div",U,[e[9]||(e[9]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"ðŸ“¥ Download Template",-1)),t("div",z,[e[8]||(e[8]=t("div",null,[t("p",{class:"text-sm font-medium text-gray-900 dark:text-white"},"countries_template.csv"),t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"CSV template with sample data")],-1)),t("a",{href:o.route("admin.data.countries.template"),class:"inline-flex items-center px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors"},[...e[7]||(e[7]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),d(" Download Template ",-1)])],8,F)]),e[10]||(e[10]=t("div",{class:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},[t("p",{class:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Required Columns:"),t("div",{class:"flex flex-wrap gap-2"},[t("span",{class:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 rounded text-xs font-mono"},"name*"),t("span",{class:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 rounded text-xs font-mono"},"iso_code_2*"),t("span",{class:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 rounded text-xs font-mono"},"iso_code_3*"),t("span",{class:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 rounded text-xs font-mono"},"phone_code*"),t("span",{class:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 rounded text-xs font-mono"},"currency_code*")]),t("p",{class:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2 mt-3"},"Optional Columns:"),t("div",{class:"flex flex-wrap gap-2"},[t("span",{class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-xs font-mono"},"name_bn"),t("span",{class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-xs font-mono"},"nationality"),t("span",{class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-xs font-mono"},"flag_emoji"),t("span",{class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-xs font-mono"},"region"),t("span",{class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-xs font-mono"},"is_active")])],-1))]),t("form",{onSubmit:l(h,["prevent"]),class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6"},[e[17]||(e[17]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"ðŸ“¤ Upload CSV File",-1)),t("div",{onDragover:e[2]||(e[2]=l(a=>n.value=!0,["prevent"])),onDragleave:e[3]||(e[3]=l(a=>n.value=!1,["prevent"])),onDrop:l(c,["prevent"]),class:V([n.value?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-300 dark:border-gray-600","border-2 border-dashed rounded-lg p-12 text-center transition-colors"])},[t("input",{ref_key:"fileInput",ref:b,type:"file",accept:".csv,.txt",onChange:k,class:"hidden"},null,544),s(r).file?(i(),u("div",I,[e[15]||(e[15]=t("svg",{class:"h-10 w-10 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t("div",N,[t("p",A,x(s(r).file.name),1),t("p",L,x(v(s(r).file.size)),1)]),t("button",{type:"button",onClick:e[1]||(e[1]=a=>s(r).file=null),class:"text-red-600 hover:text-red-700 dark:text-red-400"},[...e[14]||(e[14]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])):(i(),u("div",T,[e[12]||(e[12]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),t("p",$,[e[11]||(e[11]=d(" Drag and drop your CSV file here, or ",-1)),t("button",{type:"button",onClick:e[0]||(e[0]=a=>o.$refs.fileInput.click()),class:"text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 font-medium"}," browse ")]),e[13]||(e[13]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"CSV or TXT files only, up to 10MB",-1))]))],34),s(r).errors.file?(i(),u("p",O,x(s(r).errors.file),1)):M("",!0),t("div",R,[p(s(y),{href:o.route("admin.data.countries.index"),class:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors"},{default:g(()=>[...e[16]||(e[16]=[d(" Cancel ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:!s(r).file||s(r).processing,class:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},x(s(r).processing?"Uploading...":"Upload & Process"),9,W)])],32)])])]),_:1}))}};export{Z as default};
