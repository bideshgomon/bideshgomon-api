import{r as I,u as O,B as v,c as i,f as u,g as l,i as z,j as U,a as e,l as E,t as o,z as m,H as P,n as y,o as c,k as x,p,F as T,q,v as A,x as _}from"./vendor-DUGSf9MG.js";import{_ as H}from"./AuthenticatedLayout-DdydbOmd.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as J,S as R,b as M,A as W,E as G,ay as K}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./app-CzeJHxXq.js";const Q={class:"min-h-screen bg-gray-50 pb-24"},X={class:"bg-growth-600 text-white px-4 pt-6 pb-8"},Y={class:"max-w-4xl mx-auto"},Z={class:"text-2xl font-bold mb-2"},ee={class:"text-emerald-100 text-sm"},te={class:"max-w-4xl mx-auto px-4 -mt-4"},se={class:"bg-white rounded-2xl p-4 shadow-lg mb-6"},ae={class:"flex items-center justify-between"},le={class:"flex flex-col items-center flex-1"},oe={class:"flex-1 h-1 bg-gray-200 mx-2"},re={class:"flex flex-col items-center flex-1"},ne={class:"flex-1 h-1 bg-gray-200 mx-2"},de={class:"flex flex-col items-center flex-1"},ie={class:"max-w-4xl mx-auto px-4"},ue={key:0,class:"bg-white rounded-2xl p-6 shadow-sm space-y-6"},ce={class:"text-xl font-bold text-gray-900 flex items-center mb-4"},me=["value"],xe={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},pe={class:"block text-sm font-semibold text-gray-700 mb-2"},be=["min"],ge={class:"block text-sm font-semibold text-gray-700 mb-2"},fe=["min"],ve={key:0,class:"bg-emerald-50 border-2 border-emerald-200 rounded-2xl p-4"},ye={class:"flex items-center justify-between"},_e={class:"text-emerald-600 font-bold text-lg"},he=["disabled"],we={key:1,class:"bg-white rounded-2xl p-6 shadow-sm space-y-6"},ke={class:"flex items-center justify-between mb-4"},Te={class:"text-xl font-bold text-gray-900 flex items-center"},je={class:"flex items-center justify-between mb-3"},Ce={class:"font-bold text-gray-900"},De=["onClick"],Be=["onUpdate:modelValue"],Se={class:"grid grid-cols-2 gap-4"},Ve=["onUpdate:modelValue","min","max"],Ue=["onUpdate:modelValue"],Pe={class:"flex space-x-4"},qe=["disabled"],Ae={key:2,class:"space-y-6"},Me={class:"bg-white rounded-2xl p-6 shadow-sm space-y-4"},Ne={class:"text-xl font-bold text-gray-900 flex items-center mb-4"},$e={class:"pb-4 border-b border-gray-200"},Fe={class:"font-semibold text-gray-900 mb-1"},Ie={class:"text-sm text-gray-600"},Oe={class:"space-y-2 text-sm pb-4 border-b border-gray-200"},ze={class:"flex justify-between"},Ee={class:"font-medium text-gray-900"},He={class:"flex justify-between"},Le={class:"font-medium text-gray-900"},Je={class:"flex justify-between"},Re={class:"font-medium text-gray-900"},We={class:"space-y-2 text-sm"},Ge={class:"flex justify-between"},Ke={class:"font-medium text-gray-900"},Qe={class:"flex justify-between"},Xe={class:"font-medium text-gray-900"},Ye={class:"flex justify-between pt-3 border-t-2 border-gray-200"},Ze={class:"font-bold text-emerald-600 text-xl"},et={class:"bg-blue-50 border-2 border-blue-200 rounded-2xl p-6"},tt={class:"flex items-start space-x-3"},st={class:"flex space-x-4"},at=["disabled"],lt={__name:"Booking",props:{package:Object,countries:Array},setup(d){const h=d,r=I(1),s=O({package_id:h.package.id,destination_country_id:"",trip_start_date:"",trip_end_date:"",trip_purpose:"Tourism",travelers:[{name:"",age:"",passport_number:""}]}),b=v(()=>{if(!s.trip_start_date||!s.trip_end_date)return 0;const n=new Date(s.trip_start_date),t=new Date(s.trip_end_date),a=Math.ceil((t-n)/(1e3*60*60*24))+1;return a>0?a:0}),w=v(()=>{if(b.value===0||s.travelers.length===0)return 0;const n=h.package.price_per_day*b.value*s.travelers.length;return Math.max(n,h.package.min_price)}),j=v(()=>w.value*.05),C=v(()=>w.value+j.value),g=n=>"à§³ "+Number(n).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2}),N=()=>{s.travelers.push({name:"",age:"",passport_number:""})},$=n=>{s.travelers.length>1&&s.travelers.splice(n,1)},D=()=>{r.value<3&&r.value++},B=()=>{r.value>1&&r.value--},F=()=>{s.post(route("travel-insurance.book"),{onSuccess:()=>{}})},S=v(()=>s.destination_country_id&&s.trip_start_date&&s.trip_end_date&&b.value>0),V=v(()=>s.travelers.every(n=>n.name&&n.age&&n.passport_number));return(n,t)=>(c(),i(T,null,[u(l(z),{title:"Book Travel Insurance"}),u(H,null,{default:U(()=>[e("div",Q,[e("div",X,[e("div",Y,[u(l(E),{href:n.route("travel-insurance.show",d.package.slug),class:"inline-flex items-center space-x-2 text-emerald-100 hover:text-white mb-4 touch-manipulation"},{default:U(()=>[u(l(J),{class:"h-5 w-5"}),t[4]||(t[4]=e("span",{class:"text-sm font-medium"},"Back",-1))]),_:1},8,["href"]),e("h1",Z,"Book: "+o(d.package.name),1),e("p",ee,o(g(d.package.price_per_day))+" per day",1)])]),e("div",te,[e("div",se,[e("div",ae,[e("div",le,[e("div",{class:m([r.value>=1?"bg-emerald-600 text-white":"bg-gray-200 text-gray-500","w-10 h-10 rounded-full flex items-center justify-center font-bold mb-2"])}," 1 ",2),t[5]||(t[5]=e("span",{class:"text-xs text-gray-600 text-center"},"Trip Details",-1))]),e("div",oe,[e("div",{class:m([r.value>=2?"bg-emerald-600":"bg-gray-200","h-full transition-all"]),style:P({width:r.value>=2?"100%":"0%"})},null,6)]),e("div",re,[e("div",{class:m([r.value>=2?"bg-emerald-600 text-white":"bg-gray-200 text-gray-500","w-10 h-10 rounded-full flex items-center justify-center font-bold mb-2"])}," 2 ",2),t[6]||(t[6]=e("span",{class:"text-xs text-gray-600 text-center"},"Travelers",-1))]),e("div",ne,[e("div",{class:m([r.value>=3?"bg-emerald-600":"bg-gray-200","h-full transition-all"]),style:P({width:r.value>=3?"100%":"0%"})},null,6)]),e("div",de,[e("div",{class:m([r.value>=3?"bg-emerald-600 text-white":"bg-gray-200 text-gray-500","w-10 h-10 rounded-full flex items-center justify-center font-bold mb-2"])}," 3 ",2),t[7]||(t[7]=e("span",{class:"text-xs text-gray-600 text-center"},"Confirm",-1))])])])]),e("div",ie,[r.value===1?(c(),i("div",ue,[e("h2",ce,[u(l(R),{class:"h-6 w-6 text-emerald-600 mr-2"}),t[8]||(t[8]=x(" Trip Details ",-1))]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"}," Destination Country * ",-1)),p(e("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>l(s).destination_country_id=a),class:"w-full px-4 py-4 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:""},[t[9]||(t[9]=e("option",{value:""},"Select destination",-1)),(c(!0),i(T,null,q(d.countries,a=>(c(),i("option",{key:a.id,value:a.id},o(a.flag_emoji)+" "+o(a.name),9,me))),128))],512),[[A,l(s).destination_country_id]])]),e("div",xe,[e("div",null,[e("label",pe,[u(l(M),{class:"h-4 w-4 inline mr-1"}),t[11]||(t[11]=x(" Start Date * ",-1))]),p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>l(s).trip_start_date=a),type:"date",min:new Date().toISOString().split("T")[0],class:"w-full px-4 py-4 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:""},null,8,be),[[_,l(s).trip_start_date]])]),e("div",null,[e("label",ge,[u(l(M),{class:"h-4 w-4 inline mr-1"}),t[12]||(t[12]=x(" End Date * ",-1))]),p(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>l(s).trip_end_date=a),type:"date",min:l(s).trip_start_date,class:"w-full px-4 py-4 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:""},null,8,fe),[[_,l(s).trip_end_date]])])]),b.value>0?(c(),i("div",ve,[e("div",ye,[t[13]||(t[13]=e("span",{class:"text-emerald-900 font-semibold"},"Trip Duration:",-1)),e("span",_e,o(b.value)+" days",1)])])):y("",!0),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"}," Trip Purpose ",-1)),p(e("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>l(s).trip_purpose=a),class:"w-full px-4 py-4 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"},[...t[14]||(t[14]=[e("option",{value:"Tourism"},"Tourism",-1),e("option",{value:"Business"},"Business",-1),e("option",{value:"Study"},"Study",-1),e("option",{value:"Medical"},"Medical Treatment",-1),e("option",{value:"Hajj/Umrah"},"Hajj/Umrah",-1),e("option",{value:"Other"},"Other",-1)])],512),[[A,l(s).trip_purpose]])]),e("button",{onClick:D,disabled:!S.value,class:m([S.value?"bg-emerald-600 hover:bg-emerald-700":"bg-gray-300 cursor-not-allowed","w-full text-white font-bold py-4 rounded-2xl transition-all"])}," Continue to Travelers ",10,he)])):y("",!0),r.value===2?(c(),i("div",we,[e("div",ke,[e("h2",Te,[u(l(W),{class:"h-6 w-6 text-emerald-600 mr-2"}),t[16]||(t[16]=x(" Travelers Information ",-1))]),e("button",{onClick:N,class:"text-emerald-600 font-semibold text-sm hover:text-emerald-700"}," + Add Traveler ")]),(c(!0),i(T,null,q(l(s).travelers,(a,k)=>(c(),i("div",{key:k,class:"border-2 border-gray-200 rounded-2xl p-4 space-y-4"},[e("div",je,[e("h3",Ce,"Traveler "+o(k+1),1),l(s).travelers.length>1?(c(),i("button",{key:0,onClick:f=>$(k),class:"text-red-600 text-sm hover:text-red-700"}," Remove ",8,De)):y("",!0)]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"}," Full Name (as per passport) * ",-1)),p(e("input",{"onUpdate:modelValue":f=>a.name=f,type:"text",placeholder:"John Doe",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:""},null,8,Be),[[_,a.name]])]),e("div",Se,[e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"}," Age * ",-1)),p(e("input",{"onUpdate:modelValue":f=>a.age=f,type:"number",min:d.package.min_age,max:d.package.max_age,placeholder:"25",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:""},null,8,Ve),[[_,a.age]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"}," Passport Number * ",-1)),p(e("input",{"onUpdate:modelValue":f=>a.passport_number=f,type:"text",placeholder:"BD1234567",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:""},null,8,Ue),[[_,a.passport_number]])])])]))),128)),e("div",Pe,[e("button",{onClick:B,class:"flex-1 bg-gray-200 text-gray-700 font-bold py-4 rounded-2xl hover:bg-gray-300 transition-all"}," Back "),e("button",{onClick:D,disabled:!V.value,class:m([V.value?"bg-emerald-600 hover:bg-emerald-700":"bg-gray-300 cursor-not-allowed","flex-1 text-white font-bold py-4 rounded-2xl transition-all"])}," Continue to Confirm ",10,qe)])])):y("",!0),r.value===3?(c(),i("div",Ae,[e("div",Me,[e("h2",Ne,[u(l(G),{class:"h-6 w-6 text-emerald-600 mr-2"}),t[20]||(t[20]=x(" Booking Summary ",-1))]),e("div",$e,[e("div",Fe,o(d.package.name),1),e("div",Ie,o(g(d.package.price_per_day))+" per day",1)]),e("div",Oe,[e("div",ze,[t[21]||(t[21]=e("span",{class:"text-gray-600"},"Destination:",-1)),e("span",Ee,o(d.countries.find(a=>a.id==l(s).destination_country_id)?.name),1)]),e("div",He,[t[22]||(t[22]=e("span",{class:"text-gray-600"},"Duration:",-1)),e("span",Le,o(b.value)+" days",1)]),e("div",Je,[t[23]||(t[23]=e("span",{class:"text-gray-600"},"Travelers:",-1)),e("span",Re,o(l(s).travelers.length)+" person(s)",1)])]),e("div",We,[e("div",Ge,[t[24]||(t[24]=e("span",{class:"text-gray-600"},"Package Price:",-1)),e("span",Ke,o(g(w.value)),1)]),e("div",Qe,[t[25]||(t[25]=e("span",{class:"text-gray-600"},"Tax (5%):",-1)),e("span",Xe,o(g(j.value)),1)]),e("div",Ye,[t[26]||(t[26]=e("span",{class:"font-bold text-gray-900 text-lg"},"Total Amount:",-1)),e("span",Ze,o(g(C.value)),1)])])]),e("div",et,[e("div",tt,[u(l(K),{class:"h-6 w-6 text-blue-600 flex-shrink-0 mt-1"}),t[27]||(t[27]=e("div",null,[e("h3",{class:"font-bold text-blue-900 mb-2"},"Payment via Wallet"),e("p",{class:"text-sm text-blue-800"}," Amount will be deducted from your wallet balance. Make sure you have sufficient funds before confirming. ")],-1))])]),t[28]||(t[28]=e("div",{class:"bg-white rounded-2xl p-6 shadow-sm"},[e("label",{class:"flex items-start space-x-3"},[e("input",{type:"checkbox",class:"mt-1 h-5 w-5 text-emerald-600 rounded",required:""}),e("span",{class:"text-sm text-gray-700"},[x(" I agree to the "),e("a",{href:"#",class:"text-emerald-600 underline"},"terms and conditions"),x(" and confirm that all information provided is accurate. ")])])],-1)),e("div",st,[e("button",{onClick:B,class:"flex-1 bg-gray-200 text-gray-700 font-bold py-4 rounded-2xl hover:bg-gray-300 transition-all"}," Back "),e("button",{onClick:F,disabled:l(s).processing,class:"flex-1 bg-growth-600 text-white font-bold py-4 rounded-2xl hover:bg-growth-700 transition-all disabled:opacity-50"},o(l(s).processing?"Processing...":"Confirm & Pay "+g(C.value)),9,at)])])):y("",!0)])])]),_:1})],64))}},mt=L(lt,[["__scopeId","data-v-4ae2331e"]]);export{mt as default};
