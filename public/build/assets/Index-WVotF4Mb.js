import{_ as p}from"./AuthenticatedLayout-DdydbOmd.js";import{u as m,y as x,j as k,a as e,c as o,n as w,g as n,t as i,o as a,F as f,q as b,z as d,l as v}from"./vendor-DUGSf9MG.js";import{u as C}from"./useBangladeshFormat-DxO2X-Ux.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";const j={class:"max-w-5xl mx-auto py-8 px-4"},F={class:"flex items-center justify-between mb-6"},N=["disabled"],B={key:0,class:"bg-white rounded shadow p-8 text-center"},M={key:1,class:"space-y-3"},R={class:"flex items-center gap-2 mb-1"},A={class:"font-semibold text-sm"},L={class:"text-sm text-gray-700 whitespace-pre-line"},T={class:"mt-2 text-xs text-gray-500"},z={class:"ml-4"},D=["onClick","disabled"],H={key:1,class:"text-xs text-gray-500"},O={key:2,class:"mt-6 flex justify-between items-center"},S={class:"text-sm text-gray-600"},V={class:"flex gap-1"},$={methods:{badgeClass(s){return{"bg-blue-100 text-blue-700":s==="normal","bg-yellow-100 text-yellow-800":s==="high","bg-red-100 text-red-800":s==="critical"}}}},W=Object.assign($,{__name:"Index",props:{notifications:Object,unreadCount:Number},setup(s){const{formatDate:g,formatTime:h}=C(),c=m({}),u=m({});function y(r){c.post(route("notifications.read",r))}function _(){u.post(route("notifications.read-all"))}return(r,l)=>(a(),x(p,{title:"Notifications"},{default:k(()=>[e("div",j,[e("div",F,[l[0]||(l[0]=e("h1",{class:"text-2xl font-bold"},"Notifications",-1)),e("button",{onClick:_,disabled:n(u).processing||s.unreadCount===0,class:"bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-2 rounded disabled:opacity-50"},"Mark All Read ("+i(s.unreadCount)+")",9,N)]),s.notifications.data.length===0?(a(),o("div",B,[...l[1]||(l[1]=[e("p",{class:"text-gray-600"},"No notifications yet.",-1)])])):(a(),o("ul",M,[(a(!0),o(f,null,b(s.notifications.data,t=>(a(),o("li",{key:t.id,class:d(["bg-white shadow rounded p-4 flex justify-between items-start",{"opacity-70":t.read_at}])},[e("div",null,[e("div",R,[e("span",{class:d([r.badgeClass(t.priority),"px-2 py-0.5 text-xs font-semibold rounded-full"])},i(t.priority),3),e("h2",A,i(t.title),1)]),e("p",L,i(t.body),1),e("div",T,i(n(g)(t.created_at))+" â€¢ "+i(n(h)(t.created_at)),1)]),e("div",z,[t.read_at?(a(),o("span",H,"Read")):(a(),o("button",{key:0,onClick:q=>y(t.id),disabled:n(c).processing,class:"text-xs bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded"},"Mark Read",8,D))])],2))),128))])),s.notifications.links.length>3?(a(),o("div",O,[e("div",S,"Showing "+i(s.notifications.data.length)+" of "+i(s.notifications.total),1),e("div",V,[(a(!0),o(f,null,b(s.notifications.links,t=>(a(),x(n(v),{key:t.url+t.label,href:t.url,innerHTML:t.label,class:d(["px-2 py-1 rounded text-xs",t.active?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"])},null,8,["href","innerHTML","class"]))),128))])])):w("",!0)])]),_:1}))}});export{W as default};
