import{u as T,y as S,j as x,f as g,a as t,g as a,i as A,l as u,k as y,p as m,x as E,c as d,o as s,F as h,q as f,t as i,v,A as C}from"./vendor-DUGSf9MG.js";import{A as V}from"./AdminLayout-CRJ9cJUr.js";import{_ as D}from"./Pagination-Cw5PI-56.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const U={class:"py-12"},j={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},B={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},F={class:"p-6"},N={class:"flex items-center justify-between mb-6"},L={class:"flex gap-2"},O={class:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4"},$=["value"],I=["value"],M=["href"],q={class:"overflow-x-auto"},J={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},z={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},G={class:"px-6 py-4 whitespace-nowrap"},H={class:"flex items-center"},K={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200"},P={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300"},Q={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300"},R={key:0},W={class:"font-medium"},X={class:"text-gray-500 dark:text-gray-400"},Y={key:1},Z={class:"px-6 py-4"},tt={key:0,class:"text-xs text-gray-600 dark:text-gray-400 max-w-xs truncate"},et={key:1,class:"text-gray-500 dark:text-gray-400"},rt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},st={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},at=["onClick"],dt={class:"mt-6"},ht={__name:"Index",props:{events:Object,filters:Object,eventTypes:Array,targetTypes:Array},setup(l){const c=l,n=T({search:c.filters.search||"",event_type:c.filters.event_type||"",target_type:c.filters.target_type||""});let k=null;const b=()=>{clearTimeout(k),k=setTimeout(()=>{p()},300)},p=()=>{n.get(route("admin.data.system-events.index"),{preserveState:!0,preserveScroll:!0})},_=o=>{confirm("Are you sure you want to delete this event?")&&C.delete(route("admin.data.system-events.destroy",o))},w=o=>new Date(o).toLocaleString();return(o,r)=>(s(),S(V,null,{default:x(()=>[g(a(A),{title:"System Events"}),t("div",U,[t("div",j,[t("div",B,[t("div",F,[t("div",N,[r[5]||(r[5]=t("div",null,[t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"System Events"),t("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Track and manage system events ")],-1)),t("div",L,[g(a(u),{href:o.route("admin.data.system-events.bulk-upload"),class:"inline-flex items-center px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md font-semibold text-xs text-gray-700 dark:text-gray-300 uppercase tracking-widest shadow-sm hover:bg-gray-50 dark:hover:bg-gray-600"},{default:x(()=>[...r[3]||(r[3]=[y(" Bulk Upload ",-1)])]),_:1},8,["href"]),g(a(u),{href:o.route("admin.data.system-events.create"),class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700"},{default:x(()=>[...r[4]||(r[4]=[y(" Create Event ",-1)])]),_:1},8,["href"])])]),t("div",O,[t("div",null,[m(t("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>a(n).search=e),type:"text",placeholder:"Search events...",class:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onInput:b},null,544),[[E,a(n).search]])]),t("div",null,[m(t("select",{"onUpdate:modelValue":r[1]||(r[1]=e=>a(n).event_type=e),class:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onChange:p},[r[6]||(r[6]=t("option",{value:""},"All Event Types",-1)),(s(!0),d(h,null,f(l.eventTypes,e=>(s(),d("option",{key:e,value:e},i(e),9,$))),128))],544),[[v,a(n).event_type]])]),t("div",null,[m(t("select",{"onUpdate:modelValue":r[2]||(r[2]=e=>a(n).target_type=e),class:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onChange:p},[r[7]||(r[7]=t("option",{value:""},"All Target Types",-1)),(s(!0),d(h,null,f(l.targetTypes,e=>(s(),d("option",{key:e,value:e},i(e),9,I))),128))],544),[[v,a(n).target_type]])]),t("div",null,[t("a",{href:o.route("admin.data.system-events.export"),class:"inline-flex items-center justify-center w-full px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700"}," Export CSV ",8,M)])]),t("div",q,[t("table",J,[r[9]||(r[9]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Event Type "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," User "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Target "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Data "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Created At "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",z,[(s(!0),d(h,null,f(l.events.data,e=>(s(),d("tr",{key:e.id},[t("td",G,[t("div",H,[t("span",K,i(e.event_type),1)])]),t("td",P,i(e.user_id?`User #${e.user_id}`:"-"),1),t("td",Q,[e.target_type?(s(),d("div",R,[t("div",W,i(e.target_type),1),t("div",X,"#"+i(e.target_id),1)])):(s(),d("span",Y,"-"))]),t("td",Z,[e.data?(s(),d("div",tt,i(JSON.stringify(e.data)),1)):(s(),d("span",et,"-"))]),t("td",rt,i(w(e.created_at)),1),t("td",st,[g(a(u),{href:o.route("admin.data.system-events.edit",e.id),class:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 mr-3"},{default:x(()=>[...r[8]||(r[8]=[y(" Edit ",-1)])]),_:1},8,["href"]),t("button",{onClick:ot=>_(e.id),class:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300"}," Delete ",8,at)])]))),128))])])]),t("div",dt,[g(D,{links:l.events.links},null,8,["links"])])])])])])]),_:1}))}};export{ht as default};
