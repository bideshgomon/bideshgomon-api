import{r as p,u as f,y as k,j as u,f as g,a as e,g as d,i as v,c as i,n as c,l as _,k as t,m as w,o as a,t as n,F as C,q as S}from"./vendor-DUGSf9MG.js";import{A as B}from"./AdminLayout-CRJ9cJUr.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const U={class:"py-6"},j={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},F={class:"mb-6"},V={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6"},D={class:"space-y-4"},E={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},I={class:"flex items-center space-x-4"},N=["disabled"],R=["href"],T=["href"],L={key:0,class:"mt-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6"},q={class:"grid grid-cols-3 gap-4 mb-4"},A={class:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4"},J={class:"text-2xl font-bold text-green-700 dark:text-green-400"},H={class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4"},M={class:"text-2xl font-bold text-red-700 dark:text-red-400"},P={class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"},O={class:"text-2xl font-bold text-blue-700 dark:text-blue-400"},Y={key:0,class:"mt-4"},z={class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 max-h-64 overflow-y-auto"},G={class:"list-disc ml-5 text-sm text-red-700 dark:text-red-300 space-y-1"},se={__name:"BulkUpload",setup(K){const b=p(null),l=p(null),o=f({csv_file:null}),x=s=>{b.value=s.target.files[0],o.csv_file=s.target.files[0]},m=()=>{o.post(route("admin.data.job-categories.process-upload"),{onSuccess:s=>{l.value=s.props.result||s.props.flash?.result,b.value=null,o.reset(),document.getElementById("csv_file").value=""},onError:()=>{l.value=null}})};return(s,r)=>(a(),k(B,null,{default:u(()=>[g(d(v),{title:"Bulk Upload Job Categories"}),e("div",U,[e("div",j,[e("div",F,[g(d(_),{href:s.route("admin.data.job-categories.index"),class:"text-sm text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 mb-2 inline-block"},{default:u(()=>[...r[0]||(r[0]=[t(" â† Back to Job Categories ",-1)])]),_:1},8,["href"]),r[1]||(r[1]=e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Bulk Upload Job Categories",-1)),r[2]||(r[2]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},"Import multiple job categories with parent-child relationships from CSV file",-1))]),r[10]||(r[10]=e("div",{class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6 mb-6"},[e("h2",{class:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-3"},"ðŸ“‹ CSV Upload Instructions"),e("div",{class:"space-y-3 text-sm text-blue-800 dark:text-blue-200"},[e("div",null,[e("strong",null,"Required Column:"),e("ul",{class:"list-disc ml-6 mt-1 space-y-1"},[e("li",null,[e("code",{class:"bg-blue-100 dark:bg-blue-800 px-1 rounded"},"name"),t(' - Category name in English (e.g., "Software Development")')])])]),e("div",null,[e("strong",null,"Optional Columns:"),e("ul",{class:"list-disc ml-6 mt-1 space-y-1"},[e("li",null,[e("code",{class:"bg-blue-100 dark:bg-blue-800 px-1 rounded"},"parent_code"),t(' - Parent category slug for hierarchy (e.g., "information-technology")')]),e("li",null,[e("code",{class:"bg-blue-100 dark:bg-blue-800 px-1 rounded"},"name_bn"),t(" - Category name in Bengali")]),e("li",null,[e("code",{class:"bg-blue-100 dark:bg-blue-800 px-1 rounded"},"slug"),t(" - URL-friendly identifier (auto-generated if empty)")]),e("li",null,[e("code",{class:"bg-blue-100 dark:bg-blue-800 px-1 rounded"},"description"),t(" - Brief description of the category")]),e("li",null,[e("code",{class:"bg-blue-100 dark:bg-blue-800 px-1 rounded"},"order"),t(" - Display order (default: 0)")]),e("li",null,[e("code",{class:"bg-blue-100 dark:bg-blue-800 px-1 rounded"},"is_active"),t(" - 1 for active, 0 for inactive (default: 1)")])])]),e("div",{class:"bg-white dark:bg-blue-950 rounded p-3 border border-blue-200 dark:border-blue-700"},[e("strong",{class:"block mb-2"},"ðŸ’¡ Creating Hierarchical Categories:"),e("p",null,[t("Use the "),e("code",{class:"bg-blue-100 dark:bg-blue-800 px-1 rounded"},"parent_code"),t(" column to establish parent-child relationships:")]),e("ul",{class:"list-disc ml-6 mt-2 space-y-1"},[e("li",null,[e("strong",null,"Root categories:"),t(" Leave "),e("code",null,"parent_code"),t(" empty")]),e("li",null,[e("strong",null,"Child categories:"),t(" Enter the parent's slug in "),e("code",null,"parent_code")]),e("li",null,[t('Example: For "Software Development" under "Information Technology", use '),e("code",null,"parent_code: information-technology")]),e("li",null,"You can create multiple levels (grandchildren, etc.) in one upload")])]),e("div",null,[e("strong",null,"Sample Data:"),e("div",{class:"mt-2 overflow-x-auto"},[e("table",{class:"min-w-full bg-white dark:bg-gray-900 text-xs border border-blue-200 dark:border-blue-700"},[e("thead",{class:"bg-blue-100 dark:bg-blue-800"},[e("tr",null,[e("th",{class:"px-3 py-2 border-r"},"parent_code"),e("th",{class:"px-3 py-2 border-r"},"name"),e("th",{class:"px-3 py-2 border-r"},"name_bn"),e("th",{class:"px-3 py-2 border-r"},"slug"),e("th",{class:"px-3 py-2 border-r"},"description"),e("th",{class:"px-3 py-2 border-r"},"order"),e("th",{class:"px-3 py-2"},"is_active")])]),e("tbody",null,[e("tr",{class:"border-t"},[e("td",{class:"px-3 py-2 border-r"},[e("em",{class:"text-gray-500"},"(empty)")]),e("td",{class:"px-3 py-2 border-r"},"Information Technology"),e("td",{class:"px-3 py-2 border-r"},"à¦¤à¦¥à§à¦¯ à¦ªà§à¦°à¦¯à§à¦•à§à¦¤à¦¿"),e("td",{class:"px-3 py-2 border-r"},"information-technology"),e("td",{class:"px-3 py-2 border-r"},"IT related jobs"),e("td",{class:"px-3 py-2 border-r"},"0"),e("td",{class:"px-3 py-2"},"1")]),e("tr",{class:"border-t bg-blue-50 dark:bg-blue-900/30"},[e("td",{class:"px-3 py-2 border-r"},[e("strong",null,"information-technology")]),e("td",{class:"px-3 py-2 border-r"},"Software Development"),e("td",{class:"px-3 py-2 border-r"},"à¦¸à¦«à¦Ÿà¦“à¦¯à¦¼à§à¦¯à¦¾à¦° à¦‰à¦¨à§à¦¨à¦¯à¦¼à¦¨"),e("td",{class:"px-3 py-2 border-r"},"software-development"),e("td",{class:"px-3 py-2 border-r"},"Software engineering jobs"),e("td",{class:"px-3 py-2 border-r"},"1"),e("td",{class:"px-3 py-2"},"1")]),e("tr",{class:"border-t bg-blue-50 dark:bg-blue-900/30"},[e("td",{class:"px-3 py-2 border-r"},[e("strong",null,"information-technology")]),e("td",{class:"px-3 py-2 border-r"},"Network Administration"),e("td",{class:"px-3 py-2 border-r"},"à¦¨à§‡à¦Ÿà¦“à¦¯à¦¼à¦¾à¦°à§à¦• à¦ªà§à¦°à¦¶à¦¾à¦¸à¦¨"),e("td",{class:"px-3 py-2 border-r"},"network-administration"),e("td",{class:"px-3 py-2 border-r"},"Network management jobs"),e("td",{class:"px-3 py-2 border-r"},"2"),e("td",{class:"px-3 py-2"},"1")]),e("tr",{class:"border-t"},[e("td",{class:"px-3 py-2 border-r"},[e("em",{class:"text-gray-500"},"(empty)")]),e("td",{class:"px-3 py-2 border-r"},"Healthcare"),e("td",{class:"px-3 py-2 border-r"},"à¦¸à§à¦¬à¦¾à¦¸à§à¦¥à§à¦¯à¦¸à§‡à¦¬à¦¾"),e("td",{class:"px-3 py-2 border-r"},"healthcare"),e("td",{class:"px-3 py-2 border-r"},"Medical and healthcare jobs"),e("td",{class:"px-3 py-2 border-r"},"0"),e("td",{class:"px-3 py-2"},"1")])])])]),e("p",{class:"mt-2 text-xs italic"},"Note: Rows with parent_code (highlighted) create child categories under the specified parent.")])])],-1)),e("div",V,[r[4]||(r[4]=e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"Upload CSV File",-1)),e("form",{onSubmit:w(m,["prevent"])},[e("div",D,[e("div",null,[r[3]||(r[3]=e("label",{for:"csv_file",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[t(" Select CSV File "),e("span",{class:"text-red-500"},"*")],-1)),e("input",{id:"csv_file",type:"file",accept:".csv",onChange:x,class:"block w-full text-sm text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer bg-gray-50 dark:bg-gray-700 focus:outline-none",required:""},null,32),d(o).errors.csv_file?(a(),i("p",E,n(d(o).errors.csv_file),1)):c("",!0)]),e("div",I,[e("button",{type:"submit",disabled:d(o).processing||!b.value,class:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},n(d(o).processing?"Uploading...":"Upload & Import"),9,N),e("a",{href:s.route("admin.data.job-categories.template"),class:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors"}," ðŸ“¥ Download CSV Template ",8,R),e("a",{href:s.route("admin.data.job-categories.export"),class:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors"}," ðŸ“¤ Export Current Data ",8,T)])])],32)]),l.value?(a(),i("div",L,[r[9]||(r[9]=e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"Upload Results",-1)),e("div",q,[e("div",A,[e("div",J,n(l.value.success),1),r[5]||(r[5]=e("div",{class:"text-sm text-green-600 dark:text-green-300"},"Successfully Imported",-1))]),e("div",H,[e("div",M,n(l.value.failed),1),r[6]||(r[6]=e("div",{class:"text-sm text-red-600 dark:text-red-300"},"Failed",-1))]),e("div",P,[e("div",O,n(l.value.total),1),r[7]||(r[7]=e("div",{class:"text-sm text-blue-600 dark:text-blue-300"},"Total Processed",-1))])]),l.value.errors&&l.value.errors.length>0?(a(),i("div",Y,[r[8]||(r[8]=e("h3",{class:"text-lg font-semibold text-red-700 dark:text-red-400 mb-2"},"Errors",-1)),e("div",z,[e("ul",G,[(a(!0),i(C,null,S(l.value.errors,(y,h)=>(a(),i("li",{key:h},n(y),1))),128))])])])):c("",!0)])):c("",!0)])])]),_:1}))}};export{se as default};
