import{B as b,r as u,w as P,E as X,c as o,a as t,f as r,g as c,j as _,k as x,F as $,q as j,t as i,m as Z,n as h,o as d,p as N,v as O,b as B,A as q}from"./vendor-DUGSf9MG.js";import{F as ee}from"./profileData-wuUZFphI.js";import{_ as te}from"./Modal-DEylfiwE.js";import{F as se}from"./FlowButton-B_7IFJCy.js";import{P as ae}from"./PrimaryButton-DTr7DaKh.js";import{_ as I}from"./SecondaryButton-B58W3wCp.js";import{_ as m,a as g}from"./InputLabel-BE_Q-CXj.js";import{_ as V}from"./TextInput-DuChkXJz.js";import{_ as G}from"./DateInput-BOMF3vob.js";import{_ as re}from"./Checkbox-BwoX8cwE.js";import{U as D,j as M,aA as le,p as oe}from"./heroicons-BVxQTyTq.js";/* empty css                                                                   */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useBangladeshFormat-DxO2X-Ux.js";const de={class:"mb-rhythm-lg"},ne={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},ie={class:"flex items-center gap-3"},ue={class:"w-10 h-10 rounded-xl bg-growth-500 flex items-center justify-center shadow-rhythmic-md"},ce={key:0,class:"text-center py-8"},me={key:1,class:"text-center py-12 bg-gray-50 dark:bg-gray-900/50 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700"},ge={class:"mt-6"},pe={key:2,class:"space-y-4"},fe={class:"p-4 sm:p-6"},ve={class:"flex items-start justify-between gap-3 mb-3"},ye={class:"flex-1 min-w-0"},_e={class:"flex items-center gap-2 mb-1"},xe={class:"text-base sm:text-lg font-bold text-gray-900 dark:text-white truncate"},be={class:"text-sm sm:text-base font-semibold text-purple-600 dark:text-purple-400"},he={key:0,class:"flex-shrink-0 inline-flex items-center px-2 py-1 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 text-xs font-semibold rounded-full"},ke={class:"space-y-2 mb-3"},we={key:0,class:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400"},Ce={class:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400"},Se={key:0,class:"bg-purple-50 dark:bg-purple-900/20 border-l-4 border-purple-500 p-3 rounded-r mb-3"},Ve={class:"text-sm text-purple-700 dark:text-purple-200"},De={key:1,class:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed"},Ee={class:"px-4 py-3 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-100 dark:border-gray-700"},Ue={class:"flex gap-2"},Ae=["onClick"],$e=["onClick"],je={class:"p-6 bg-white dark:bg-gray-800"},Be={class:"flex items-center gap-3 mb-6"},Me={class:"w-12 h-12 md:w-14 md:h-14 bg-purple-100 dark:bg-purple-900/30 rounded-lg md:rounded-xl flex items-center justify-center"},Le={class:"text-xl font-bold text-gray-900 dark:text-white"},Fe={key:0,class:"p-3 rounded-lg bg-orange-50 border border-orange-300 text-sm text-orange-800 dark:bg-orange-900/20 dark:border-orange-700 dark:text-orange-300"},Pe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ne=["value"],Oe=["value"],qe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ie={class:"flex items-center"},Ge={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Te={class:"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700"},Re={key:0},He={key:1},ot={__name:"EducationSection",props:{educations:Array,degrees:Array,fieldsOfStudy:Array,universities:Array,countries:Array},setup(T){const p=T,R=b(()=>p.degrees||[]),H=b(()=>p.fieldsOfStudy&&p.fieldsOfStudy.length>0?p.fieldsOfStudy:ee.map(s=>({id:s,name:s})));b(()=>p.countries||[]),u(!0);const f=u(p.educations||[]),Y=u(!1),k=u(!1),v=u(!1),w=u(null),l=u({institution_name:"",degree:"",field_of_study:"",start_date:"",end_date:"",country:"",city:"",is_completed:!1,gpa_or_grade:"",language_of_instruction:"",courses_completed:"",honors_awards:""}),n=u({}),C=u(!1),y=u(""),L=u(null),S=s=>(s||"").toString().trim().toLowerCase(),E=b(()=>{if(!l.value.start_date)return null;const s=S(l.value.degree),e=S(l.value.institution_name);return`${s}::${e}::${l.value.start_date}`}),z=b(()=>(f.value||[]).filter(s=>s&&s.degree&&s.institution_name&&s.start_date).map(s=>{const e=S(s.degree),a=S(s.institution_name);return{id:s.id,signature:`${e}::${a}::${s.start_date?.substring(0,10)}`,record:s}}));P([E,f],()=>{if(y.value="",L.value=null,!E.value)return;const s=z.value.find(e=>e.signature===E.value&&(!v.value||e.id!==w.value));s&&(L.value=s.record,y.value=`You already added this education (${s.record.degree} at ${s.record.institution_name}) starting on ${s.record.start_date}.`)});const U=()=>{l.value={institution_name:"",degree:"",field_of_study:"",start_date:"",end_date:"",country:"",city:"",is_completed:!1,gpa_or_grade:"",language_of_instruction:"",courses_completed:"",honors_awards:""},n.value={},v.value=!1,w.value=null,k.value=!0},K=s=>{l.value={institution_name:s.institution_name||"",degree:s.degree||"",field_of_study:s.field_of_study||"",start_date:s.start_date?s.start_date.substring(0,10):"",end_date:s.end_date?s.end_date.substring(0,10):"",country:s.country||"",city:s.city||"",is_completed:s.is_completed||!1,gpa_or_grade:s.gpa_or_grade||"",language_of_instruction:s.language_of_instruction||"",courses_completed:s.courses_completed||"",honors_awards:s.honors_awards||""},n.value={},v.value=!0,w.value=s.id,k.value=!0},A=()=>{k.value=!1,l.value={institution_name:"",degree:"",field_of_study:"",start_date:"",end_date:"",country:"",city:"",is_completed:!1,gpa_or_grade:"",language_of_instruction:"",courses_completed:"",honors_awards:""},n.value={}},Q=async()=>{if(!(y.value&&!window.confirm(y.value+`

Submit anyway?`))){l.value.is_completed===!1&&(l.value.end_date=null),C.value=!0,n.value={};try{v.value?await B.put(route("profile.education.update",w.value),l.value):await B.post(route("profile.education.store"),l.value),A(),q.reload({only:["educations"]})}catch(s){s.response&&s.response.data.errors?n.value=s.response.data.errors:console.error("Form submission error:",s)}finally{C.value=!1}}},W=async s=>{if(window.confirm("Are you sure you want to delete this education record?"))try{await B.delete(route("profile.education.destroy",s)),q.reload({only:["educations"]})}catch(e){console.error("Delete error:",e)}};X(()=>{}),P(()=>p.educations,s=>{f.value=s||[]});const F=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return(s,e)=>(d(),o("section",null,[t("header",de,[t("div",ne,[t("div",ie,[t("div",ue,[r(c(D),{class:"w-6 h-6 text-white"})]),e[9]||(e[9]=t("div",null,[t("h2",{class:"font-display font-bold text-xl text-gray-800"},"Education History"),t("p",{class:"text-xs text-gray-500"},"Academic qualifications and degrees")],-1))]),r(se,{onClick:U,variant:"primary"},{"icon-left":_(()=>[r(c(M),{class:"w-5 h-5"})]),default:_(()=>[e[10]||(e[10]=x(" Add Education ",-1))]),_:1})])]),Y.value?(d(),o("div",ce,[...e[11]||(e[11]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"},null,-1),t("p",{class:"mt-2 text-sm text-gray-600"},"Loading education records...",-1)])])):!f.value||f.value.length===0?(d(),o("div",me,[r(c(D),{class:"mx-auto h-16 w-16 md:h-20 md:w-20 text-gray-400"}),e[13]||(e[13]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},"No education records",-1)),e[14]||(e[14]=t("p",{class:"mt-1 text-sm text-gray-500"},"Get started by adding your first qualification",-1)),t("div",ge,[r(I,{onClick:U,class:"w-full sm:w-auto py-3 px-6 text-base touch-manipulation justify-center",style:{"min-height":"48px"}},{default:_(()=>[r(c(M),{class:"w-5 h-5 md:w-6 md:h-6 mr-2"}),e[12]||(e[12]=x(" Add Education ",-1))]),_:1})])])):(d(),o("div",pe,[(d(!0),o($,null,j(f.value,a=>(d(),o("div",{key:a.id,class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow"},[e[21]||(e[21]=t("div",{class:"h-1 bg-heritage-500"},null,-1)),t("div",fe,[t("div",ve,[t("div",ye,[t("div",_e,[r(c(D),{class:"w-6 h-6 md:w-7 md:h-7 text-purple-600 dark:text-purple-400 flex-shrink-0"}),t("h3",xe,i(a.degree_name||a.custom_degree||"Degree"),1)]),t("p",be,i(a.institution_name||a.custom_university||"Institution"),1)]),a.is_current?(d(),o("span",he,[...e[15]||(e[15]=[t("span",{class:"w-1.5 h-1.5 bg-green-500 rounded-full mr-1 animate-pulse"},null,-1),x(" Current ",-1)])])):h("",!0)]),t("div",ke,[a.field_of_study?(d(),o("div",we,[e[16]||(e[16]=t("svg",{class:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),t("span",null,i(a.field_of_study),1)])):h("",!0),t("div",Ce,[e[17]||(e[17]=t("svg",{class:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),t("span",null,i(F(a.start_date))+" - "+i(a.is_current?"Present":F(a.end_date)),1)])]),a.result||a.grade?(d(),o("div",Se,[e[18]||(e[18]=t("h4",{class:"text-xs font-semibold text-purple-800 dark:text-purple-300 mb-1 flex items-center gap-1.5"},[t("svg",{class:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]),x(" RESULT ")],-1)),t("p",Ve,i(a.result||a.grade),1)])):h("",!0),a.description?(d(),o("p",De,i(a.description),1)):h("",!0)]),t("div",Ee,[t("div",Ue,[t("button",{onClick:J=>K(a),class:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg font-medium text-sm transition-colors"},[r(c(le),{class:"h-4 w-4"}),e[19]||(e[19]=t("span",null,"Edit",-1))],8,Ae),t("button",{onClick:J=>W(a.id),class:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-white dark:bg-gray-800 border border-red-300 dark:border-red-600 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg font-medium text-sm transition-colors"},[r(c(oe),{class:"h-4 w-4"}),e[20]||(e[20]=t("span",null,"Delete",-1))],8,$e)])])]))),128)),t("button",{onClick:U,class:"w-full inline-flex items-center justify-center gap-2 px-6 py-4 bg-heritage-600 hover:bg-heritage-700 text-white font-semibold rounded-xl shadow-md hover:shadow-lg transition-all duration-200 text-base"},[r(c(M),{class:"h-5 w-5"}),e[22]||(e[22]=t("span",null,"ADD MORE EDUCATION",-1))])])),r(te,{show:k.value,onClose:A},{default:_(()=>[t("div",je,[t("div",Be,[t("div",Me,[r(c(D),{class:"w-7 h-7 md:w-8 md:h-8 text-purple-600 dark:text-purple-400"})]),t("h2",Le,i(v.value?"Edit Education Record":"Add New Education"),1)]),t("form",{class:"space-y-6",onSubmit:Z(Q,["prevent"])},[y.value?(d(),o("div",Fe,[e[23]||(e[23]=t("strong",null,"Possible Duplicate:",-1)),x(" "+i(y.value),1)])):h("",!0),t("div",null,[r(m,{for:"institution_name",value:"Institute / University *"}),r(V,{id:"institution_name",modelValue:l.value.value.institution_name,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.value.institution_name=a),type:"text",class:"mt-1 block w-full py-3 px-4 text-base rounded-lg touch-manipulation",placeholder:"e.g., University of Dhaka, BUET, Harvard University, NSU",required:""},null,8,["modelValue"]),e[24]||(e[24]=t("p",{class:"mt-1 text-xs text-gray-500"}," Enter the full name of your educational institution ",-1)),r(g,{class:"mt-2",message:n.value.institution_name?.[0]},null,8,["message"])]),t("div",Pe,[t("div",null,[r(m,{for:"degree",value:"Degree / Qualification *"}),N(t("select",{id:"degree","onUpdate:modelValue":e[1]||(e[1]=a=>l.value.value.degree=a),class:"mt-1 block w-full py-3 px-4 text-base rounded-lg border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 shadow-sm touch-manipulation",required:""},[e[25]||(e[25]=t("option",{value:""},"Select Degree",-1)),(d(!0),o($,null,j(R.value,a=>(d(),o("option",{key:a.id,value:a.name},i(a.name),9,Ne))),128))],512),[[O,l.value.value.degree]]),e[26]||(e[26]=t("p",{class:"mt-1 text-xs text-gray-500"}," e.g., Bachelor of Science, MBA, Diploma ",-1)),r(g,{class:"mt-2",message:n.value.degree?.[0]},null,8,["message"])]),t("div",null,[r(m,{for:"field_of_study",value:"Field of Study"}),N(t("select",{id:"field_of_study","onUpdate:modelValue":e[2]||(e[2]=a=>l.value.value.field_of_study=a),class:"mt-1 block w-full py-3 px-4 text-base rounded-lg border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 shadow-sm touch-manipulation"},[e[27]||(e[27]=t("option",{value:""}," Select Field of Study ",-1)),(d(!0),o($,null,j(H.value,a=>(d(),o("option",{key:a.id,value:a.name},i(a.name),9,Oe))),128))],512),[[O,l.value.value.field_of_study]]),r(g,{class:"mt-2",message:n.value.field_of_study?.[0]},null,8,["message"])])]),t("div",null,[r(m,{for:"gpa_or_grade",value:"Result / Grade"}),r(V,{id:"gpa_or_grade",modelValue:l.value.value.gpa_or_grade,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.value.gpa_or_grade=a),type:"text",class:"mt-1 block w-full py-3 px-4 text-base rounded-lg touch-manipulation",placeholder:"e.g., CGPA: 3.8/4.0, First Class, 85%"},null,8,["modelValue"]),e[28]||(e[28]=t("p",{class:"mt-1 text-xs text-gray-500"},' Your grade, CGPA, percentage, or class (e.g., "CGPA: 3.8/4.0", "First Class", "85%") ',-1)),r(g,{class:"mt-2",message:n.value.gpa_or_grade?.[0]},null,8,["message"])]),t("div",qe,[t("div",null,[r(m,{for:"start_date",value:"Start Date *"}),r(G,{id:"start_date",modelValue:l.value.value.start_date,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.value.start_date=a),class:"mt-1 block w-full",required:""},null,8,["modelValue"]),r(g,{class:"mt-2",message:n.value.start_date?.[0]},null,8,["message"])]),t("div",null,[r(m,{for:"end_date",value:"End Date"}),r(G,{id:"end_date",modelValue:l.value.value.end_date,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.value.end_date=a),class:"mt-1 block w-full",disabled:l.value.value.currently_studying},null,8,["modelValue","disabled"]),e[29]||(e[29]=t("p",{class:"mt-1 text-xs text-gray-500"}," Leave empty if currently studying ",-1)),r(g,{class:"mt-2",message:n.value.end_date?.[0]},null,8,["message"])])]),t("div",Ie,[r(re,{id:"is_completed",checked:l.value.value.is_completed,"onUpdate:checked":e[6]||(e[6]=a=>l.value.value.is_completed=a)},null,8,["checked"]),r(m,{for:"is_completed",value:"I have completed this education",class:"ml-2 cursor-pointer"})]),t("div",Ge,[t("div",null,[r(m,{for:"country",value:"Country"}),r(V,{id:"country",modelValue:l.value.value.country,"onUpdate:modelValue":e[7]||(e[7]=a=>l.value.value.country=a),type:"text",class:"mt-1 block w-full py-3 px-4 text-base rounded-lg touch-manipulation",placeholder:"Bangladesh, USA, UK, etc."},null,8,["modelValue"]),r(g,{class:"mt-2",message:n.value.country?.[0]},null,8,["message"])]),t("div",null,[r(m,{for:"city",value:"City"}),r(V,{id:"city",modelValue:l.value.value.city,"onUpdate:modelValue":e[8]||(e[8]=a=>l.value.value.city=a),type:"text",class:"mt-1 block w-full py-3 px-4 text-base rounded-lg touch-manipulation",placeholder:"Dhaka, Boston, London, etc."},null,8,["modelValue"]),r(g,{class:"mt-2",message:n.value.city?.[0]},null,8,["message"])])]),t("div",Te,[r(I,{type:"button",onClick:A,class:"w-full sm:w-auto py-3 px-6 text-base touch-manipulation justify-center",style:{"min-height":"48px"}},{default:_(()=>[...e[30]||(e[30]=[x(" Cancel ",-1)])]),_:1}),r(ae,{disabled:C.value,class:"w-full sm:w-auto py-3 px-6 text-base touch-manipulation justify-center",style:{"min-height":"48px"}},{default:_(()=>[C.value?(d(),o("span",Re,"Saving...")):(d(),o("span",He,i(v.value?"Update Education":"Save Education"),1))]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"])]))}};export{ot as default};
