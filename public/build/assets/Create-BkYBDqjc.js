import{r as h,u as D,c as d,f as y,g as i,i as F,j as x,a as t,l as w,k as m,m as T,p as r,n as p,o as l,F as v,q as k,t as u,v as q,x as a,s as V}from"./vendor-DUGSf9MG.js";import{A as I}from"./AdminLayout-CRJ9cJUr.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const R={class:"py-8"},M={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},N={class:"mb-8"},P={class:"flex items-center justify-between"},E={class:"bg-white rounded-lg shadow"},O={class:"p-6 space-y-6"},j={class:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6"},z={class:"flex items-start"},H={class:"ml-3"},L={class:"mt-1 text-sm text-blue-700"},$={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},W={class:"md:col-span-2"},G=["value"],J={key:0,class:"mt-1 text-sm text-red-600"},K={key:1,class:"mt-1 text-sm text-red-600"},Q={key:0,class:"mt-1 text-sm text-red-600"},X={class:"space-y-4"},Y={key:0,class:"mt-1 text-sm text-red-600"},Z={class:"mb-4 p-4 bg-gray-50 rounded-md border border-gray-200"},ee=["value"],te={key:0,class:"text-sm text-gray-500 italic p-4 bg-gray-50 rounded-md"},se={class:"flex items-center justify-between mb-2"},oe={class:"font-semibold text-indigo-700"},ie=["onClick"],re=["onUpdate:modelValue","placeholder"],ne={key:1,class:"mt-1 text-sm text-red-600"},de={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},le={class:"md:col-span-2"},ae={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ue={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},me={class:"space-y-4"},ge={class:"flex items-center"},pe={class:"flex items-center"},ce={class:"flex items-center"},fe={class:"bg-gray-50 px-6 py-4 flex justify-end space-x-3 rounded-b-lg"},be=["disabled"],Ce={__name:"Create",props:{serviceModules:Array,professionCategories:Object,countries:Array,professions:Array},setup(C){const _=C,c=h([]),f=h(""),S=()=>{f.value&&(c.value.push({profession:f.value,documents:""}),f.value="")},U=n=>{c.value.splice(n,1)},o=D({service_module_id:null,country_id:null,country:"",country_code:"",visa_type:"",visa_category:"",required_documents_text:"",profession_specific_docs_text:"",eligibility_criteria:"",processing_time_info:"",validity_info:"",important_notes:"",min_bank_balance:null,bank_statement_months:6,financial_requirements:"",government_fee:null,service_fee:null,processing_fee_standard:null,processing_fee_express:null,processing_fee_urgent:null,processing_days_standard:null,processing_days_express:null,processing_days_urgent:null,interview_required:!1,interview_details:"",biometrics_required:!1,biometrics_details:"",application_method:"",embassy_website:"",application_process:"",is_active:!0}),B=()=>{const n=_.countries.find(e=>e.id===o.country_id);n&&(o.country=n.name,o.country_code=n.code)},A=()=>{const n={};c.value.forEach(s=>{if(s.documents.trim()){let g=s.profession,b=1;for(;n[g];)g=`${s.profession}_${b}`,b++;n[g]=s.documents}});const e={...o.data(),required_documents:o.required_documents_text.split(`
`).map(s=>s.trim()).filter(s=>s.length>0),profession_specific_docs:n};delete e.required_documents_text,delete e.profession_specific_docs_text,o.transform(()=>e).post(route("admin.visa-requirements.store"))};return(n,e)=>(l(),d(v,null,[y(i(F),{title:"Create Visa Requirement"}),y(I,null,{default:x(()=>[t("div",R,[t("div",M,[t("div",N,[t("div",P,[e[19]||(e[19]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"Create Visa Requirement"),t("p",{class:"mt-2 text-gray-600"},"Add a new visa requirement for a country")],-1)),y(i(w),{href:n.route("admin.visa-requirements.index"),class:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition"},{default:x(()=>[...e[18]||(e[18]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),m(" Back to List ",-1)])]),_:1},8,["href"])])]),t("div",E,[t("form",{onSubmit:T(A,["prevent"])},[t("div",O,[t("div",j,[t("div",z,[e[24]||(e[24]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),t("div",H,[e[23]||(e[23]=t("h3",{class:"text-sm font-semibold text-blue-800"},"Using Legacy Document System",-1)),t("p",L,[e[21]||(e[21]=m(" This form uses the old text-based document system. For new requirements, consider using the ",-1)),y(i(w),{href:n.route("admin.document-assignments.index"),class:"font-semibold underline hover:text-blue-900"},{default:x(()=>[...e[20]||(e[20]=[m("Document Hub System",-1)])]),_:1},8,["href"]),e[22]||(e[22]=m(" for better management and standardization with ICAO, ISO, WHO, and UN standards. ",-1))])])])]),t("div",null,[e[30]||(e[30]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Basic Information",-1)),t("div",$,[t("div",W,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Country *",-1)),r(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>i(o).country_id=s),onChange:B,required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[e[25]||(e[25]=t("option",{value:""},"Select a country",-1)),(l(!0),d(v,null,k(_.countries,s=>(l(),d("option",{key:s.id,value:s.id},u(s.label),9,G))),128))],544),[[q,i(o).country_id]]),i(o).errors.country_id?(l(),d("p",J,u(i(o).errors.country_id),1)):p("",!0),i(o).errors.country?(l(),d("p",K,u(i(o).errors.country),1)):p("",!0)]),t("div",null,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Visa Type *",-1)),r(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>i(o).visa_type=s),required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[...e[27]||(e[27]=[t("option",{value:""},"Select Type",-1),t("option",{value:"tourist"},"Tourist Visa",-1),t("option",{value:"business"},"Business Visa",-1),t("option",{value:"student"},"Student Visa",-1),t("option",{value:"work"},"Work Visa",-1),t("option",{value:"medical"},"Medical Visa",-1),t("option",{value:"transit"},"Transit Visa",-1),t("option",{value:"family"},"Family Visa",-1)])],512),[[q,i(o).visa_type]]),i(o).errors.visa_type?(l(),d("p",Q,u(i(o).errors.visa_type),1)):p("",!0)]),t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Visa Category",-1)),r(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>i(o).visa_category=s),type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g., B1/B2"},null,512),[[a,i(o).visa_category]])])])]),t("div",null,[e[37]||(e[37]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Requirements",-1)),t("div",X,[t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Basic Documents (Common for All) * "),t("span",{class:"text-xs text-gray-500"},"One document per line")],-1)),r(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=s=>i(o).required_documents_text=s),required:"",rows:"8",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 font-mono text-sm",placeholder:`Valid passport with Old Passport if available (minimum 6 months validity)
Recent passport-size photograph (white background, without glasses)
Recent bank statement (last 6 months) and bank solvency certificate
TIN Certificate and Income Tax Certificate
Tour itinerary
Air-ticket booking
Hotel booking confirmation
Cover letter to the visa officer`},null,512),[[a,i(o).required_documents_text]]),i(o).errors.required_documents?(l(),d("p",Y,u(i(o).errors.required_documents),1)):p("",!0)]),t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-700 mb-3"},[m(" Profession-Specific Documents * "),t("span",{class:"text-xs text-gray-500"},"Select professions to add their requirements")],-1)),t("div",Z,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Add Documents For:",-1)),r(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>f.value=s),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onChange:S},[e[32]||(e[32]=t("option",{value:""},"Select a profession...",-1)),(l(!0),d(v,null,k(_.professions,s=>(l(),d("option",{key:s,value:s},u(s),9,ee))),128))],544),[[q,f.value]])]),c.value.length===0?(l(),d("div",te," No profession-specific documents added yet. Select a profession above to add documents. ")):p("",!0),(l(!0),d(v,null,k(c.value,(s,g)=>(l(),d("div",{key:g,class:"mb-4 p-4 bg-white border-2 border-indigo-100 rounded-md"},[t("div",se,[t("h4",oe,u(s.profession),1),t("button",{type:"button",onClick:b=>U(g),class:"text-red-600 hover:text-red-800 text-sm"}," Remove ",8,ie)]),r(t("textarea",{"onUpdate:modelValue":b=>s.documents=b,rows:"5",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 font-mono text-sm",placeholder:`Enter ${s.profession} documents (one per line):
NOC from current employer
Employee ID card photo
Salary certificate`},null,8,re),[[a,s.documents]])]))),128)),i(o).errors.profession_specific_docs?(l(),d("p",ne,u(i(o).errors.profession_specific_docs),1)):p("",!0)]),t("div",null,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Eligibility Criteria",-1)),r(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=s=>i(o).eligibility_criteria=s),rows:"3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter eligibility criteria..."},null,512),[[a,i(o).eligibility_criteria]])]),t("div",null,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Important Notes / Special Requirements",-1)),r(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=s=>i(o).important_notes=s),rows:"4",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:`Special notes for all applicants...
Example: If the applicant has visited this country previously, provide visa copy`},null,512),[[a,i(o).important_notes]])])])]),t("div",null,[e[41]||(e[41]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Financial Requirements",-1)),t("div",de,[t("div",null,[e[38]||(e[38]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Minimum Bank Balance",-1)),r(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>i(o).min_bank_balance=s),type:"number",min:"0",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g., 500000"},null,512),[[a,i(o).min_bank_balance,void 0,{number:!0}]])]),t("div",null,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Bank Statement Months",-1)),r(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>i(o).bank_statement_months=s),type:"number",min:"1",max:"12",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g., 6"},null,512),[[a,i(o).bank_statement_months,void 0,{number:!0}]])]),t("div",le,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Financial Requirements Details",-1)),r(t("textarea",{"onUpdate:modelValue":e[9]||(e[9]=s=>i(o).financial_requirements=s),rows:"3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter financial requirements..."},null,512),[[a,i(o).financial_requirements]])])])]),t("div",null,[e[45]||(e[45]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Fees",-1)),t("div",ae,[t("div",null,[e[42]||(e[42]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Government Fee",-1)),r(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>i(o).government_fee=s),type:"number",min:"0",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g., 16000"},null,512),[[a,i(o).government_fee,void 0,{number:!0}]])]),t("div",null,[e[43]||(e[43]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Service Fee",-1)),r(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>i(o).service_fee=s),type:"number",min:"0",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g., 15000"},null,512),[[a,i(o).service_fee,void 0,{number:!0}]])]),t("div",null,[e[44]||(e[44]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Processing Fee (Standard)",-1)),r(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>i(o).processing_fee_standard=s),type:"number",min:"0",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g., 5000"},null,512),[[a,i(o).processing_fee_standard,void 0,{number:!0}]])])])]),t("div",null,[e[48]||(e[48]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Processing Time",-1)),t("div",ue,[t("div",null,[e[46]||(e[46]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Processing Days (Standard)",-1)),r(t("input",{"onUpdate:modelValue":e[13]||(e[13]=s=>i(o).processing_days_standard=s),type:"number",min:"1",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g., 15"},null,512),[[a,i(o).processing_days_standard,void 0,{number:!0}]])]),t("div",null,[e[47]||(e[47]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Processing Time Info",-1)),r(t("input",{"onUpdate:modelValue":e[14]||(e[14]=s=>i(o).processing_time_info=s),type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g., 2-4 weeks"},null,512),[[a,i(o).processing_time_info]])])])]),t("div",null,[e[52]||(e[52]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Additional Information",-1)),t("div",me,[t("div",ge,[r(t("input",{"onUpdate:modelValue":e[15]||(e[15]=s=>i(o).interview_required=s),type:"checkbox",class:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[V,i(o).interview_required]]),e[49]||(e[49]=t("label",{class:"ml-2 text-sm font-medium text-gray-700"},"Interview Required",-1))]),t("div",pe,[r(t("input",{"onUpdate:modelValue":e[16]||(e[16]=s=>i(o).biometrics_required=s),type:"checkbox",class:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[V,i(o).biometrics_required]]),e[50]||(e[50]=t("label",{class:"ml-2 text-sm font-medium text-gray-700"},"Biometrics Required",-1))]),t("div",ce,[r(t("input",{"onUpdate:modelValue":e[17]||(e[17]=s=>i(o).is_active=s),type:"checkbox",class:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[V,i(o).is_active]]),e[51]||(e[51]=t("label",{class:"ml-2 text-sm font-medium text-gray-700"},"Active",-1))])])])]),t("div",fe,[y(i(w),{href:n.route("admin.visa-requirements.index"),class:"px-4 py-2 bg-white border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition"},{default:x(()=>[...e[53]||(e[53]=[m(" Cancel ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:i(o).processing,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition disabled:opacity-50"},u(i(o).processing?"Creating...":"Create Requirement"),9,be)])],32)])])])]),_:1})],64))}};export{Ce as default};
