import{r as b,c as p,f as i,g as a,i as P,j as c,a as e,t as l,z as _,p as k,n as g,D as q,x as D,o as r,v as V,F as A,q as F,y as f,l as u,k as d,A as Q}from"./vendor-DUGSf9MG.js";import{u as B}from"./useBangladeshFormat-DxO2X-Ux.js";import{_ as M}from"./AuthenticatedLayout-DdydbOmd.js";import{H as z,g as I,s as w,E as O,l as T,ah as U,ag as E,j as K}from"./heroicons-BVxQTyTq.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";const L={class:"py-4 sm:py-8"},H={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 space-y-4 sm:space-y-6"},R={class:"grid grid-cols-2 gap-3 sm:gap-5 lg:grid-cols-4"},Y={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-6"},G={class:"flex items-center"},J={class:"flex-shrink-0 p-2 sm:p-3 bg-yellow-100 rounded-lg"},W={class:"ml-2 sm:ml-4 min-w-0"},X={class:"text-lg sm:text-2xl font-bold text-gray-900"},Z={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-6"},ee={class:"flex items-center"},te={class:"flex-shrink-0 p-2 sm:p-3 bg-blue-100 rounded-lg"},se={class:"ml-2 sm:ml-4 min-w-0"},oe={class:"text-lg sm:text-2xl font-bold text-gray-900"},ae={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-6"},le={class:"flex items-center"},ie={class:"flex-shrink-0 p-2 sm:p-3 bg-orange-100 rounded-lg"},re={class:"ml-2 sm:ml-4 min-w-0"},ne={class:"text-lg sm:text-2xl font-bold text-gray-900"},de={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-6"},ce={class:"flex items-center"},ge={class:"flex-shrink-0 p-2 sm:p-3 bg-green-100 rounded-lg"},xe={class:"ml-2 sm:ml-4 min-w-0"},me={class:"text-lg sm:text-2xl font-bold text-gray-900"},pe={class:"bg-white rounded-lg shadow-sm border border-gray-200"},ue={class:"p-4 sm:p-6"},ye={class:"flex flex-col sm:flex-row gap-3 sm:gap-4"},fe={class:"flex rounded-lg border border-gray-300 p-1 bg-gray-50"},he={class:"flex-1 relative"},ve={class:"flex items-center gap-2"},be={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},_e={class:"overflow-x-auto"},we={class:"min-w-full divide-y divide-gray-200"},ke={class:"bg-white divide-y divide-gray-200"},Ae={class:"px-6 py-4 whitespace-nowrap"},Se={class:"flex items-center"},Ce={class:"flex-shrink-0 h-10 w-10 bg-indigo-100 rounded-lg flex items-center justify-center"},je={class:"ml-3"},Ne={class:"text-sm font-medium text-gray-900"},$e={class:"text-xs text-gray-500"},Pe={class:"px-6 py-4"},qe={class:"text-sm font-medium text-gray-900"},De={class:"text-xs text-gray-500"},Ve={class:"px-6 py-4 whitespace-nowrap"},Fe={class:"text-sm font-medium text-gray-900"},Qe={class:"text-xs text-gray-500"},Be={class:"px-6 py-4 whitespace-nowrap"},Me={class:"text-sm text-gray-900"},ze={class:"px-6 py-4 whitespace-nowrap"},Ie={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Oe={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Te={class:"flex items-center justify-end gap-3"},Ue={key:0},Ee={colspan:"7",class:"px-6 py-16 text-center"},Ke={class:"mt-1 text-sm text-gray-500"},Le={key:0,class:"border-t border-gray-200 bg-gray-50 px-4 py-3 sm:px-6"},He={class:"flex flex-1 justify-between sm:hidden"},Re={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},Ye={class:"text-sm text-gray-700"},Ge={class:"font-medium"},Je={class:"font-medium"},We={class:"font-medium"},Xe={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},rt={__name:"Index",props:{applications:Object,stats:Object,filters:Object},setup(s){const h=s,{formatDate:S}=B(),y=b(h.filters?.search||""),v=b(h.filters?.status||"all"),x=b(h.filters?.filter||"available"),C=n=>({pending:"bg-yellow-100 text-yellow-800",quoted:"bg-blue-100 text-blue-800",accepted:"bg-green-100 text-green-800",in_progress:"bg-indigo-100 text-indigo-800",completed:"bg-emerald-100 text-emerald-800",cancelled:"bg-red-100 text-red-800",rejected:"bg-red-100 text-red-800"})[n]||"bg-gray-100 text-gray-800",j=n=>({pending:"Pending",quoted:"Quoted",accepted:"Accepted",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled",rejected:"Rejected"})[n]||n,N=n=>n.status==="pending"&&!n.has_quoted,m=()=>{Q.get(route("agency.applications.index"),{search:y.value,status:v.value,filter:x.value},{preserveState:!0,preserveScroll:!0})},$=()=>{y.value="",m()};return(n,t)=>(r(),p(A,null,[i(a(P),{title:"Service Applications - Agency Portal"}),i(M,null,{header:c(()=>[...t[4]||(t[4]=[e("div",{class:"flex items-center justify-between"},[e("div",null,[e("h2",{class:"text-xl font-semibold text-gray-800"},"Service Applications"),e("p",{class:"text-sm text-gray-600 mt-1"},"Manage and quote on available service applications")])],-1)])]),default:c(()=>[e("div",L,[e("div",H,[e("div",R,[e("div",Y,[e("div",G,[e("div",J,[i(a(z),{class:"h-4 w-4 sm:h-6 sm:w-6 text-yellow-600"})]),e("div",W,[t[5]||(t[5]=e("p",{class:"text-xs sm:text-sm font-medium text-gray-600 truncate"},"Available",-1)),e("p",X,l(s.stats?.pending||0),1)])])]),e("div",Z,[e("div",ee,[e("div",te,[i(a(I),{class:"h-4 w-4 sm:h-6 sm:w-6 text-blue-600"})]),e("div",se,[t[6]||(t[6]=e("p",{class:"text-xs sm:text-sm font-medium text-gray-600 truncate"},"My Applications",-1)),e("p",oe,l(s.stats?.my_applications||0),1)])])]),e("div",ae,[e("div",le,[e("div",ie,[i(a(w),{class:"h-4 w-4 sm:h-6 sm:w-6 text-orange-600"})]),e("div",re,[t[7]||(t[7]=e("p",{class:"text-xs sm:text-sm font-medium text-gray-600 truncate"},"Pending Quotes",-1)),e("p",ne,l(s.stats?.quoted||0),1)])])]),e("div",de,[e("div",ce,[e("div",ge,[i(a(O),{class:"h-4 w-4 sm:h-6 sm:w-6 text-green-600"})]),e("div",xe,[t[8]||(t[8]=e("p",{class:"text-xs sm:text-sm font-medium text-gray-600 truncate"},"Accepted",-1)),e("p",me,l(s.stats?.accepted||0),1)])])])]),e("div",pe,[e("div",ue,[e("div",ye,[e("div",fe,[e("button",{onClick:t[0]||(t[0]=o=>{x.value="available",m()}),class:_(["px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium rounded-md transition-colors flex-1 sm:flex-none",x.value==="available"?"bg-white text-indigo-600 shadow-sm":"text-gray-700 hover:text-gray-900"])}," Available ",2),e("button",{onClick:t[1]||(t[1]=o=>{x.value="my",m()}),class:_(["px-4 py-2 text-sm font-medium rounded-md transition-colors",x.value==="my"?"bg-white text-indigo-600 shadow-sm":"text-gray-700 hover:text-gray-900"])}," My Applications ",2)]),e("div",he,[i(a(T),{class:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),k(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>y.value=o),onKeyup:q(m,["enter"]),type:"text",placeholder:"Search by application number or user name...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},null,544),[[D,y.value]]),y.value?(r(),p("button",{key:0,onClick:$,class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"}," × ")):g("",!0)]),e("div",ve,[i(a(U),{class:"h-5 w-5 text-gray-400"}),k(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>v.value=o),onChange:m,class:"border border-gray-300 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},[...t[9]||(t[9]=[e("option",{value:"all"},"All Status",-1),e("option",{value:"pending"},"Pending",-1),e("option",{value:"quoted"},"Quoted",-1),e("option",{value:"accepted"},"Accepted",-1),e("option",{value:"in_progress"},"In Progress",-1),e("option",{value:"completed"},"Completed",-1),e("option",{value:"cancelled"},"Cancelled",-1)])],544),[[V,v.value]])]),e("button",{onClick:m,class:"px-6 py-2 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors"}," Search ")])])]),e("div",be,[e("div",_e,[e("table",we,[t[13]||(t[13]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Application "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Service "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," User "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Destination "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),e("th",{scope:"col",class:"relative px-6 py-3"},[e("span",{class:"sr-only"},"Actions")])])],-1)),e("tbody",ke,[(r(!0),p(A,null,F(s.applications.data,o=>(r(),p("tr",{key:o.id,class:"hover:bg-gray-50 transition-colors"},[e("td",Ae,[e("div",Se,[e("div",Ce,[i(a(w),{class:"h-5 w-5 text-indigo-600"})]),e("div",je,[e("div",Ne,l(o.application_number),1),e("div",$e," ID: "+l(o.id),1)])])]),e("td",Pe,[e("div",qe,l(o.service_module?.name||"N/A"),1),e("div",De,l(o.service_module?.category||"N/A"),1)]),e("td",Ve,[e("div",Fe,l(o.user?.name||"N/A"),1),e("div",Qe,l(o.user?.email||""),1)]),e("td",Be,[e("div",Me,l(o.tourist_visa?.destination_country?.name||"N/A"),1)]),e("td",ze,[e("span",{class:_(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold",C(o.status)])},l(j(o.status)),3)]),e("td",Ie,l(a(S)(o.created_at)),1),e("td",Oe,[e("div",Te,[i(a(u),{href:n.route("agency.applications.show",o.id),class:"inline-flex items-center gap-x-1.5 text-indigo-600 hover:text-indigo-900 font-medium"},{default:c(()=>[i(a(E),{class:"h-4 w-4"}),t[10]||(t[10]=d(" View ",-1))]),_:1},8,["href"]),N(o)?(r(),f(a(u),{key:0,href:n.route("agency.applications.show",o.id),class:"inline-flex items-center gap-x-1.5 px-3 py-1.5 bg-green-600 text-white rounded-md hover:bg-green-700 font-medium"},{default:c(()=>[i(a(K),{class:"h-4 w-4"}),t[11]||(t[11]=d(" Quote ",-1))]),_:1},8,["href"])):g("",!0)])])]))),128)),!s.applications.data||s.applications.data.length===0?(r(),p("tr",Ue,[e("td",Ee,[i(a(w),{class:"mx-auto h-12 w-12 text-gray-400"}),t[12]||(t[12]=e("h3",{class:"mt-2 text-sm font-semibold text-gray-900"},"No applications found",-1)),e("p",Ke,l(x.value==="available"?"There are no available applications at the moment. Check back later.":"You have not been assigned any applications yet."),1)])])):g("",!0)])])]),s.applications.data&&s.applications.data.length>0?(r(),p("div",Le,[e("div",He,[s.applications.prev_page_url?(r(),f(a(u),{key:0,href:s.applications.prev_page_url,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:c(()=>[...t[14]||(t[14]=[d(" Previous ",-1)])]),_:1},8,["href"])):g("",!0),s.applications.next_page_url?(r(),f(a(u),{key:1,href:s.applications.next_page_url,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:c(()=>[...t[15]||(t[15]=[d(" Next ",-1)])]),_:1},8,["href"])):g("",!0)]),e("div",Re,[e("div",null,[e("p",Ye,[t[16]||(t[16]=d(" Showing ",-1)),e("span",Ge,l(s.applications.from||0),1),t[17]||(t[17]=d(" to ",-1)),e("span",Je,l(s.applications.to||0),1),t[18]||(t[18]=d(" of ",-1)),e("span",We,l(s.applications.total||0),1),t[19]||(t[19]=d(" applications ",-1))])]),e("div",null,[e("nav",Xe,[s.applications.prev_page_url?(r(),f(a(u),{key:0,href:s.applications.prev_page_url,class:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"},{default:c(()=>[...t[20]||(t[20]=[e("span",{class:"sr-only"},"Previous",-1),d(" ← ",-1)])]),_:1},8,["href"])):g("",!0),s.applications.next_page_url?(r(),f(a(u),{key:1,href:s.applications.next_page_url,class:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"},{default:c(()=>[...t[21]||(t[21]=[e("span",{class:"sr-only"},"Next",-1),d(" → ",-1)])]),_:1},8,["href"])):g("",!0)])])])])):g("",!0)])])])]),_:1})],64))}};export{rt as default};
