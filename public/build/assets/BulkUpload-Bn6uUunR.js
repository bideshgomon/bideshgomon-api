import{r as y,u as w,y as C,j as g,f as p,a as t,g as o,i as B,l as b,k as a,m as n,c as u,n as D,z as M,o as i,t as x}from"./vendor-DUGSf9MG.js";import{A as V}from"./AdminLayout-CRJ9cJUr.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const A={class:"py-6"},S={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},I={class:"mb-6"},L={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6"},_={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},j=["href"],T={key:0},U={class:"mt-4 text-sm text-gray-600 dark:text-gray-400"},z={key:1,class:"flex items-center justify-center space-x-3"},F={class:"text-left"},O={class:"text-sm font-medium text-gray-900 dark:text-white"},E={class:"text-xs text-gray-500 dark:text-gray-400"},H={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-400"},$={class:"flex items-center justify-end space-x-3 mt-6"},G=["disabled"],Z={__name:"BulkUpload",setup(N){const f=y(null),d=y(!1),r=w({file:null}),k=s=>{const e=s.target.files[0];e&&(r.file=e)},c=s=>{d.value=!1;const e=s.dataTransfer.files[0];e&&(e.name.endsWith(".csv")||e.name.endsWith(".txt"))&&(r.file=e)},v=s=>{if(s===0)return"0 Bytes";const e=1024,l=["Bytes","KB","MB"],m=Math.floor(Math.log(s)/Math.log(e));return Math.round(s/Math.pow(e,m)*100)/100+" "+l[m]},h=()=>{r.post(route("admin.data.airports-process-upload"),{forceFormData:!0})};return(s,e)=>(i(),C(V,null,{default:g(()=>[p(o(B),{title:"Bulk Upload Airports"}),t("div",A,[t("div",S,[t("div",I,[p(o(b),{href:s.route("admin.data.airports.index"),class:"text-sm text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 mb-2 inline-block"},{default:g(()=>[...e[4]||(e[4]=[a(" â† Back to Airports ",-1)])]),_:1},8,["href"]),e[5]||(e[5]=t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Bulk Upload Airports",-1)),e[6]||(e[6]=t("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},"Upload multiple airports at once using a CSV file",-1))]),e[18]||(e[18]=t("div",{class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6 mb-6"},[t("h3",{class:"text-lg font-semibold text-blue-900 dark:text-blue-300 mb-3"},"ðŸ“‹ Instructions"),t("ol",{class:"list-decimal list-inside space-y-2 text-sm text-blue-800 dark:text-blue-300"},[t("li",null,"Download the CSV template below"),t("li",null,"Fill in your airport data with valid city names and airport codes"),t("li",null,"IATA codes must be exactly 3 uppercase letters (e.g., DAC, DXB, LHR)"),t("li",null,"ICAO codes must be exactly 4 uppercase letters (e.g., VGHS, OMDB, EGLL)"),t("li",null,"Upload the completed CSV file"),t("li",null,"Review any errors and fix them"),t("li",null,"Successfully uploaded airports will appear in the list")])],-1)),t("div",L,[e[9]||(e[9]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"ðŸ“¥ Download Template",-1)),t("div",_,[e[8]||(e[8]=t("div",null,[t("p",{class:"text-sm font-medium text-gray-900 dark:text-white"},"airports_template.csv"),t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"CSV template with sample data")],-1)),t("a",{href:s.route("admin.data.airports-template"),class:"inline-flex items-center px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors"},[...e[7]||(e[7]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),a(" Download Template ",-1)])],8,j)]),e[10]||(e[10]=t("div",{class:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},[t("p",{class:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Required Columns:"),t("div",{class:"flex flex-wrap gap-2"},[t("span",{class:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 rounded text-xs font-mono"},"city_name*"),t("span",{class:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 rounded text-xs font-mono"},"name*"),t("span",{class:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 rounded text-xs font-mono"},"iata_code*")]),t("p",{class:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2 mt-3"},"Optional Columns:"),t("div",{class:"flex flex-wrap gap-2"},[t("span",{class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-xs font-mono"},"name_bn"),t("span",{class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-xs font-mono"},"icao_code"),t("span",{class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-xs font-mono"},"latitude"),t("span",{class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-xs font-mono"},"longitude"),t("span",{class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-xs font-mono"},"is_international"),t("span",{class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-xs font-mono"},"is_active")]),t("div",{class:"mt-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded"},[t("p",{class:"text-xs text-yellow-800 dark:text-yellow-300"},[t("strong",null,"âš ï¸ Important:"),t("br"),a(" â€¢ IATA codes: Exactly 3 uppercase letters (DAC, DXB, LHR)"),t("br"),a(" â€¢ ICAO codes: Exactly 4 uppercase letters (VGHS, OMDB, EGLL)"),t("br"),a(" â€¢ City name must match an existing city in the database"),t("br"),a(" â€¢ Coordinates must be valid decimals (latitude: -90 to 90, longitude: -180 to 180) ")])])],-1))]),t("form",{onSubmit:n(h,["prevent"]),class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6"},[e[17]||(e[17]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"ðŸ“¤ Upload CSV File",-1)),t("div",{onDragover:e[2]||(e[2]=n(l=>d.value=!0,["prevent"])),onDragleave:e[3]||(e[3]=n(l=>d.value=!1,["prevent"])),onDrop:n(c,["prevent"]),class:M([d.value?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-300 dark:border-gray-600","border-2 border-dashed rounded-lg p-12 text-center transition-colors"])},[t("input",{ref_key:"fileInput",ref:f,type:"file",accept:".csv,.txt",onChange:k,class:"hidden"},null,544),o(r).file?(i(),u("div",z,[e[15]||(e[15]=t("svg",{class:"h-10 w-10 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t("div",F,[t("p",O,x(o(r).file.name),1),t("p",E,x(v(o(r).file.size)),1)]),t("button",{type:"button",onClick:e[1]||(e[1]=l=>o(r).file=null),class:"text-red-600 hover:text-red-700 dark:text-red-400"},[...e[14]||(e[14]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])):(i(),u("div",T,[e[12]||(e[12]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),t("p",U,[e[11]||(e[11]=a(" Drag and drop your CSV file here, or ",-1)),t("button",{type:"button",onClick:e[0]||(e[0]=l=>s.$refs.fileInput.click()),class:"text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 font-medium"}," browse ")]),e[13]||(e[13]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"CSV or TXT files only, up to 10MB",-1))]))],34),o(r).errors.file?(i(),u("p",H,x(o(r).errors.file),1)):D("",!0),t("div",$,[p(o(b),{href:s.route("admin.data.airports.index"),class:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors"},{default:g(()=>[...e[16]||(e[16]=[a(" Cancel ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:!o(r).file||o(r).processing,class:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},x(o(r).processing?"Uploading...":"Upload & Process"),9,G)])],32)])])]),_:1}))}};export{Z as default};
