import{r as v,c as r,f as p,g as i,i as M,j as n,a as e,l as g,k as u,p as w,D as N,x as U,o,F as k,q as _,t as d,v as C,n as P,z as B,y as S,A as h}from"./vendor-DUGSf9MG.js";import{A as F}from"./AdminLayout-CRJ9cJUr.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const $={class:"py-6"},z={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},L={class:"flex justify-between items-center mb-6"},O={class:"bg-white shadow-sm rounded-lg p-4 mb-6"},E={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},K={class:"md:col-span-2"},q=["value"],H={class:"bg-white shadow-sm rounded-lg overflow-hidden"},I={key:0,class:"text-center py-12"},Q={key:1,class:"min-w-full divide-y divide-gray-200"},G={class:"bg-white divide-y divide-gray-200"},J={class:"px-6 py-4"},R={class:"flex items-center"},W={class:"text-sm font-medium text-gray-900"},X={class:"text-sm text-gray-500"},Y={class:"px-6 py-4 whitespace-nowrap"},Z={class:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800"},ee={class:"px-6 py-4 whitespace-nowrap"},te={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},se={key:0,class:"block text-xs text-gray-400"},ae={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},le={class:"flex items-center justify-end gap-2"},oe=["onClick","title"],re=["onClick"],de=["onClick"],ie={key:2,class:"px-6 py-4 border-t border-gray-200"},ne={class:"flex items-center justify-between"},ue={key:1,class:"px-4 py-2 bg-gray-100 text-gray-400 rounded-md cursor-not-allowed"},pe={class:"text-sm text-gray-600"},ge={key:3,class:"px-4 py-2 bg-gray-100 text-gray-400 rounded-md cursor-not-allowed"},ke={__name:"Index",props:{pages:Object,filters:Object,pageTypes:Object},setup(a){const f=a,y=v(f.filters.search||""),m=v(f.filters.type||""),b=v(f.filters.status||""),c=()=>{h.get(route("admin.pages.index"),{search:y.value,type:m.value,status:b.value},{preserveState:!0,preserveScroll:!0})},D=()=>{y.value="",m.value="",b.value="",c()},T=l=>{confirm(`Are you sure you want to ${l.is_published?"unpublish":"publish"} this page?`)&&h.post(route("admin.pages.toggle-published",l.id))},V=l=>{confirm("Duplicate this page?")&&h.post(route("admin.pages.duplicate",l.id))},j=l=>{confirm("Are you sure you want to delete this page? This action cannot be undone.")&&h.delete(route("admin.pages.destroy",l.id))},A=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(l,t)=>(o(),r(k,null,[p(i(M),{title:"CMS Pages Management"}),p(F,null,{default:n(()=>[e("div",$,[e("div",z,[e("div",L,[t[4]||(t[4]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"CMS Pages Management"),e("p",{class:"mt-1 text-sm text-gray-600"},"Manage website pages, terms, privacy policy, and more")],-1)),p(i(g),{href:l.route("admin.pages.create"),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},{default:n(()=>[...t[3]||(t[3]=[u(" ðŸ“„ Create New Page ",-1)])]),_:1},8,["href"])]),e("div",O,[e("div",E,[e("div",K,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search",-1)),w(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>y.value=s),type:"text",placeholder:"Search by title, content, or slug...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",onKeyup:N(c,["enter"])},null,544),[[U,y.value]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Page Type",-1)),w(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>m.value=s),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",onChange:c},[t[6]||(t[6]=e("option",{value:""},"All Types",-1)),(o(!0),r(k,null,_(a.pageTypes,(s,x)=>(o(),r("option",{key:x,value:x},d(s),9,q))),128))],544),[[C,m.value]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),w(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>b.value=s),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",onChange:c},[...t[8]||(t[8]=[e("option",{value:""},"All Pages",-1),e("option",{value:"published"},"Published",-1),e("option",{value:"draft"},"Draft",-1)])],544),[[C,b.value]])])]),e("div",{class:"flex gap-2 mt-4"},[e("button",{onClick:c,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Search "),e("button",{onClick:D,class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300"}," Clear ")])]),e("div",H,[a.pages.data.length===0?(o(),r("div",I,[t[11]||(t[11]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t[12]||(t[12]=e("p",{class:"mt-4 text-gray-500"},"No pages found",-1)),p(i(g),{href:l.route("admin.pages.create"),class:"mt-4 inline-block text-blue-600 hover:text-blue-700"},{default:n(()=>[...t[10]||(t[10]=[u(" Create your first page ",-1)])]),_:1},8,["href"])])):(o(),r("table",Q,[t[15]||(t[15]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Page"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Type"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Updated"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",G,[(o(!0),r(k,null,_(a.pages.data,s=>(o(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",J,[e("div",R,[e("div",null,[e("div",W,d(s.title),1),e("div",X," /page/"+d(s.slug),1)])])]),e("td",Y,[e("span",Z,d(a.pageTypes[s.page_type]||s.page_type),1)]),e("td",ee,[e("span",{class:B(["px-2 py-1 text-xs font-semibold rounded-full",s.is_published?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},d(s.is_published?"âœ“ Published":"â—‹ Draft"),3)]),e("td",te,[u(d(A(s.updated_at))+" ",1),s.updated_by?(o(),r("span",se," by "+d(s.updated_by.name),1)):P("",!0)]),e("td",ae,[e("div",le,[p(i(g),{href:l.route("page.show",s.slug),target:"_blank",class:"text-gray-600 hover:text-gray-900",title:"View"},{default:n(()=>[...t[13]||(t[13]=[u(" ðŸ‘ï¸ ",-1)])]),_:1},8,["href"]),p(i(g),{href:l.route("admin.pages.edit",s.id),class:"text-blue-600 hover:text-blue-900",title:"Edit"},{default:n(()=>[...t[14]||(t[14]=[u(" âœï¸ ",-1)])]),_:1},8,["href"]),e("button",{onClick:x=>T(s),class:"text-yellow-600 hover:text-yellow-900",title:s.is_published?"Unpublish":"Publish"},d(s.is_published?"ðŸ“•":"ðŸ“—"),9,oe),e("button",{onClick:x=>V(s),class:"text-green-600 hover:text-green-900",title:"Duplicate"}," ðŸ“‹ ",8,re),e("button",{onClick:x=>j(s),class:"text-red-600 hover:text-red-900",title:"Delete"}," ðŸ—‘ï¸ ",8,de)])])]))),128))])])),a.pages.data.length>0&&(a.pages.prev_page_url||a.pages.next_page_url)?(o(),r("div",ie,[e("div",ne,[a.pages.prev_page_url?(o(),S(i(g),{key:0,href:a.pages.prev_page_url,class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300"},{default:n(()=>[...t[16]||(t[16]=[u(" Previous ",-1)])]),_:1},8,["href"])):(o(),r("span",ue," Previous ")),e("span",pe," Page "+d(a.pages.current_page)+" of "+d(a.pages.last_page),1),a.pages.next_page_url?(o(),S(i(g),{key:2,href:a.pages.next_page_url,class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300"},{default:n(()=>[...t[17]||(t[17]=[u(" Next ",-1)])]),_:1},8,["href"])):(o(),r("span",ge," Next "))])])):P("",!0)])])])]),_:1})],64))}};export{ke as default};
