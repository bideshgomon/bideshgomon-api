import{r as w,E as A,B,c as r,f as a,g as d,i as N,j as u,a as t,l as f,k as g,o as n,n as p,F as x,q as b,t as i,z as k,b as _}from"./vendor-DUGSf9MG.js";import{_ as V}from"./AuthenticatedLayout-DdydbOmd.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";const L={class:"py-6 sm:py-12"},D={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},H={class:"mb-6 sm:mb-8 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},S={key:0,class:"flex flex-col items-center justify-center py-12"},z={key:1,class:"space-y-4"},E={class:"p-4 sm:p-6"},T={class:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4"},F={class:"flex-1 min-w-0"},I={class:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-3"},P={class:"text-lg font-semibold text-gray-900 truncate"},R={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm"},U={class:"flex items-start gap-2"},$={class:"font-medium text-gray-900"},q={class:"flex items-start gap-2"},G={class:"font-medium text-gray-900"},O={class:"flex items-start gap-2"},J={class:"font-medium text-gray-900"},K={class:"flex items-start gap-2"},Q={class:"font-medium text-gray-900"},W={class:"flex items-start gap-2"},X={class:"font-medium text-gray-900"},Y={key:0,class:"text-gray-600"},Z={class:"flex items-start gap-2"},tt={class:"font-medium text-gray-900"},et={class:"flex sm:flex-col gap-2 sm:ml-4"},st=["onClick"],ot={key:0,class:"flex flex-wrap justify-center gap-2 mt-6"},rt=["onClick","disabled","innerHTML"],nt={key:2,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center"},it={class:"mt-6"},xt={__name:"Index",setup(lt){const l=w({data:[],links:[],total:0,current_page:1}),c=w(!1),m=async(o=1)=>{c.value=!0;try{const e=await _.get(route("api.attestation-applications.index"),{params:{page:o}});l.value=e.data}catch(e){console.error("Error fetching applications:",e)}finally{c.value=!1}};A(()=>{m()});const v=B(()=>l.value.data),C={pending:"bg-gray-100 text-gray-800",submitted:"bg-blue-100 text-blue-800",processing:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-600"},j={pending:"Pending",submitted:"Submitted",processing:"Processing",approved:"Approved",rejected:"Rejected",cancelled:"Cancelled"},M=o=>{confirm("Are you sure you want to delete this application?")&&_.delete(route("api.attestation-applications.destroy",o)).then(()=>{m(l.value.current_page)}).catch(e=>{console.error("Error deleting application:",e),alert("Failed to delete application")})},y=o=>o?new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not specified";return(o,e)=>(n(),r(x,null,[a(d(N),{title:"Attestation Applications"}),a(V,null,{default:u(()=>[t("div",L,[t("div",D,[t("div",H,[e[1]||(e[1]=t("div",null,[t("h1",{class:"text-2xl sm:text-3xl font-bold text-gray-900"},"Attestation Applications"),t("p",{class:"mt-2 text-sm text-gray-600"},"Manage your student visa applications for studying abroad")],-1)),a(d(f),{href:o.route("profile.attestation.create"),class:"inline-flex items-center justify-center px-4 py-2 bg-indigo-600 border border-transparent rounded-lg font-semibold text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors w-full sm:w-auto"},{default:u(()=>[...e[0]||(e[0]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),g(" New Application ",-1)])]),_:1},8,["href"])]),c.value?(n(),r("div",S,[...e[2]||(e[2]=[t("div",{class:"animate-spin rounded-full h-10 w-10 border-b-2 border-indigo-600 mb-3"},null,-1),t("p",{class:"text-sm text-gray-500"},"Loading applications...",-1)])])):v.value.length>0?(n(),r("div",z,[(n(!0),r(x,null,b(v.value,s=>(n(),r("div",{key:s.id,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow"},[t("div",E,[t("div",T,[t("div",F,[t("div",I,[t("h3",P,i(s.destination_country?.name||"Unknown Destination"),1),t("span",{class:k(["px-3 py-1 rounded-full text-xs font-medium inline-flex items-center w-fit",C[s.status]||"bg-gray-100 text-gray-800"])},i(j[s.status]||s.status),3)]),t("div",R,[t("div",U,[e[4]||(e[4]=t("svg",{class:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),t("div",null,[e[3]||(e[3]=t("p",{class:"text-gray-500"},"Reference",-1)),t("p",$,i(s.application_reference),1)])]),t("div",q,[e[6]||(e[6]=t("svg",{class:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),t("div",null,[e[5]||(e[5]=t("p",{class:"text-gray-500"},"Education Level",-1)),t("p",G,i(s.education_level||"Not specified"),1)])]),t("div",O,[e[8]||(e[8]=t("svg",{class:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),t("div",null,[e[7]||(e[7]=t("p",{class:"text-gray-500"},"Institution",-1)),t("p",J,i(s.institution_name||"Not specified"),1)])]),t("div",K,[e[10]||(e[10]=t("svg",{class:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),t("div",null,[e[9]||(e[9]=t("p",{class:"text-gray-500"},"Intended Start",-1)),t("p",Q,i(y(s.intended_start_date)),1)])]),t("div",W,[e[12]||(e[12]=t("svg",{class:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("div",null,[e[11]||(e[11]=t("p",{class:"text-gray-500"},"English Test",-1)),t("p",X,[g(i(s.english_test_type||"Not taken")+" ",1),s.english_test_score?(n(),r("span",Y," ("+i(s.english_test_score)+") ",1)):p("",!0)])])]),t("div",Z,[e[14]||(e[14]=t("svg",{class:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("div",null,[e[13]||(e[13]=t("p",{class:"text-gray-500"},"Applied On",-1)),t("p",tt,i(y(s.created_at)),1)])])])]),t("div",et,[a(d(f),{href:o.route("profile.attestation.show",s.id),class:"inline-flex items-center justify-center px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors"},{default:u(()=>[...e[15]||(e[15]=[g(" View Details ",-1)])]),_:1},8,["href"]),s.status==="pending"?(n(),r("button",{key:0,onClick:h=>M(s.id),class:"inline-flex items-center justify-center px-4 py-2 bg-white border border-red-300 rounded-lg text-sm font-medium text-red-700 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors"}," Delete ",8,st)):p("",!0)])])])]))),128)),l.value.links.length>3?(n(),r("div",ot,[(n(!0),r(x,null,b(l.value.links,(s,h)=>(n(),r("button",{key:h,onClick:at=>s.url?m(new o.URL(s.url).searchParams.get("page")):null,disabled:!s.url||s.active,class:k(["px-4 py-2 text-sm font-medium rounded-lg transition-colors",s.active?"bg-indigo-600 text-white":s.url?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"]),innerHTML:s.label},null,10,rt))),128))])):p("",!0)])):(n(),r("div",nt,[e[17]||(e[17]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),e[18]||(e[18]=t("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"No student visa applications yet",-1)),e[19]||(e[19]=t("p",{class:"mt-2 text-sm text-gray-500"},"Get started by creating your first student visa application.",-1)),t("div",it,[a(d(f),{href:o.route("profile.attestation.create"),class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-lg font-semibold text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors"},{default:u(()=>[...e[16]||(e[16]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),g(" Create Attestation Application ",-1)])]),_:1},8,["href"])])]))])])]),_:1})],64))}};export{xt as default};
