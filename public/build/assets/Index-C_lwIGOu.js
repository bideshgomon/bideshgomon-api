import{r as h,c as i,f as n,a as e,g as d,i as P,n as b,j as u,k as c,l as x,p as v,x as j,v as k,F as w,q as C,t as r,y as S,A as V,o as l,H as T,z as D}from"./vendor-DUGSf9MG.js";import{u as z}from"./useBangladeshFormat-DxO2X-Ux.js";import{j as U}from"./heroicons-BVxQTyTq.js";const E={class:"py-12"},I={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},M={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},O={class:"p-6"},$={class:"flex justify-between items-center mb-6"},q={class:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4"},H=["value"],L={class:"overflow-x-auto"},Q={class:"min-w-full divide-y divide-gray-200"},G={class:"bg-white divide-y divide-gray-200"},J={class:"px-6 py-4"},K={class:"flex items-center"},R={class:"text-sm font-medium text-gray-900"},W={class:"text-sm text-gray-500"},X={class:"px-6 py-4 whitespace-nowrap"},Y={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Z={class:"px-6 py-4 whitespace-nowrap"},ee={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},te={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},se={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},oe=["onClick"],re={key:0,class:"mt-6 flex justify-between items-center"},ae={class:"text-sm text-gray-700"},le={class:"flex gap-2"},ce={__name:"Index",props:{posts:Object,categories:Array,filters:Object},setup(o){const p=o,{formatDate:A}=z(),g=h(p.filters.search||""),m=h(p.filters.status||""),f=h(p.filters.category||"");let _=null;const B=()=>{clearTimeout(_),_=setTimeout(()=>{y()},500)},y=()=>{V.get(route("admin.blog.posts.index"),{search:g.value,status:m.value,category:f.value},{preserveState:!0,replace:!0})},F=a=>{confirm(`Are you sure you want to delete "${a.title}"?`)&&V.delete(route("admin.blog.posts.destroy",a.id))},N=a=>a>=1e3?(a/1e3).toFixed(1)+"k":a;return(a,s)=>(l(),i(w,null,[n(d(P),{title:"Blog Posts"}),e("div",E,[e("div",I,[e("div",M,[e("div",O,[e("div",$,[s[4]||(s[4]=e("h2",{class:"text-2xl font-bold text-gray-900"},"Blog Posts",-1)),n(d(x),{href:a.route("admin.blog.posts.create"),class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700"},{default:u(()=>[n(d(U),{class:"h-5 w-5 mr-2"}),s[3]||(s[3]=c(" New Post ",-1))]),_:1},8,["href"])]),e("div",q,[e("div",null,[v(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>g.value=t),type:"text",placeholder:"Search posts...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",onInput:B},null,544),[[j,g.value]])]),e("div",null,[v(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>m.value=t),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",onChange:y},[...s[5]||(s[5]=[e("option",{value:""},"All Status",-1),e("option",{value:"draft"},"Draft",-1),e("option",{value:"published"},"Published",-1),e("option",{value:"scheduled"},"Scheduled",-1)])],544),[[k,m.value]])]),e("div",null,[v(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>f.value=t),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",onChange:y},[s[6]||(s[6]=e("option",{value:""},"All Categories",-1)),(l(!0),i(w,null,C(o.categories,t=>(l(),i("option",{key:t.id,value:t.id},r(t.name),9,H))),128))],544),[[k,f.value]])])]),e("div",L,[e("table",Q,[s[8]||(s[8]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Title"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Category"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Author"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Views"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Published"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",G,[(l(!0),i(w,null,C(o.posts.data,t=>(l(),i("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",J,[e("div",K,[e("div",null,[e("div",R,r(t.title),1),e("div",W,r(t.slug),1)])])]),e("td",X,[e("span",{class:"px-2 py-1 text-xs font-semibold rounded-full",style:T({backgroundColor:t.category.color+"20",color:t.category.color})},r(t.category.name),5)]),e("td",Y,r(t.author.name),1),e("td",Z,[e("span",{class:D(["px-2 py-1 text-xs font-semibold rounded-full",{"bg-green-100 text-green-800":t.status==="published","bg-yellow-100 text-yellow-800":t.status==="draft","bg-blue-100 text-blue-800":t.status==="scheduled"}])},r(t.status),3)]),e("td",ee,r(N(t.views_count)),1),e("td",te,r(t.published_at?d(A)(t.published_at):"-"),1),e("td",se,[n(d(x),{href:a.route("admin.blog.posts.edit",t.id),class:"text-blue-600 hover:text-blue-900 mr-4"},{default:u(()=>[...s[7]||(s[7]=[c(" Edit ",-1)])]),_:1},8,["href"]),e("button",{onClick:de=>F(t),class:"text-red-600 hover:text-red-900"}," Delete ",8,oe)])]))),128))])])]),o.posts.last_page>1?(l(),i("div",re,[e("div",ae," Showing "+r(o.posts.from)+" to "+r(o.posts.to)+" of "+r(o.posts.total)+" posts ",1),e("div",le,[o.posts.prev_page_url?(l(),S(d(x),{key:0,href:o.posts.prev_page_url,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"},{default:u(()=>[...s[9]||(s[9]=[c(" Previous ",-1)])]),_:1},8,["href"])):b("",!0),o.posts.next_page_url?(l(),S(d(x),{key:1,href:o.posts.next_page_url,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"},{default:u(()=>[...s[10]||(s[10]=[c(" Next ",-1)])]),_:1},8,["href"])):b("",!0)])])):b("",!0)])])])])],64))}};export{ce as default};
