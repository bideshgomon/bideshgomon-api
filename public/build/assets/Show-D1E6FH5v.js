import{c as i,f as g,g as u,i as A,j as y,a as t,t as n,z as l,l as f,k as x,n as c,o as a,F as p,q as k,A as b}from"./vendor-DUGSf9MG.js";import{A as _}from"./AdminLayout-CRJ9cJUr.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const C={class:"py-8"},D={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},B={class:"mb-8"},z={class:"flex items-center justify-between"},S={class:"flex items-center space-x-3"},j={class:"text-3xl font-bold text-gray-900"},N={class:"mt-2 text-gray-600"},L={class:"flex space-x-3"},R={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},V={class:"lg:col-span-2 space-y-6"},q={class:"bg-white rounded-lg shadow p-6"},F={class:"grid grid-cols-2 gap-4"},P={class:"font-medium text-gray-900"},T={class:"text-sm text-gray-500"},E={class:"font-medium text-gray-900"},M={class:"font-medium text-gray-900"},$={class:"font-medium text-gray-900"},I={class:"font-medium text-gray-900"},O={key:0,class:"mt-4 p-4 bg-gray-50 rounded-lg"},Q={class:"text-sm text-gray-900"},U={class:"bg-white rounded-lg shadow p-6"},G={class:"grid grid-cols-2 gap-4"},H={class:"font-medium text-gray-900 capitalize"},J={key:0},K={class:"font-medium text-gray-900"},W={key:1},X={class:"font-medium text-gray-900"},Y={class:"bg-white rounded-lg shadow p-6"},Z={class:"space-y-3"},tt={class:"flex items-center"},st={class:"flex items-center"},et={class:"flex items-center"},nt={class:"bg-white rounded-lg shadow p-6"},it={class:"flex items-center justify-between mb-4"},at={class:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full"},ot={key:0,class:"space-y-4"},lt={class:"flex items-start justify-between"},dt={class:"flex-1"},rt={class:"font-medium text-gray-900"},mt={key:0,class:"text-sm text-gray-500 mt-1"},gt={class:"mt-2 flex items-center space-x-4 text-sm"},xt={class:"text-gray-600"},ct={class:"text-gray-600"},ut={key:1,class:"text-center py-8 text-gray-500"},yt={class:"space-y-6"},vt={class:"bg-white rounded-lg shadow p-6"},ft={class:"space-y-4"},pt={class:"text-2xl font-bold text-gray-900"},bt={class:"text-xl font-bold text-green-600"},ht={class:"text-xl font-bold text-red-600"},wt={class:"text-xl font-bold text-yellow-600"},At={class:"pt-4 border-t border-gray-200"},kt={class:"text-xl font-bold text-gray-900"},_t={class:"bg-white rounded-lg shadow p-6"},Ct={class:"space-y-4"},Dt={class:"text-2xl font-bold text-gray-900"},Bt={class:"text-xl font-bold text-indigo-600"},zt={class:"pt-4 border-t border-gray-200"},St={class:"text-xl font-bold text-green-600"},jt={class:"bg-white rounded-lg shadow p-6"},Nt={class:"space-y-2"},$t={__name:"Show",props:{assignment:Object,requirements:Array},setup(e){const r=e,h=d=>new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),m=d=>new Intl.NumberFormat("en-BD").format(d||0),v=()=>{confirm(`Are you sure you want to ${r.assignment.is_active?"deactivate":"activate"} this assignment?`)&&b.post(route("admin.agency-assignments.toggle-active",r.assignment.id),{},{preserveScroll:!0})},w=()=>{confirm(`Are you sure you want to delete this assignment? This will unassign all related visa requirements from ${r.assignment.agency.name}.`)&&b.delete(route("admin.agency-assignments.destroy",r.assignment.id))};return(d,s)=>(a(),i(p,null,[g(u(A),{title:`${e.assignment.agency.name} - ${e.assignment.country}`},null,8,["title"]),g(_,null,{default:y(()=>[t("div",C,[t("div",D,[t("div",B,[t("div",z,[t("div",null,[t("div",S,[t("h1",j,n(e.assignment.agency.name)+" - "+n(e.assignment.country),1),t("span",{class:l(["px-3 py-1 text-sm font-medium rounded-full",e.assignment.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},n(e.assignment.is_active?"Active":"Inactive"),3)]),t("p",N,n(e.assignment.visa_type)+" visa management",1)]),t("div",L,[t("button",{onClick:v,class:l(["px-4 py-2 rounded-md text-white transition",e.assignment.is_active?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"])},n(e.assignment.is_active?"Deactivate":"Activate"),3),g(u(f),{href:d.route("admin.agency-assignments.index"),class:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition"},{default:y(()=>[...s[0]||(s[0]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),x(" Back to List ",-1)])]),_:1},8,["href"])])])]),t("div",R,[t("div",V,[t("div",q,[s[8]||(s[8]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Assignment Details",-1)),t("div",F,[t("div",null,[s[1]||(s[1]=t("p",{class:"text-sm text-gray-600"},"Agency",-1)),t("p",P,n(e.assignment.agency.name),1),t("p",T,n(e.assignment.agency.email),1)]),t("div",null,[s[2]||(s[2]=t("p",{class:"text-sm text-gray-600"},"Assigned By",-1)),t("p",E,n(e.assignment.assigned_by_user?.name||"System"),1)]),t("div",null,[s[3]||(s[3]=t("p",{class:"text-sm text-gray-600"},"Country",-1)),t("p",M,n(e.assignment.country)+" ("+n(e.assignment.country_code)+")",1)]),t("div",null,[s[4]||(s[4]=t("p",{class:"text-sm text-gray-600"},"Visa Type",-1)),t("p",$,n(e.assignment.visa_type),1)]),t("div",null,[s[5]||(s[5]=t("p",{class:"text-sm text-gray-600"},"Assigned Date",-1)),t("p",I,n(h(e.assignment.assigned_at)),1)]),t("div",null,[s[6]||(s[6]=t("p",{class:"text-sm text-gray-600"},"Status",-1)),t("span",{class:l(["px-2 py-1 text-xs font-medium rounded-full",e.assignment.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},n(e.assignment.is_active?"Active":"Inactive"),3)])]),e.assignment.assignment_notes?(a(),i("div",O,[s[7]||(s[7]=t("p",{class:"text-sm text-gray-600 mb-1"},"Notes:",-1)),t("p",Q,n(e.assignment.assignment_notes),1)])):c("",!0)]),t("div",U,[s[12]||(s[12]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Commission Settings",-1)),t("div",G,[t("div",null,[s[9]||(s[9]=t("p",{class:"text-sm text-gray-600"},"Commission Type",-1)),t("p",H,n(e.assignment.commission_type),1)]),e.assignment.commission_type==="percentage"?(a(),i("div",J,[s[10]||(s[10]=t("p",{class:"text-sm text-gray-600"},"Commission Rate",-1)),t("p",K,n(e.assignment.platform_commission_rate)+"%",1)])):c("",!0),e.assignment.commission_type==="fixed"?(a(),i("div",W,[s[11]||(s[11]=t("p",{class:"text-sm text-gray-600"},"Fixed Commission",-1)),t("p",X,"৳"+n(m(e.assignment.fixed_commission_amount)),1)])):c("",!0)])]),t("div",Y,[s[19]||(s[19]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Agency Permissions",-1)),t("div",Z,[t("div",tt,[(a(),i("svg",{class:l(["w-5 h-5 mr-2",e.assignment.can_edit_requirements?"text-green-500":"text-gray-400"]),fill:"currentColor",viewBox:"0 0 20 20"},[...s[13]||(s[13]=[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])],2)),s[14]||(s[14]=t("span",{class:"text-gray-700"},"Can Edit Requirements",-1))]),t("div",st,[(a(),i("svg",{class:l(["w-5 h-5 mr-2",e.assignment.can_set_fees?"text-green-500":"text-gray-400"]),fill:"currentColor",viewBox:"0 0 20 20"},[...s[15]||(s[15]=[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])],2)),s[16]||(s[16]=t("span",{class:"text-gray-700"},"Can Set Fees",-1))]),t("div",et,[(a(),i("svg",{class:l(["w-5 h-5 mr-2",e.assignment.can_process_applications?"text-green-500":"text-gray-400"]),fill:"currentColor",viewBox:"0 0 20 20"},[...s[17]||(s[17]=[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])],2)),s[18]||(s[18]=t("span",{class:"text-gray-700"},"Can Process Applications",-1))])])]),t("div",nt,[t("div",it,[s[20]||(s[20]=t("h2",{class:"text-xl font-semibold text-gray-900"},"Assigned Visa Requirements",-1)),t("span",at,n(e.requirements.length)+" requirements ",1)]),e.requirements.length>0?(a(),i("div",ot,[(a(!0),i(p,null,k(e.requirements,o=>(a(),i("div",{key:o.id,class:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 transition"},[t("div",lt,[t("div",dt,[t("h3",rt,n(o.country)+" - "+n(o.visa_type),1),o.visa_category?(a(),i("p",mt,n(o.visa_category),1)):c("",!0),t("div",gt,[t("span",xt,[s[21]||(s[21]=t("span",{class:"font-medium"},"Documents:",-1)),x(" "+n(o.documents?.length||0),1)]),t("span",ct,[s[22]||(s[22]=t("span",{class:"font-medium"},"Professions:",-1)),x(" "+n(o.profession_requirements?.length||0),1)])])]),g(u(f),{href:d.route("admin.visa-requirements.show",o.id),class:"text-indigo-600 hover:text-indigo-900 text-sm font-medium"},{default:y(()=>[...s[23]||(s[23]=[x(" View Details ",-1)])]),_:1},8,["href"])])]))),128))])):(a(),i("div",ut," No visa requirements assigned yet "))])]),t("div",yt,[t("div",vt,[s[29]||(s[29]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Performance",-1)),t("div",ft,[t("div",null,[s[24]||(s[24]=t("p",{class:"text-sm text-gray-600"},"Total Applications",-1)),t("p",pt,n(e.assignment.total_applications||0),1)]),t("div",null,[s[25]||(s[25]=t("p",{class:"text-sm text-gray-600"},"Approved",-1)),t("p",bt,n(e.assignment.approved_applications||0),1)]),t("div",null,[s[26]||(s[26]=t("p",{class:"text-sm text-gray-600"},"Rejected",-1)),t("p",ht,n(e.assignment.rejected_applications||0),1)]),t("div",null,[s[27]||(s[27]=t("p",{class:"text-sm text-gray-600"},"Pending",-1)),t("p",wt,n(e.assignment.pending_applications||0),1)]),t("div",At,[s[28]||(s[28]=t("p",{class:"text-sm text-gray-600"},"Approval Rate",-1)),t("p",kt,n(e.assignment.approval_rate?e.assignment.approval_rate.toFixed(1):"0.0")+"% ",1)])])]),t("div",_t,[s[33]||(s[33]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Revenue",-1)),t("div",Ct,[t("div",null,[s[30]||(s[30]=t("p",{class:"text-sm text-gray-600"},"Total Revenue",-1)),t("p",Dt,"৳"+n(m(e.assignment.total_revenue||0)),1)]),t("div",null,[s[31]||(s[31]=t("p",{class:"text-sm text-gray-600"},"Platform Earnings",-1)),t("p",Bt,"৳"+n(m(e.assignment.platform_earnings||0)),1)]),t("div",zt,[s[32]||(s[32]=t("p",{class:"text-sm text-gray-600"},"Agency Earnings",-1)),t("p",St," ৳"+n(m((e.assignment.total_revenue||0)-(e.assignment.platform_earnings||0))),1)])])]),t("div",jt,[s[34]||(s[34]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Quick Actions",-1)),t("div",Nt,[t("button",{onClick:v,class:l(["w-full px-4 py-2 rounded-md text-white transition",e.assignment.is_active?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"])},n(e.assignment.is_active?"Deactivate Assignment":"Activate Assignment"),3),t("button",{onClick:w,class:"w-full px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition"}," Delete Assignment ")])])])])])])]),_:1})],64))}};export{$t as default};
