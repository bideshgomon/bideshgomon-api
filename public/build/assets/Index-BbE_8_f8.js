import{y as m,j as n,f as x,a as e,g as a,i as w,c as i,n as b,t as o,l as u,z as f,k as g,o as r,F as y,q as h}from"./vendor-DUGSf9MG.js";import{_}from"./AuthenticatedLayout-DdydbOmd.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";const k={class:"py-8"},q={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},R={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},N={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Q={class:"text-2xl font-bold text-gray-900"},D={class:"bg-yellow-50 rounded-lg shadow-sm border border-yellow-200 p-6"},S={class:"text-2xl font-bold text-yellow-900"},V={class:"bg-purple-50 rounded-lg shadow-sm border border-purple-200 p-6"},j={class:"text-2xl font-bold text-purple-900"},A={class:"bg-green-50 rounded-lg shadow-sm border border-green-200 p-6"},B={class:"text-2xl font-bold text-green-900"},C={class:"flex space-x-4 mb-6 border-b border-gray-200"},M={key:0,class:"space-y-4"},T={class:"flex justify-between items-start"},F={class:"flex-1"},L={class:"flex items-center space-x-3 mb-2"},z={class:"text-lg font-semibold text-gray-900"},H={key:0,class:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium"},P={key:1,class:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium"},E={class:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-4"},O={class:"font-medium text-gray-900"},U={class:"font-medium text-gray-900"},I={class:"font-medium text-gray-900"},Y={class:"font-medium text-gray-900"},$={class:"font-medium text-gray-900"},G={key:0,class:"mt-4 flex flex-wrap gap-2"},J={key:0,class:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs"},K={class:"ml-6 flex flex-col space-y-2"},W={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center"},X={key:2,class:"mt-8"},Z={class:"flex justify-between items-center"},ee={class:"text-sm text-gray-600"},te={class:"flex space-x-2"},ne={__name:"Index",props:{flightRequests:{type:Object,required:!0},filter:{type:String,default:"all"},stats:{type:Object,required:!0}},setup(l){const v=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),c=d=>d.quotes&&d.quotes.length>0;return(d,t)=>(r(),m(_,null,{default:n(()=>[x(a(w),{title:"Agency Flight Requests"}),e("div",k,[e("div",q,[t[17]||(t[17]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"My Assigned Requests"),e("p",{class:"mt-2 text-gray-600"},"Manage and quote on your assigned flight requests")],-1)),e("div",R,[e("div",N,[t[0]||(t[0]=e("div",{class:"text-sm text-gray-500 mb-1"},"Total Assigned",-1)),e("div",Q,o(l.stats.assigned),1)]),e("div",D,[t[1]||(t[1]=e("div",{class:"text-sm text-yellow-700 mb-1"},"Needs Quote",-1)),e("div",S,o(l.stats.needs_quote),1)]),e("div",V,[t[2]||(t[2]=e("div",{class:"text-sm text-purple-700 mb-1"},"Quoted",-1)),e("div",j,o(l.stats.quoted),1)]),e("div",A,[t[3]||(t[3]=e("div",{class:"text-sm text-green-700 mb-1"},"Accepted",-1)),e("div",B,o(l.stats.accepted),1)])]),e("div",C,[x(a(u),{href:d.route("agency.flight-requests.index"),class:f(["pb-3 px-4 font-medium text-sm transition",l.filter==="all"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"])},{default:n(()=>[...t[4]||(t[4]=[g(" All Requests ",-1)])]),_:1},8,["href","class"]),x(a(u),{href:d.route("agency.flight-requests.index",{filter:"needs_quote"}),class:f(["pb-3 px-4 font-medium text-sm transition",l.filter==="needs_quote"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"])},{default:n(()=>[...t[5]||(t[5]=[g(" Needs Quote ",-1)])]),_:1},8,["href","class"]),x(a(u),{href:d.route("agency.flight-requests.index",{filter:"pending"}),class:f(["pb-3 px-4 font-medium text-sm transition",l.filter==="pending"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"])},{default:n(()=>[...t[6]||(t[6]=[g(" Pending ",-1)])]),_:1},8,["href","class"]),x(a(u),{href:d.route("agency.flight-requests.index",{filter:"accepted"}),class:f(["pb-3 px-4 font-medium text-sm transition",l.filter==="accepted"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"])},{default:n(()=>[...t[7]||(t[7]=[g(" Accepted ",-1)])]),_:1},8,["href","class"])]),l.flightRequests.data.length>0?(r(),i("div",M,[(r(!0),i(y,null,h(l.flightRequests.data,s=>(r(),i("div",{key:s.id,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition"},[e("div",T,[e("div",F,[e("div",L,[e("h3",z,o(s.route_name),1),e("span",{class:f([s.status_color,"px-3 py-1 rounded-full text-xs font-medium border"])},o(s.status.replace("_"," ").toUpperCase()),3),c(s)?(r(),i("span",H," Quote Submitted ")):(r(),i("span",P," Needs Quote "))]),e("div",E,[e("div",null,[t[8]||(t[8]=e("div",{class:"text-sm text-gray-500"},"Reference",-1)),e("div",O,o(s.request_reference),1)]),e("div",null,[t[9]||(t[9]=e("div",{class:"text-sm text-gray-500"},"Customer",-1)),e("div",U,o(s.user.name),1)]),e("div",null,[t[10]||(t[10]=e("div",{class:"text-sm text-gray-500"},"Travel Date",-1)),e("div",I,o(v(s.travel_date)),1)]),e("div",null,[t[11]||(t[11]=e("div",{class:"text-sm text-gray-500"},"Passengers",-1)),e("div",Y,o(s.passengers_count),1)]),e("div",null,[t[12]||(t[12]=e("div",{class:"text-sm text-gray-500"},"Budget",-1)),e("div",$,o(s.formatted_budget),1)])]),s.prefer_direct_flights||s.preferred_airlines&&s.preferred_airlines.length>0?(r(),i("div",G,[s.prefer_direct_flights?(r(),i("span",J," Direct Flights Preferred ")):b("",!0),(r(!0),i(y,null,h(s.preferred_airlines,p=>(r(),i("span",{key:p,class:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs"},o(p),1))),128))])):b("",!0)]),e("div",K,[x(a(u),{href:d.route("agency.flight-requests.show",s.id),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm text-center"},{default:n(()=>[...t[13]||(t[13]=[g(" View Details ",-1)])]),_:1},8,["href"]),c(s)?c(s)&&s.quotes[0].status==="pending"?(r(),m(a(u),{key:1,href:d.route("agency.flight-requests.create-quote",s.id),class:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition text-sm text-center"},{default:n(()=>[...t[15]||(t[15]=[g(" Edit Quote ",-1)])]),_:1},8,["href"])):b("",!0):(r(),m(a(u),{key:0,href:d.route("agency.flight-requests.create-quote",s.id),class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition text-sm text-center"},{default:n(()=>[...t[14]||(t[14]=[g(" Submit Quote ",-1)])]),_:1},8,["href"]))])])]))),128))])):(r(),i("div",W,[...t[16]||(t[16]=[e("svg",{class:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No requests assigned yet",-1),e("p",{class:"text-gray-600"},"You'll see flight requests here once an admin assigns them to you",-1)])])),l.flightRequests.data.length>0?(r(),i("div",X,[e("div",Z,[e("div",ee," Showing "+o(l.flightRequests.from)+" to "+o(l.flightRequests.to)+" of "+o(l.flightRequests.total)+" requests ",1),e("div",te,[(r(!0),i(y,null,h(l.flightRequests.links,s=>(r(),m(a(u),{key:s.label,href:s.url,class:f(["px-4 py-2 border rounded-lg text-sm",s.active?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])])):b("",!0)])])]),_:1}))}};export{ne as default};
