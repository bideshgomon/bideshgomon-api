import{I as _,y as p,j as a,f,a as e,g as u,i as V,l as g,k as n,p as h,x as N,v as C,c as d,n as x,o as r,F as H,q as z,t as i,H as T,z as S,A as w}from"./vendor-DUGSf9MG.js";import{A as L}from"./AdminLayout-CRJ9cJUr.js";import{_ as I}from"./Modal-DEylfiwE.js";import"./ApplicationLogo-C-JvH4va.js";import"./SlowConnectionWarning-Bjc2MtGl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CzeJHxXq.js";import"./heroicons-BVxQTyTq.js";import"./DateInput-BOMF3vob.js";import"./useBangladeshFormat-DxO2X-Ux.js";const F={class:"py-12"},O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},P={class:"mb-6 flex justify-between items-center"},U={class:"bg-white rounded-lg shadow-sm p-4 mb-6"},$={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},E={class:"bg-white rounded-lg shadow-sm overflow-hidden"},q={key:0,class:"overflow-x-auto"},G={class:"min-w-full divide-y divide-gray-200"},W={class:"bg-white divide-y divide-gray-200"},Y={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Z={class:"px-6 py-4 whitespace-nowrap"},J={class:"flex items-center"},K={class:"ml-4"},Q={class:"text-sm font-medium text-gray-900"},R={class:"text-sm text-gray-500"},X={class:"px-6 py-4"},ee={class:"text-sm text-gray-900 max-w-xs truncate"},te={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},se={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},oe={class:"px-6 py-4 whitespace-nowrap"},re=["onClick"],ie={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},le={class:"flex justify-end space-x-2"},ae=["onClick"],ne={key:1,class:"text-center py-12"},de={class:"mt-6"},ue={key:2,class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},ce={class:"flex items-center justify-between"},me={class:"flex-1 flex justify-between sm:hidden"},ge={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},xe={class:"text-sm text-gray-700"},pe={class:"font-medium"},fe={class:"font-medium"},ye={class:"font-medium"},ve={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},be={class:"p-6"},he={class:"text-sm text-gray-600 mb-6"},we={key:0,class:"block mt-2 text-red-600 font-medium"},ke={key:1,class:"block mt-2"},_e={class:"flex justify-end space-x-3"},ze={__name:"Index",props:{categories:Object,filters:Object},setup(o){const y=o,c=_({search:y.filters?.search||"",status:y.filters?.status||"",sort:y.filters?.sort||"sort_order"}),l=_({show:!1,category:null});let k=null;const M=()=>{clearTimeout(k),k=setTimeout(()=>{v()},300)},v=()=>{w.get(route("admin.directory-categories.index"),c,{preserveState:!0,preserveScroll:!0})},j=m=>{w.post(route("admin.directory-categories.toggle-active",m.id),{},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{}})},B=m=>{l.category=m,l.show=!0},b=()=>{l.show=!1,l.category=null},A=()=>{w.delete(route("admin.directory-categories.destroy",l.category.id),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{b()}})};return(m,t)=>(r(),p(L,null,{default:a(()=>[f(u(V),{title:"Directory Categories"}),e("div",F,[e("div",O,[e("div",P,[t[4]||(t[4]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900"},"Directory Categories"),e("p",{class:"mt-1 text-sm text-gray-600"},"Manage directory categories for embassies, airlines, training centers, etc.")],-1)),f(u(g),{href:m.route("admin.directory-categories.create"),class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:a(()=>[...t[3]||(t[3]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),n(" Add Category ",-1)])]),_:1},8,["href"])]),e("div",U,[e("div",$,[e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search",-1)),h(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>c.search=s),onInput:M,type:"text",placeholder:"Search categories...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,544),[[N,c.search]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),h(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>c.status=s),onChange:v,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[...t[6]||(t[6]=[e("option",{value:""},"All Status",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)])],544),[[C,c.status]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Sort By",-1)),h(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>c.sort=s),onChange:v,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[...t[8]||(t[8]=[e("option",{value:"sort_order"},"Sort Order",-1),e("option",{value:"name"},"Name (A-Z)",-1),e("option",{value:"created_at"},"Newest First",-1),e("option",{value:"directories_count"},"Most Directories",-1)])],544),[[C,c.sort]])])])]),e("div",E,[o.categories.data.length>0?(r(),d("div",q,[e("table",G,[t[12]||(t[12]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Order "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Category "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Description "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Directories "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",W,[(r(!0),d(H,null,z(o.categories.data,s=>(r(),d("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",Y,i(s.sort_order),1),e("td",Z,[e("div",J,[s.icon?(r(),d("div",{key:0,class:"flex-shrink-0 h-10 w-10 rounded-lg flex items-center justify-center text-white",style:T({backgroundColor:s.color||"#3B82F6"})},[e("i",{class:S([s.icon,"text-xl"])},null,2)],4)):x("",!0),e("div",K,[e("div",Q,i(s.name),1),e("div",R,i(s.name_bn),1)])])]),e("td",X,[e("div",ee,i(s.description),1)]),e("td",te,[e("span",se,i(s.directories_count||0),1)]),e("td",oe,[e("button",{onClick:D=>j(s),class:S(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium cursor-pointer transition-colors",s.is_active?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"])},i(s.is_active?"Active":"Inactive"),11,re)]),e("td",ie,[e("div",le,[f(u(g),{href:m.route("admin.directory-categories.edit",s.id),class:"text-blue-600 hover:text-blue-900",title:"Edit"},{default:a(()=>[...t[10]||(t[10]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["href"]),e("button",{onClick:D=>B(s),class:"text-red-600 hover:text-red-900",title:"Delete"},[...t[11]||(t[11]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,ae)])])]))),128))])])])):(r(),d("div",ne,[t[14]||(t[14]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)),t[15]||(t[15]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No categories found",-1)),t[16]||(t[16]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by creating a new directory category.",-1)),e("div",de,[f(u(g),{href:m.route("admin.directory-categories.create"),class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700"},{default:a(()=>[...t[13]||(t[13]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),n(" Add Category ",-1)])]),_:1},8,["href"])])])),o.categories.data.length>0?(r(),d("div",ue,[e("div",ce,[e("div",me,[o.categories.prev_page_url?(r(),p(u(g),{key:0,href:o.categories.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:a(()=>[...t[17]||(t[17]=[n(" Previous ",-1)])]),_:1},8,["href"])):x("",!0),o.categories.next_page_url?(r(),p(u(g),{key:1,href:o.categories.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:a(()=>[...t[18]||(t[18]=[n(" Next ",-1)])]),_:1},8,["href"])):x("",!0)]),e("div",ge,[e("div",null,[e("p",xe,[t[19]||(t[19]=n(" Showing ",-1)),e("span",pe,i(o.categories.from),1),t[20]||(t[20]=n(" to ",-1)),e("span",fe,i(o.categories.to),1),t[21]||(t[21]=n(" of ",-1)),e("span",ye,i(o.categories.total),1),t[22]||(t[22]=n(" results ",-1))])]),e("div",null,[e("nav",ve,[o.categories.prev_page_url?(r(),p(u(g),{key:0,href:o.categories.prev_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},{default:a(()=>[...t[23]||(t[23]=[e("span",{class:"sr-only"},"Previous",-1),e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])]),_:1},8,["href"])):x("",!0),o.categories.next_page_url?(r(),p(u(g),{key:1,href:o.categories.next_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},{default:a(()=>[...t[24]||(t[24]=[e("span",{class:"sr-only"},"Next",-1),e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])]),_:1},8,["href"])):x("",!0)])])])])])):x("",!0)])])]),f(I,{show:l.show,onClose:b},{default:a(()=>[e("div",be,[t[25]||(t[25]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Delete Category",-1)),e("p",he,[n(' Are you sure you want to delete "'+i(l.category?.name)+'"? ',1),l.category?.directories_count>0?(r(),d("span",we," Warning: This category has "+i(l.category.directories_count)+" directories. You cannot delete it. ",1)):(r(),d("span",ke," This action cannot be undone. "))]),e("div",_e,[e("button",{onClick:b,type:"button",class:"px-4 py-2 bg-white border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"}," Cancel "),l.category?.directories_count===0?(r(),d("button",{key:0,onClick:A,type:"button",class:"px-4 py-2 bg-red-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-red-700"}," Delete ")):x("",!0)])])]),_:1},8,["show"])]),_:1}))}};export{ze as default};
